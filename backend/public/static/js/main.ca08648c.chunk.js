(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{319:function(e,t,n){},455:function(e,t,n){},512:function(e,t,n){},542:function(e,t,n){},548:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},582:function(e,t){},587:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(26),c=n.n(r),i=(n(319),n(88),n(320),n(8)),o=n.n(i),l=n(12),d=n(7),j=n(14),u=n(18),b=n.p+"static/media/loginPage.3890a5c6.svg",p=n(607),h=n(2),x="http://localhost:5000/",f=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=4,fetch("".concat(x).concat(t),s);case 4:return r=e.sent,e.next=7,v(r,n);case 7:return c=e.sent,e.abrupt("return",{status:r.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),r={method:"POST",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)},e.next=4,fetch("".concat(x).concat(t),r);case 4:return c=e.sent,e.next=7,v(c,a);case 7:return i=e.sent,e.abrupt("return",{status:c.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)},e.next=4,fetch("".concat(x).concat(t),r);case 4:return c=e.sent,e.next=7,v(c,a);case 7:return i=e.sent,e.abrupt("return",{status:c.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),s={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=4,fetch("".concat(x).concat(t),s);case 4:return r=e.sent,e.next=7,v(r,n);case 7:return c=e.sent,e.abrupt("return",{status:r.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Not Found"!==t.statusText){e.next=4;break}a={msg:"Invalid Request"},e.next=7;break;case 4:return e.next=6,t.json();case 6:a=e.sent;case 7:return"No Notification"!==n&&(t.ok?(a.msg||n&&""!==n.trim())&&p.a.success({title:null!==(r=a.msg)&&void 0!==r?r:n,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):p.a.error({title:null!==(s=a.msg)&&void 0!==s?s:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y={FETCH_DATA:f,POST_DATA:O,UPDATE_DATA:m,DELETE_DATA:g,getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return a[1]}return!1},ADDRESS:x},w=n(614),_=n(590),S=n(615),C=n(608),k=n(616),T=n(41),A=n(591),I=n(310),N=n(148),E=n(22),P=w.a.Types.StringType,D=w.a.Model({email:P().isRequired("Email is required."),password:P().isRequired("Password is required.")});function B(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var H=Object(E.h)((function(e){var t,n=Object(a.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),{login:!0,users:[],userLogin:"",userPass:"",firstname:"",resetEmail:"",show:!1,lastname:""}),s=Object(d.a)(n,2),r=s[0],c=s[1],i=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return a={email:r.userLogin,password:r.userPass},t.next=4,y.POST_DATA("auth/login",a);case 4:200===(s=t.sent).status&&(sessionStorage.setItem("sprintCompassToken",s.data.access_token),sessionStorage.setItem("sprintCompassUser",s.data.user),sessionStorage.setItem("sprintCompassUserName",s.data.name),sessionStorage.setItem("sprintCompassUserRole",s.data.userRole),sessionStorage.setItem("organization",s.data.organization),c=e.location.state||{from:{pathname:"/projects"}},i=c.from,s.data.firstLogin||!s.data.validGitToken?window.open("/auth","_self"):window.open(i.pathname,"_self"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=(n=r.resetEmail.match(/.{1,29}/g)).join(" "),t.test(String(r.resetEmail).toLowerCase())){e.next=7;break}p.a.error({title:"Invalid Email",description:Object(h.jsxs)("div",{style:{width:220},rows:4,children:[" ",Object(h.jsx)("strong",{children:n})," is not a valid email"]}),placement:"topEnd"}),e.next=11;break;case 7:return e.next=9,y.FETCH_DATA("auth/reset_password/".concat(r.resetEmail));case 9:200===e.sent.status&&p.a.success({title:"Reset Email Sent",description:Object(h.jsxs)("div",{style:{width:220},rows:4,children:[" A reset email has been sent to ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:n}),"."]}),placement:"topEnd"});case 11:c({show:!1,resetEmail:""});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=y.getQueryVariable("msg"),t=y.getQueryVariable("error"),n=y.getQueryVariable("success"),a=window.location.origin+"/login";window.history.pushState({},null,a),e&&(e=decodeURI(e)),t?p.a.error({title:e||"Invalid Url",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):n&&p.a.success({title:"Password Updated Successfully",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"center",height:"900px",alignContent:"center"},children:[Object(h.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(h.jsx)("img",{style:{width:"100%",maxWidth:"750px"},src:b,alt:"homeimg"})}),Object(h.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(h.jsxs)("div",{style:{width:"80%",maxWidth:"450px"},children:[Object(h.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"100px",textAlign:"center"},children:["Welcome to",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{color:"#2D56B3"},children:"Run"}),Object(h.jsx)("span",{style:{color:"#515B60"},children:"time"})]}),r.login&&Object(h.jsxs)(k.a,{className:"loginForm",model:D,onSubmit:function(e){i(e)},children:[Object(h.jsx)(B,{name:"email",label:"Email",onChange:function(e){return c({userLogin:e})}}),Object(h.jsx)(B,{name:"password",label:"Password",type:"password",onChange:function(e){return c({userPass:e})}}),Object(h.jsx)(T.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Sign In"})]}),Object(h.jsx)("div",{style:{color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer",marginTop:20,textAlign:"center"},onClick:function(){return c({show:!0})},children:"Forgot Password?"})]})})]}),Object(h.jsxs)(A.a,{backdrop:!0,size:"xs",show:r.show,onHide:function(){return c({show:!1,resetEmail:""})},children:[Object(h.jsxs)(A.a.Header,{children:[Object(h.jsx)(A.a.Title,{children:"Reset Your Password"}),Object(h.jsx)(I.a,{style:{marginBottom:-10,marginTop:0}})]}),Object(h.jsxs)(A.a.Body,{children:[Object(h.jsx)("p",{children:"Please enter your email to receive a password reset link."}),Object(h.jsx)(N.a,{style:{width:"90%",marginTop:10},name:"resetemail",value:r.resetEmail,onChange:function(e){return c({resetEmail:e})}})]}),Object(h.jsxs)(A.a.Footer,{children:[Object(h.jsx)(I.a,{style:{marginBottom:-5,marginTop:0}}),Object(h.jsx)(T.a,{disabled:""===(null===(t=r.resetEmail)||void 0===t?void 0:t.trim()),appearance:"primary",style:{marginLeft:"25%",width:"50%",marginTop:10},onClick:function(){return u()},children:"Reset Password"}),Object(h.jsx)(T.a,{onClick:function(){return c({show:!1,resetEmail:""})},appearance:"subtle",children:"Cancel"})]})]})]})}));function U(e){var t=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("here"),e.next=3,y.FETCH_DATA("demo","No Notification");case 3:t=e.sent,console.log(t.data),200===t.status&&(sessionStorage.setItem("sprintCompassToken",t.data.access_token),sessionStorage.setItem("sprintCompassUser",t.data.user),sessionStorage.setItem("sprintCompassUserName",t.data.name),sessionStorage.setItem("sprintCompassUserRole",t.data.userRole),sessionStorage.setItem("organization",t.data.organization),window.open("/projects","_self"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t()})),Object(h.jsx)(h.Fragment,{})}var R=n.p+"static/media/passwordRenew.ce6ee0c2.svg",F=n(27),z=n.n(F),W=n(617),L=w.a.Types.StringType;function q(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),j=(i[0],i[1]),u=Object(a.useState)(!0),b=Object(d.a)(u,2),p=b[0],x=b[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return x(!0),n={new_password:s},e.next=5,y.UPDATE_DATA("api/users/reset_password",n,"No Notification");case 5:200===(a=e.sent).status?window.open("/login?success=true","_self"):window.open("/login?error=true&msg=".concat(a.data.msg),"_self");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var O=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.getQueryVariable("token")){e.next=5;break}window.open("/login?error=true","_self"),e.next=18;break;case 5:return sessionStorage.setItem("sprintCompassToken",t),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=9,fetch("".concat(y.ADDRESS,"auth/validate_url"),n);case 9:if(200===(a=e.sent).status){e.next=17;break}return e.next=13,a.json();case 13:s=e.sent,window.open("/login?error=true&msg=".concat(s.msg),"_self"),e.next=18;break;case 17:x(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:[p&&Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),!p&&Object(h.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(h.jsx)("h2",{style:{textAlign:"center"},children:"Reset Your Password"}),Object(h.jsx)("hr",{}),Object(h.jsx)(W.a,{style:{height:"60vh"},children:Object(h.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(h.jsx)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("img",{style:{maxWidth:"550px"},src:R,alt:"passwordrenewimg"})}),Object(h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)(k.a,{model:w.a.Model({newPassword:L().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:L().addRule((function(e){return e===s}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){f(e)},children:[Object(h.jsx)(K,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){r(e)}}),Object(h.jsx)(K,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){j(e)}}),Object(h.jsx)(T.a,{type:"submit",style:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled:p,children:"Update Password"})]})})]})}),Object(h.jsx)("hr",{})]})]})}function K(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}n(454);var M=function(e){var t=e.component,n=Object(u.a)(e,["component"]),s=Object(a.useState)(!1),r=Object(d.a)(s,2),c=r[0],i=r[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)(!0),m=Object(d.a)(O,2),g=m[0],v=m[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("auth/validate","No Notification");case 2:403===(t=e.sent).status?v(!1):307===t.status&&f(!0),i(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?Object(h.jsx)(E.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return g?x?Object(h.jsx)(E.a,{to:{pathname:"/auth",state:{from:e.location}}}):Object(h.jsx)(t,Object(j.a)({},e)):Object(h.jsx)(E.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})};var G=function(e){var t=e.component,n=Object(u.a)(e,["component"]),s=Object(a.useState)(!1),r=Object(d.a)(s,2),c=r[0],i=r[1],b=Object(a.useState)(!0),p=Object(d.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)(!1),m=Object(d.a)(O,2),g=m[0],v=m[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("auth/authrenew_validate","No Notification");case 2:200===(t=e.sent).status?(f(!0),i(!0)):403===t.status?f(!1):(f(!0),i(!1)),v(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),g?Object(h.jsx)(E.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return x?c?Object(h.jsx)(t,Object(j.a)({},e)):Object(h.jsx)(E.a,{to:{pathname:"/projects",state:{from:e.location}}}):Object(h.jsx)(E.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})},Y=n(599),V=n(605),J=n(28),Q=n(600),X=n(626),Z=n(601),$=n(606),ee=n(627),te=n(610),ne=n(277),ae=n(278),se=n(139),re=n(311),ce=n(308),ie=n.p+"static/media/logo.cbf6ae2c.svg",oe=(n(455),function(e){var t=e.active,n=e.onSelect,a=Object(u.a)(e,["active","onSelect"]);return Object(h.jsxs)(V.a,Object(j.a)(Object(j.a)({},a),{},{activeKey:t,onSelect:n,children:[Object(h.jsx)(V.a.Item,{style:{margin:"0 50px"},children:Object(h.jsx)("img",{style:{marginTop:"10px"},src:ie,alt:"logo",onClick:function(){window.open("/projects","_self")}})}),Object(h.jsx)(V.a.Item,{className:"navHeader",eventKey:"projects",children:"Projects"}),Object(h.jsx)(V.a.Item,{className:"navHeader",eventKey:"collaborate",children:"Collaborate"}),Object(h.jsx)(V.a.Item,{className:"navHeader",eventKey:"solutions",children:"Solutions"}),("owner"===sessionStorage.getItem("sprintCompassUserRole")||"admin"===sessionStorage.getItem("sprintCompassUserRole"))&&Object(h.jsx)(V.a.Item,{className:"navHeader",eventKey:"admin",children:"Administrator"}),Object(h.jsxs)($.a,{style:{float:"right",marginRight:"30px"},className:"navHeader",title:sessionStorage.getItem("sprintCompassUserName"),children:[Object(h.jsx)($.a.Item,{onClick:function(){return window.open("/profile","_self")},children:"Profile"}),Object(h.jsx)($.a.Item,{children:"Settings"}),Object(h.jsx)($.a.Item,{onClick:function(){return sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),void window.open("/login","_self")},children:"Log Out"})]})]}))}),le=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;return Object(ne.a)(this,n),(e=t.call(this)).state={active:"home"},e.handleSelect=e.handleSelect.bind(Object(se.a)(e)),e}return Object(ae.a)(n,[{key:"handleSelect",value:function(e){"projects"===e?window.open(window.location.origin+"/projects","_self"):"collaborate"===e?window.open(window.location.origin+"/collaborate","_self"):"admin"===e&&window.open(window.location.origin+"/admin","_self")}},{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/");"projects"===e[1]||"project"===e[1]?this.setState({active:"projects"}):"collaborate"===e[1]?this.setState({active:"collaborate"}):"admin"===e[1]&&this.setState({active:"admin"})}},{key:"render",value:function(){var e=this.state.active;return Object(h.jsx)("div",{children:Object(h.jsx)(oe,{appearance:"subtle",active:e,onSelect:this.handleSelect})})}}]),n}(s.a.Component),de=n(309),je=n(313),ue=n(612),be=n(603),pe=n(620),he=n(618),xe=n(153),fe=n(152),Oe=n.n(fe);function me(e){var t=Object(a.useState)(Oe.a.createEmptyValue()),n=Object(d.a)(t,2),s=n[0],r=n[1];Object(a.useEffect)((function(){r(Oe.a.createValueFromString(e.value,"html"))}),[]);return Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(Oe.a,{value:s,onChange:function(t){r(t),e.setText(t.toString("html"))},toolbarConfig:ge})})}var ge={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_DROPDOWN:[{label:"Text",style:"unstyled"},{label:"Heading",style:"header-four"},{label:"Code",style:"code-block"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]};function ve(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(1),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(0),p=Object(d.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),g=m[0],v=m[1],w=Object(a.useState)(""),_=Object(d.a)(w,2),S=_[0],C=_[1],A=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return a={title:g,description:S,assigned_to:s,estimated_time:"".concat(j,",").concat(x),project_id:e.project_id,sprint_id:e.acitveSprint._id,parent_task:e.parentId},"Subtask Has Been Created",t.next=5,y.POST_DATA("api/userstories",a,"Subtask Has Been Created");case 5:200===t.sent.status&&(r(null),u(1),f(0),v(""),C(""),e.close());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(k.a,{className:"loginForm",model:we,style:{margin:"auto"},onSubmit:function(e){A(e)},children:[Object(h.jsx)(_e,{name:"title",label:"Title",value:g,onChange:function(e){return v(e)}}),Object(h.jsx)(me,{setText:function(e){return C(e)},value:S}),Object(h.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(h.jsx)(be.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:400},value:s,onChange:function(e){return r(e)}}),Object(h.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(h.jsx)(he.a,{style:{width:250,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:j,onChange:function(e){return u(e)}}),Object(h.jsx)(he.a,{postfix:"Minute(s)",style:{width:250},min:0,max:59,value:x,onChange:function(e){return f(e)}})]}),Object(h.jsx)(T.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===g||""===S,children:"Submit"})]})}var ye=w.a.Types.StringType,we=w.a.Model({title:ye().isRequired("Title is required.")});function _e(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}function Se(e){var t;return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(te.a,{style:{height:null!==(t=e.height)&&void 0!==t?t:"calc(100vh - 97px)"},children:[Object(h.jsx)(te.a.Item,{style:{margin:"auto"},colspan:12,children:Object(h.jsx)("img",{style:{width:"80%",display:"block",margin:"auto"},src:e.image,alt:""})}),Object(h.jsx)(te.a.Item,{colspan:12,style:{margin:"auto",textAlign:"center",fontSize:"22px"},children:e.msg})]})})})}var Ce=n.p+"static/media/noactivesprint.5cfe79e4.svg",ke=n.p+"static/media/gitBranch.b53578eb.svg",Te=n.p+"static/media/pullrequest.8d345ce7.svg",Ae=n(619),Ie=n(611),Ne=(n(512),n(290)),Ee=n.n(Ne);var Pe=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(e.userStory.identifier),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(null),x=Object(d.a)(b,2),f=x[0],O=x[1],m=Object(a.useState)([]),g=Object(d.a)(m,2),v=g[0],w=g[1],_=Object(a.useState)(""),S=Object(d.a)(_,2),C=S[0],k=S[1],A=Object(a.useRef)(null),I=Object(a.useState)([]),E=Object(d.a)(I,2),P=E[0],D=E[1],B=Object(a.useState)(null),H=Object(d.a)(B,2),U=H[0],R=H[1],F=Object(a.useState)([]),z=Object(d.a)(F,2),W=z[0],L=z[1],q=function(){var e;null===(e=A.current)||void 0===e||e.scrollIntoView(!0)},K=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({branchName:j,repo:e.project.repo,sha:f,userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/git/createBranch",a);case 4:if(200!==(s=t.sent).status){t.next=11;break}r(0),e.refresh(),p.a.success({title:"Branch Has Been Created",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.next=15;break;case 11:return t.next=13,s.json();case 13:c=t.sent,p.a.error({title:c.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/userstories/comments/".concat(e.userStory._id));case 2:n=t.sent,w(n.data.comments);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/git/getCommitsByBranch?repo=".concat(e.project.repo,"&sha=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&(a=n.data.commits.data)&&(s=a.findIndex((function(t){return t.sha===e.userStory.git_branch_sha})),D(a.slice(0,s)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/git/getPullRequestByBranch?repo=".concat(e.project.repo,"&head=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&L(n.data.pullrequests.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({body:C,user:sessionStorage.getItem("sprintCompassUser"),userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/userstories/addComment",a);case 4:return s=t.sent,t.next=7,s.json();case 7:r=t.sent,200===s.status?(w(r.comments),k("")):p.a.error({title:null!==(c=r.msg)&&void 0!==c?c:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){document.querySelectorAll(".us__tabs>div").forEach((function(e){var t="#e6e6e6";s===Number(e.getAttribute("data-index"))&&(t="#193A5A"),e.style["border-bottom"]="3px solid ".concat(t)})),0===s&&q()}),[s,P]),Object(a.useEffect)((function(){M(),e.userStory.git_branch_sha&&(G(),Y())}),[]),Object(a.useEffect)((function(){q()}),[v]),Object(h.jsxs)("section",{style:{height:"100%",background:"#f9f9f9"},children:[Object(h.jsxs)("section",{className:"us__tabs",children:[Object(h.jsx)("div",{"data-index":"0",onClick:function(){return r(0)},children:"Comments"}),!e.userStory.git_branch&&Object(h.jsx)("div",{"data-index":"1",onClick:function(){return r(1)},children:"Github Branch"}),Object(h.jsx)("div",{"data-index":"2",onClick:function(){return r(2)},children:"History"}),Object(h.jsx)("div",{"data-index":"3",onClick:function(){return r(3)},children:"Commits"}),e.userStory.git_branch&&Object(h.jsx)("div",{"data-index":"4",onClick:function(){return r(4)},children:"Pull Request"})]}),0===s&&Object(h.jsxs)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:[Object(h.jsxs)("section",{className:"scrollable",style:{height:"86%",overflowY:"auto",overflowX:"hidden"},children:[0===v.length&&Object(h.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No comments found"}),v.map((function(e,t){return Object(h.jsxs)("section",{style:{display:"flex",width:"100%",margin:"10px 0",borderBottom:"1px solid #e6e6e6",padding:"15px"},ref:v.length-1===t?A:null,children:[Object(h.jsx)("div",{style:{width:"100px"},children:Object(h.jsx)("img",{style:{width:"55px",margin:"auto",display:"block",borderRadius:"50%"},src:e.user.git_avatar,alt:"avatar"})}),Object(h.jsxs)("div",{style:{width:"80%"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{style:{fontWeight:600,marginRight:"10px"},children:"".concat(e.user.firstname," ").concat(e.user.lastname)}),Object(h.jsx)("span",{style:{float:"right"},children:e.created_at})]}),Object(h.jsx)("div",{style:{marginTop:"5px"},children:e.body})]})]},t)})),Object(h.jsx)("div",{ref:A})]}),Object(h.jsxs)("section",{style:{height:"14%"},children:[Object(h.jsx)(N.a,{onChange:function(e){return k(e)},componentClass:"textarea",value:C,rows:3,placeholder:"Add a Comment",onPressEnter:function(){return V()}}),Object(h.jsx)(T.a,{onClick:function(){return V()},disabled:!C,appearance:"primary",style:{width:"100px",marginTop:"20px",float:"right"},children:"Post"})]})]}),1===s&&Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignContent:"center",height:"90%",flexWrap:"wrap",overflowY:"hidden"},children:[0===e.gitBranches.length&&Object(h.jsx)(Ae.a,{type:"info",title:"Empty Repository",description:Object(h.jsx)("p",{children:"You cannot create branch for an empty repo "})}),!e.userStory.git_branch&&e.gitBranches.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",width:"100%",marginBottom:"100px"},children:"Create Github Branch"}),Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(h.jsx)("section",{style:{flex:1},children:Object(h.jsx)("img",{style:{width:"80%",margin:"auto",display:"block"},src:ke,alt:"gitbranch"})}),Object(h.jsxs)("section",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{margin:"5px"},children:"Branch Out From"}),Object(h.jsx)(be.a,{data:e.gitBranches.map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Branch From",onChange:function(t){O(t?e.gitBranches.find((function(e){return e.name===t})).commit.sha:null)}})]}),Object(h.jsxs)("div",{style:{marginTop:"15px"},children:[Object(h.jsx)("div",{style:{margin:"5px"},children:"Branch Name"}),Object(h.jsx)(N.a,{style:{width:224},placeholder:"Name",onChange:function(e){return u(e)},value:j})]}),Object(h.jsx)(T.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:""===j||!f,onClick:function(){return K()},children:"Create Branch"})]})]})]})]}),2===s&&Object(h.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px",overflowY:"auto",overflowX:"hidden"},className:"scrollable",children:Object(h.jsx)(Ie.a,{endless:!0,className:"custom-timeline",children:e.history.map((function(e){return Object(h.jsxs)(Ie.a.Item,{dot:Object(h.jsx)(J.a,{icon:"check",size:"2x",style:{background:"#1A3B5A",color:"#fff"}}),children:[Object(h.jsx)("p",{children:e.timestamp}),Object(h.jsx)("p",{children:e.user}),Object(h.jsx)("p",{style:{fontWeight:600},children:e.content})]})}))})}),3===s&&Object(h.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:Object(h.jsxs)("section",{className:"scrollable",style:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:[0===P.length&&Object(h.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No commits found"}),P.map((function(e,t){return Object(h.jsxs)("section",{style:{padding:"15px 0",display:"flex",width:"100%",borderBottom:"1px solid #e6e6e6"},children:[Object(h.jsx)("div",{style:{flex:1},children:Object(h.jsx)("img",{style:{width:"60px",margin:"auto",display:"block",borderRadius:"50%"},src:e.author.avatar_url,alt:"avatar"})}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("span",{style:{fontWeight:600},children:"".concat(e.committer.login)})}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.commit.message}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Ee()(e.commit.author.date).local().format("YYYY/MM/DD HH:mm:ss")}),Object(h.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("span",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))]})}),4===s&&Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[Object(h.jsx)("section",{style:{width:"100%",height:"40vh",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:Object(h.jsx)("img",{style:{height:"80%"},src:Te,alt:"gitbranch"})}),P.length>0?Object(h.jsxs)(h.Fragment,{children:[W.length>0&&Object(h.jsx)("div",{style:{marginTop:"30px",width:"100%"},children:W.map((function(e,t){return Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90%",margin:"auto",textAlign:"left",borderTop:"1px solid #e6e6e6",borderBottom:"1px solid #e6e6e6",padding:"20px 0"},children:[Object(h.jsx)("section",{style:{flex:".5"},children:Object(h.jsx)("img",{src:e.user.avatar_url,alt:"git_avatar",style:{width:"50px",borderRadius:"50%"}})}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Created By"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.user.login})]}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.title})]}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request to"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.base.ref})]}),Object(h.jsxs)("section",{style:{flex:".75"},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Status"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.state})]}),Object(h.jsx)("section",{style:{flex:".5"},children:Object(h.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))}),0===W.length&&Object(h.jsxs)("section",{style:{width:"100%",padding:"30px",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"5px 0"},children:"Base Branch"}),Object(h.jsx)(be.a,{data:e.gitBranches.filter((function(t){return t.name!==e.userStory.git_branch})).map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Base Branch",onChange:function(e){return R(e)}})]}),Object(h.jsx)(T.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:!U,onClick:function(){var t=sessionStorage.getItem("organization"),n=e.project.repo,a=e.userStory.git_branch;window.open("https://github.com/".concat(t,"/").concat(n,"/compare/").concat(U,"...").concat(a),"_blank")},children:"Create Pull Request"})]})]}):Object(h.jsx)("div",{children:"No commits found to make a pull request"})]})]})},De=["To Do","In Progress","Testing","Done"],Be=["#01949A","#2196F3","#134069","#4CAF50"];var He=Object(E.h)((function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)([]),i=Object(d.a)(c,2),u=i[0],b=i[1],p=Object(a.useState)(!1),x=Object(d.a)(p,2),f=x[0],O=x[1],m=Object(a.useState)(null),g=Object(d.a)(m,2),v=g[0],w=g[1],_=Object(a.useState)(""),S=Object(d.a)(_,2),C=S[0],k=S[1],I=Object(a.useState)(""),E=Object(d.a)(I,2),P=E[0],D=E[1],B=Object(a.useState)(""),H=Object(d.a)(B,2),U=H[0],R=H[1],F=Object(a.useState)(null),W=Object(d.a)(F,2),L=W[0],q=W[1],K=Object(a.useState)(null),M=Object(d.a)(K,2),G=M[0],Y=M[1],V=Object(a.useState)(null),Q=Object(d.a)(V,2),X=Q[0],Z=Q[1],$=Object(a.useState)(null),ee=Object(d.a)($,2),ne=ee[0],ae=ee[1],se=Object(a.useState)(null),re=Object(d.a)(se,2),ce=re[0],ie=re[1],oe=Object(a.useState)(null),le=Object(d.a)(oe,2),fe=le[0],Oe=le[1],ge=Object(a.useState)([]),ye=Object(d.a)(ge,2),we=ye[0],_e=ye[1],ke=Object(a.useState)(!1),Te=Object(d.a)(ke,2),Ae=Te[0],Ie=Te[1],Ne=Object(a.useState)([]),Ee=Object(d.a)(Ne,2),He=Ee[0],Ue=Ee[1],Re=function(e){var t=[];t.push(e.filter((function(e){return"To Do"===e.state}))),t.push(e.filter((function(e){return"In Progress"===e.state}))),t.push(e.filter((function(e){return"Testing"===e.state}))),t.push(e.filter((function(e){return"Done"===e.state}))),t.forEach((function(e){e.forEach((function(e){e.parent_task&&(e.identifier="".concat(e.parent_task.identifier,"/").concat(e.identifier))})),e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),r(t)},Fe=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t,state:n},e.next=3,y.UPDATE_DATA("api/userstories",a);case 3:200===e.sent.status&&ze();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/userstories/bySprint/".concat(e.sprint._id));case 2:200===(n=t.sent).status&&(a=n.data,Re(a.userstories),b(a.userstories),v&&w(a.userstories.find((function(e){return e._id===v._id}))));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),We=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={},P!==v.title&&(s.title=P),U!==v.description&&(s.description=U),L!==(null===(t=v.assigned_to)||void 0===t?void 0:t._id)&&(s.assigned_to=L),G===v.estimated_time.split(",")[0]&&X===v.estimated_time.split(",")[1]||(s.estimated_time="".concat(G,",").concat(X)),ne===(null===(n=v.time_spent)||void 0===n?void 0:n.split(",")[0])&&ce===(null===(a=v.time_spent)||void 0===a?void 0:a.split(",")[1])||"0"===ne&&"0"===ce||(s.time_spent="".concat(ne,",").concat(ce)),fe&&(s.moveto_backlog=!0),0!==Object.keys(s).length){e.next=10;break}return O(!1),e.abrupt("return");case 10:return s._id=v._id,"User Story Has Been Updated",r=s,e.next=15,y.UPDATE_DATA("api/userstories",r,"User Story Has Been Updated");case 15:O(!1),ze();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.map((function(t){var n="";if("user_story"===t.attribute)n="Created the task";else if("description"===t.attribute)n="Updated Description";else if("state"===t.attribute)n='Changed state from "'.concat(t.old_value,'" to  "').concat(t.new_value,'"');else if("title"===t.attribute)n='Updated Title to  "'.concat(t.new_value,'"');else if("assigned_to"===t.attribute){var a=e.collaborators.find((function(e){return e._id===t.new_value}));n=a?"Changed Assiginee to ".concat(a.firstname," ").concat(a.lastname):"Unassigned"}else"estimated_time"===t.attribute?n="Re-estimated the task to be completed in ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"time_spent"===t.attribute?n="Increased the time stpent to ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"state"===t.attribute?n="Changed State from ".concat(t.old_value," to ").concat(t.new_value):"moveto_backlog"===t.attribute?n="Moved task to backlog.":"sprint_id"===t.attribute&&(n="Moved task to sprint ".concat(t.new_value));var s=e.collaborators.find((function(e){return e._id===t.updated_by}));return{timestamp:t.timestamp,content:n,user:"".concat(null===s||void 0===s?void 0:s.firstname," ").concat(null===s||void 0===s?void 0:s.lastname)}})),_e(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qe=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/git/getAllBranches/".concat(e.project.repo));case 2:200===(n=t.sent).status&&(a=n.data.branches.data,Ue(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){ze(),qe()}),[]),Object(h.jsxs)("div",{children:[s?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"100px 0 10px 0"},children:Object(h.jsx)(xe.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n){var a=+t.droppableId,c=+n.droppableId;if(a!==c){Fe(e.draggableId,De[n.droppableId]);var i=function(e,t,n,a){var s=Array.from(e),r=Array.from(t),c=s.splice(n.index,1),i=Object(d.a)(c,1)[0];r.splice(a.index,0,i);var o={};return o[n.droppableId]=s,o[a.droppableId]=r,o}(s[a],s[c],t,n),o=Object(de.a)(s);o[a]=i[a],o[c]=i[c],o.forEach((function(e){e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),r(o)}}},children:s.map((function(t,n){return Object(h.jsx)(xe.c,{droppableId:"".concat(n),children:function(a,s){return Object(h.jsxs)("div",Object(j.a)(Object(j.a)({ref:a.innerRef,style:(r=u.length,{padding:8,width:350,minHeight:0===r?"100px":"75vh",margin:"0 10px"})},a.droppableProps),{},{children:[Object(h.jsxs)("div",{style:{padding:"20px",margin:"10px 0",color:"#575757",fontWeight:"bold",fontSize:"18px",borderTop:"7px solid ".concat(Be[n]),position:"relative"},children:[0===n&&Object(h.jsxs)("div",{style:{position:"absolute",fontSize:"23px",fontWeight:"700",left:0,top:-80},children:["Sprint - ",e.sprint.name]}),De[n]]}),t.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)(xe.b,{draggableId:String(e._id),index:t,children:function(t,a){return Object(h.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(s=a.isDragging,r=t.draggableProps.style,c=!!e.parent_task,Object(j.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,c?"px 20px":"px 0"),borderRadius:"10px",background:s?"#f5f5f5":"#ffffff",border:"1px solid #e6e6e6",cursor:"pointer",boxShadow:"0 2px 5px #e6e6e6"},r)),onClick:function(){var t,n,a;O(!0),w(e),Le(e.history),k(e.identifier),D(e.title),R(e.description),q(null===(t=e.assigned_to)||void 0===t?void 0:t._id),Y(null===(n=e.estimated_time)||void 0===n?void 0:n.split(",")[0]),Z(null===(a=e.estimated_time)||void 0===a?void 0:a.split(",")[1]),ae(e.time_spent?e.time_spent.split(",")[0]:"0"),ie(e.time_spent?e.time_spent.split(",")[1]:"0"),Oe(!1)},children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)(je.a,{style:{color:"#f5f5f5",fontWeight:"600",marginBottom:"10px",background:Be[n]},children:e.title}),Object(h.jsx)(je.a,{style:{fontWeight:"600",marginBottom:"10px",background:"#ececec"},children:e.identifier})]}),Object(h.jsxs)("div",{style:{marginTop:"15px"},children:[Object(h.jsx)(J.a,{icon:"user-circle-o",style:{marginRight:"5px"}}),e.assigned_to?"".concat(e.assigned_to.firstname," ").concat(e.assigned_to.lastname):"Unassigned"]})]})}));var s,r,c}},e._id)},t)})),a.placeholder]}));var r}},n)}))})}),0===u.length&&Object(h.jsx)(Se,{msg:"No User Stories Found",image:Ce,height:"300px"})]}):Object(h.jsx)("div",{style:{height:"80vh"},children:Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),Object(h.jsxs)(ue.a,{show:f,onHide:function(){O(!1),w(null)},style:{width:"100%"},children:[Object(h.jsx)(ue.a.Header,{}),Object(h.jsx)(ue.a.Body,{children:!!v&&Object(h.jsxs)("div",{style:{display:"flex",height:"100%",justifyContent:"space-between"},children:[Object(h.jsxs)("div",{style:{width:"40%",display:"flex",justifyContent:"start",height:"100%",flexWrap:"wrap",marginLeft:"30px",textAlign:"left"},children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",width:"100%"},children:[Object(h.jsx)(J.a,{icon:"task",size:"2x"}),Object(h.jsx)("h3",{style:{color:"#193A5A",marginLeft:"15px"},children:C}),Object(h.jsx)(T.a,{appearance:"default",style:{background:"#e6e6e6",marginLeft:"auto"},onClick:function(){return Ie(!0)},children:"Create Subtask"})]}),Object(h.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Title"}),Object(h.jsx)(N.a,{style:{fontSize:"20px",width:"100%",fontWeight:"bold"},value:P,onChange:function(e){return D(e)}}),Object(h.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Description"}),Object(h.jsx)(me,{setText:function(e){return R(e)},value:U}),Object(h.jsxs)(te.a,{style:{width:"100%",marginTop:"50px"},children:[Object(h.jsxs)(te.a.Item,{colspan:12,children:[Object(h.jsx)("p",{style:{width:"100%",margin:"0 0 5px 15px",fontWeight:"600"},children:"Assigned To"}),Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(be.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{padding:"5px 0",maxWidth:"310px",marginLeft:"12px"},value:L,onChange:function(e){return q(e)}})}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Github Branch"}),Object(h.jsx)("div",{style:{margin:"0 15px"},children:v.git_branch}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Move to Backlog"}),Object(h.jsx)(pe.a,{style:{margin:"0 12px"},checkedChildren:Object(h.jsx)(J.a,{icon:"check"}),unCheckedChildren:Object(h.jsx)(J.a,{icon:"close"}),value:fe,onChange:function(e){return Oe(e)}})]}),Object(h.jsxs)(te.a.Item,{colspan:12,children:[Object(h.jsx)("p",{style:{width:"100%",margin:"0px 0 5px 15px",fontWeight:"600"},children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(h.jsx)(he.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:null!==G&&void 0!==G?G:0,onChange:function(e){return Y(e)}}),Object(h.jsx)(he.a,{postfix:"Minute(s)",style:{width:150},min:0,max:59,value:null!==X&&void 0!==X?X:0,onChange:function(e){return Z(e)}})]}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Time Spent"}),Object(h.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(h.jsx)(he.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:null!==ne&&void 0!==ne?ne:0,onChange:function(e){return ae(e)}}),Object(h.jsx)(he.a,{postfix:"Minute(s)",style:{width:150},min:0,max:59,value:null!==ce&&void 0!==ce?ce:0,onChange:function(e){return ie(e)}})]})]})]}),Object(h.jsx)("div",{style:{height:"1px",width:"100%",background:"#e6e6e6",margin:"30px 0"}}),Object(h.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(h.jsx)(T.a,{appearance:"primary",style:{width:"250px"},onClick:function(){return We()},children:"Update User Story"})})]}),Object(h.jsx)("div",{style:{width:"55%",borderLeft:"1px solid #e6e6e6"},children:Object(h.jsx)(Pe,{gitBranches:He,project:e.project,userStory:v,refresh:function(){return ze()},history:we})})]})})]}),Object(h.jsxs)(A.a,{show:Ae,overflowY:!1,onHide:function(){return Ie(!1)},children:[Object(h.jsx)(A.a.Header,{children:Object(h.jsx)(A.a.Title,{children:"Create Subtask"})}),Object(h.jsx)(A.a.Body,{children:Object(h.jsx)(ve,{project_id:e.project_id,acitveSprint:e.sprint,collaborators:e.collaborators,parentId:null===v||void 0===v?void 0:v._id,close:function(){Ie(!1),ze()}})})]})]})})),Ue=n.p+"static/media/createTicket.ea7c0d8a.svg",Re=n.p+"static/media/sprint.30c319a6.svg",Fe=n(621),ze=n.p+"static/media/nobacklog.e26594b8.svg";function We(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),i=Object(d.a)(c,2),j=i[0],u=i[1],b=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,y.FETCH_DATA("api/userstories/backlogs/".concat(e.project_id));case 3:return n=t.sent,t.next=6,n.data;case 6:a=t.sent,r(a.userstories),u(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a={})._id=n._id,a.sprint_id=e.acitveSprint._id,"User Story Has Been Moved to the Active Sprint",s=a,t.next=7,y.UPDATE_DATA("api/userstories",s,"User Story Has Been Moved to the Active Sprint");case 7:200===t.sent.status&&b();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(h.jsx)("div",{children:j||0!==s.length?Object(h.jsx)("div",{style:{margin:"50px auto",width:"80%"},children:Object(h.jsx)(Fe.a,{accordion:!0,defaultActiveKey:null,bordered:!0,children:s.map((function(t,n){return Object(h.jsx)(W.a,{header:t.title,eventKey:n+1,children:Object(h.jsxs)(te.a,{style:{minHeight:"300px"},children:[Object(h.jsx)(te.a.Item,{colspan:12,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",margin:"10px 0"},children:t.title}),Object(h.jsx)("div",{style:{padding:"20px",background:"#f5f5f5",height:"250px",overflowY:"auto"},children:t.description})]})}),Object(h.jsx)(te.a.Item,{colspan:12,style:{height:"300px"},children:Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(h.jsx)(T.a,{style:{padding:"20px",color:"#f5f5f5",background:"#134069"},disabled:!e.acitveSprint,onClick:function(){return p(t)},children:"Move To Active Sprint"})})})]})},n)}))})}):Object(h.jsx)(Se,{image:ze,msg:"So empty!"})})}function Le(){return Object(h.jsx)("div",{children:"Hello World"})}function qe(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(1),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(0),p=Object(d.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),g=m[0],v=m[1],w=Object(a.useState)(""),_=Object(d.a)(w,2),S=_[0],C=_[1],A=Object(a.useState)(null),I=Object(d.a)(A,2),N=I[0],E=I[1],P=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return"User Story Has Been Created",a={title:g,description:S,assigned_to:s,estimated_time:"".concat(j,",").concat(x),sprint_id:-1===N?null:N,project_id:e.project_id},t.next=5,y.POST_DATA("api/userstories",a,"User Story Has Been Created");case 5:e.refresh();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(k.a,{className:"loginForm",model:Me,style:{margin:"auto"},onSubmit:function(e){P(e)},children:[Object(h.jsx)(Ge,{name:"title",label:"Title",value:g,onChange:function(e){return v(e)}}),Object(h.jsx)(me,{setText:function(e){return C(e)},value:S}),Object(h.jsxs)("div",{style:{display:"flex",marginTop:"20px"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(h.jsx)(be.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:200},value:s,onChange:function(e){return r(e)}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"rs-control-label",children:"Select a Destination"}),Object(h.jsx)(be.a,{data:e.acitveSprint?[{label:e.acitveSprint.name,value:e.acitveSprint._id},{label:"Backlog",value:-1}]:[{label:"Backlog",value:-1}],placeholder:"Destination",style:{width:200},value:N,onChange:function(e){return E(e)}})]})]}),Object(h.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(h.jsx)(he.a,{style:{width:200,marginRight:23},postfix:"Hour(s)",min:0,max:50,value:j,onChange:function(e){return u(e)}}),Object(h.jsx)(he.a,{postfix:"Minute(s)",style:{width:200},min:0,max:59,value:x,onChange:function(e){return f(e)}})]}),Object(h.jsx)(T.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===g||""===S,children:"Submit"})]})}var Ke=w.a.Types.StringType,Me=w.a.Model({title:Ke().isRequired("Title is required.")});function Ge(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var Ye=n(613),Ve=n(602),Je=n(622);function Qe(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(0),p=Object(d.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)([]),m=Object(d.a)(O,2),g=m[0],v=m[1];Object(a.useEffect)((function(){e.acitveSprint&&w()}),[]);var w=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/userstories/unfinishedTask/".concat(e.acitveSprint._id));case 2:return n=t.sent,t.next=5,n.data;case 5:a=t.sent,s=[],a.userstories.forEach((function(e,t){var n=e.estimated_time.split(",");s.push({story:e.identifier,estimated_hours:n[0],estimated_mins:n[1],re_estimated_hours:Object(h.jsx)(he.a,{onChange:function(e){s[t].hours=e,v(s)},max:50,min:0}),re_estimated_mins:Object(h.jsx)(he.a,{onChange:function(e){s[t].mins=e,v(s)},max:59,min:0,defaultValue:0}),move_to_backlog:Object(h.jsx)(pe.a,{onChange:function(e){s[t].moveto_backlog=e,v(s)}}),moveto_backlog:!1,hours:0,mins:0,id:e._id})})),v(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(e){f(e<0?0:e>3?3:e)},S=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],g.forEach((function(e){n.push({id:e.id,estimated_time:"".concat(e.hours,",").concat(e.mins),moveto_backlog:e.moveto_backlog})})),!e.acitveSprint){t.next=5;break}return t.next=5,S();case 5:return"Sprint Created Successfully",a={name:s,description:j,project_id:e.project_id,sprint_id:e.acitveSprint?e.acitveSprint._id:null,user_stories:n},t.next=9,y.POST_DATA("api/sprints",a,"Sprint Created Successfully");case 9:200===t.sent.status&&e.refresh();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"35px",fontWeight:"400"},children:"Create Sprint"}),Object(h.jsxs)("div",{style:{padding:"0 40px",width:"90%"},children:[Object(h.jsxs)(Ye.a,{current:x,children:[Object(h.jsx)(Ye.a.Item,{title:"Sprint Info",description:"Sprint Information"}),e.acitveSprint&&Object(h.jsx)(Ye.a.Item,{title:"Manage User Stories",description:"Re-Estimate/ Move to Backlog"}),Object(h.jsx)(Ye.a.Item,{title:"Submit",description:"Create New Sprint"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(W.a,{style:{height:"40vh",padding:"0"},children:[0===x&&Object(h.jsxs)(k.a,{className:"loginForm",style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:[Object(h.jsx)("div",{style:{width:"70%",margin:"10px 0"},children:Object(h.jsx)(Xe,{name:"title",label:"Title",value:s,onChange:function(e){return r(e)}})}),Object(h.jsx)("div",{style:{width:"70%"},children:Object(h.jsx)(Xe,{name:"description",label:"Description",value:j,onChange:function(e){return u(e)}})})]}),e.acitveSprint&&1===x&&Object(h.jsxs)(Ve.a,{cellBordered:!0,height:350,data:g,headerHeight:80,rowHeight:60,style:{border:"1px solid #e6e6e6"},children:[Object(h.jsxs)(Ve.a.Column,{align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"User Story"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"story"})]}),Object(h.jsxs)(Ve.a.ColumnGroup,{align:"center",verticalAlign:"middle",header:"Estimated",flexGrow:1,children:[Object(h.jsxs)(Ve.a.Column,{children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"Hours"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"estimated_hours"})]}),Object(h.jsxs)(Ve.a.Column,{children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"Minutes"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"estimated_mins"})]})]}),Object(h.jsxs)(Ve.a.ColumnGroup,{header:"Re-Estimate",align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(h.jsxs)(Ve.a.Column,{children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"Hours"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"re_estimated_hours"})]}),Object(h.jsxs)(Ve.a.Column,{children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"Minutes"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"re_estimated_mins"})]})]}),Object(h.jsxs)(Ve.a.Column,{flexGrow:1,align:"center",verticalAlign:"middle",children:[Object(h.jsx)(Ve.a.HeaderCell,{children:"Move to Backlog"}),Object(h.jsx)(Ve.a.Cell,{dataKey:"move_to_backlog"})]})]}),(2===x||!e.acitveSprint)&&Object(h.jsx)("div",{style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:Object(h.jsx)(T.a,{style:{width:"300px",background:"#134069",color:"#f5f5f5"},onClick:C,children:"Create Sprint"})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(T.a,{onClick:function(){return _(x-1)},disabled:0===x,children:"Previous"}),Object(h.jsx)(T.a,{type:"submit",onClick:function(){s&&j&&(1===x&&g.find((function(e){return 0===Number(e.hours)&&0===Number(e.mins)}))||_(x+1))},disabled:e.acitveSprint?2===x:1===x,children:"Next"})]})]})]})}function Xe(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var Ze=n.p+"static/media/sprintHome.9f97a044.svg",$e=n(303),et=n.n($e),tt=n(279),nt=n(623),at=n(624),st=n(312),rt=n(625);var ct=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),x=p[0],f=p[1],O=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("api/git/getRepo/".concat(e.project.repo));case 2:n=t.sent,r(n.data.repo.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={project_id:e.project._id,user_id:j},"Successfully added the user",t.next=4,y.UPDATE_DATA("api/projects/addMember",n,"Successfully added the user");case 4:f(!1),e.getMembers(e.project._id),O();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{style:{display:"flex",height:"70vh"},children:[Object(h.jsx)("section",{style:{width:"50%",display:"flex",alignItems:"center"},children:Object(h.jsx)("img",{style:{maxWidth:"700px",display:"block",margin:"auto"},src:Ze,alt:"homeimg"})}),s&&e.membersIn&&e.membersIn.length>0?Object(h.jsxs)("section",{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignContent:"center",flexWrap:"wrap"},children:[Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"30px",fontWeight:"bold"},children:e.project.name}),Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:e.project.description}),Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"20px",marginTop:"40px",fontWeight:"bold"},children:"Contributors"}),Object(h.jsx)("div",{className:"avatar-group",style:{justifyContent:"center",display:"flex",width:"50%",margin:"auto",flexWrap:"wrap"},children:e.membersIn.map((function(e,t){return Object(h.jsx)(tt.a,{trigger:"hover",placement:"top",speaker:Object(h.jsx)(nt.a,{title:"".concat(e.firstname," ").concat(e.lastname)}),children:Object(h.jsx)(at.a,{circle:!0,style:{background:"#828282",cursor:"pointer",margin:"10px"},src:e.git_avatar})},t)}))}),Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"40px"},children:[["owner","admin"].includes(sessionStorage.getItem("sprintCompassUserRole").toLowerCase())&&Object(h.jsx)(st.a,{icon:Object(h.jsx)(J.a,{icon:"user-plus"}),placement:"left",size:"md",style:{marginRight:"10px",border:"1px solid #e6e6e6"},onClick:function(){return f(!0)},children:"Add Member"}),Object(h.jsx)(st.a,{size:"md",style:{border:"1px solid #e6e6e6"},icon:Object(h.jsx)(J.a,{icon:"github"}),placement:"left",onClick:function(){return window.open(s.html_url,"_blank")},children:"Open with Github"})]}),Object(h.jsxs)("div",{style:{marginTop:"40px",display:"flex"},children:[Object(h.jsxs)("div",{"data-div-text":s.clone_url,style:{display:"flex"},children:[Object(h.jsx)("div",{style:{background:"#e6e6e6",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"5px 0 0 5px"},children:"Clone Url"}),Object(h.jsx)("div",{style:{background:"#f5f5f5",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"0 5px 5px 0"},children:s.clone_url})]}),Object(h.jsx)(et.a,{"data-clipboard-text":s.clone_url,style:{background:"#134069",color:"#f5f5f5",width:"60px",borderRadius:"0 5px 5px 0"},children:"copy"})]})]}):Object(h.jsx)(z.a,{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignItems:"center"},type:"ThreeDots",color:"#134069",height:50,width:50})]}),Object(h.jsx)(ue.a,{show:x,onHide:function(){f(!1),u(null)},children:Object(h.jsx)(ue.a.Body,{children:Object(h.jsx)("div",{className:"drawerBody",children:Object(h.jsxs)(k.a,{onSubmit:function(){m()},children:[Object(h.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Add a Member"}),e.membersNotIn&&0===e.membersNotIn.length&&Object(h.jsx)("div",{style:{textAlign:"center"},children:"No new members to add"}),e.membersNotIn&&e.membersNotIn.length>0&&Object(h.jsxs)("div",{children:[Object(h.jsx)(be.a,{data:e.membersNotIn.map((function(e){return{label:e.firstname+" "+e.lastname,value:e._id}})),style:{width:224},onChange:function(e){return u(e)}}),Object(h.jsx)(rt.a,{children:Object(h.jsx)(T.a,{appearance:"primary",type:"submit",style:{width:"100%",margin:"30px 0"},disabled:!j,children:"Submit"})})]})]})})})})]})},it=function(e){var t=e.expand,n=e.onChange;return Object(h.jsx)(Y.a,{appearance:"inverse",style:{background:"#134069"},className:"nav-toggle",children:Object(h.jsx)(Y.a.Body,{children:Object(h.jsx)(V.a,{pullRight:!0,children:Object(h.jsx)(V.a.Item,{onClick:n,style:{width:56,textAlign:"center"},children:Object(h.jsx)(J.a,{icon:t?"angle-left":"angle-right"})})})})})};var ot=Object(E.h)((function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),c=Object(d.a)(r,2),i=c[0],j=c[1],u=Object(a.useState)(null),b=Object(d.a)(u,2),p=b[0],x=b[1],f=Object(a.useState)([]),O=Object(d.a)(f,2),m=(O[0],O[1]),g=Object(a.useState)(!0),v=Object(d.a)(g,2),w=v[0],_=v[1],S=Object(a.useState)(!1),C=Object(d.a)(S,2),k=C[0],T=C[1],A=Object(a.useState)(!1),I=Object(d.a)(A,2),N=I[0],P=I[1],D=Object(a.useState)(!1),B=Object(d.a)(D,2),H=B[0],U=B[1],R=Object(a.useState)(!1),F=Object(d.a)(R,2),z=F[0],W=F[1],L=Object(a.useState)(!1),q=Object(d.a)(L,2),K=q[0],M=q[1],G=Object(a.useState)(!0),Y=Object(d.a)(G,2),ne=Y[0],ae=Y[1],se=Object(a.useState)(null),re=Object(d.a)(se,2),ce=re[0],ie=re[1],oe=Object(E.g)().url,de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/sprints/allByProjectId/".concat(oe.split("/")[2]));case 2:t=e.sent,n=t.data,a=n.sprints.find((function(e){return!e.is_done})),ie(a),m(n.sprints);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/projects/byProjectId/".concat(oe.split("/")[2]));case 2:t=e.sent,n=t.data,be(n.project._id),x(n.project);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){T(!1),U(!1),P(!1),W(!1),M(!1),_(!1),e(!0)},be=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/projects/members/".concat(t));case 2:n=e.sent,s(n.data.membersIn),j(n.data.membersNotIn);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){de(),je()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(le,{}),Object(h.jsx)("div",{className:"show-fake-browser sidebar-page",children:Object(h.jsxs)(Q.a,{children:[Object(h.jsx)(X.a,{style:{display:"flex",flexDirection:"column"},width:ne?260:56,collapsible:!0,children:Object(h.jsxs)(Z.a,{expanded:ne,defaultOpenKeys:["3","4"],appearance:"inverse",style:{background:"#134069",minHeight:"calc(100vh - 94px)",height:"100%"},children:[Object(h.jsx)(Z.a.Body,{children:Object(h.jsxs)(V.a,{children:[Object(h.jsx)(V.a.Item,{eventKey:"2",icon:Object(h.jsx)(J.a,{icon:"home"}),active:w,onClick:function(){return ue(_)},children:"Home"}),Object(h.jsxs)($.a,{eventKey:"3",trigger:"hover",title:"Sprint Planning",icon:Object(h.jsx)(J.a,{icon:"magic"}),placement:"rightStart",children:[Object(h.jsx)($.a.Item,{eventKey:"3-3",active:k,icon:Object(h.jsx)(J.a,{icon:"dashboard"}),onClick:function(){return ue(T)},children:"Active Sprint"}),Object(h.jsx)($.a.Item,{eventKey:"3-2",active:N,icon:Object(h.jsx)(J.a,{icon:"plus-square"}),onClick:function(){return ue(P)},children:"Create New Sprint"}),Object(h.jsx)($.a.Item,{eventKey:"3-1",active:H,icon:Object(h.jsx)(J.a,{icon:"newspaper-o"}),onClick:function(){return ue(U)},children:"Create User Story"})]}),Object(h.jsx)(V.a.Item,{eventKey:"2",active:z,icon:Object(h.jsx)(J.a,{icon:"toggle-left"}),onClick:function(){return ue(W)},children:"View Backlog"}),Object(h.jsxs)($.a,{eventKey:"4",trigger:"hover",title:"Advanced",icon:Object(h.jsx)(J.a,{icon:"gear-circle"}),placement:"rightStart",children:[Object(h.jsx)($.a.Item,{eventKey:"4-1",active:K,onClick:function(){return ue(M)},icon:Object(h.jsx)(J.a,{icon:"history"}),children:"Sprint History"}),Object(h.jsx)($.a.Item,{eventKey:"4-2",children:"Websites"}),Object(h.jsx)($.a.Item,{eventKey:"4-3",children:"Channels"}),Object(h.jsx)($.a.Item,{eventKey:"4-4",children:"Tags"}),Object(h.jsx)($.a.Item,{eventKey:"4-5",children:"Versions"})]})]})}),Object(h.jsx)(it,{expand:ne,onChange:function(){ae(!ne)}})]})}),Object(h.jsx)(Q.a,{children:Object(h.jsxs)(ee.a,{children:[w&&!!p&&Object(h.jsx)(ct,{project:p,membersIn:n,membersNotIn:i,getMembers:be}),k&&Object(h.jsx)("div",{children:ce?Object(h.jsx)(He,{sprint:ce,collaborators:n,project_id:oe.split("/")[2],project:p}):Object(h.jsx)(Se,{image:Ce,msg:"No Active Sprint Found"})}),N&&Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(te.a,{style:{background:"#f5f5f5",height:"calc(100vh - 94px)"},children:[Object(h.jsx)(te.a.Item,{style:{margin:"auto"},colspan:8,children:Object(h.jsx)("img",{className:"dashBoardSectionImg",src:Re,alt:""})}),Object(h.jsx)(te.a.Item,{colspan:16,style:{margin:"auto"},children:Object(h.jsx)(Qe,{project_id:oe.split("/")[2],acitveSprint:ce,refresh:function(){ue(_),de()}})})]})})}),H&&Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(te.a,{style:{background:"#f5f5f5",height:"calc(100vh - 94px)"},children:[Object(h.jsx)(te.a.Item,{style:{margin:"auto"},colspan:12,children:Object(h.jsx)("img",{className:"dashBoardSectionImg",src:Ue,alt:""})}),Object(h.jsxs)(te.a.Item,{colspan:12,style:{margin:"auto"},children:[Object(h.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"15px",fontWeight:"400"},children:"Create User Story"}),Object(h.jsx)(qe,{project_id:oe.split("/")[2],acitveSprint:ce,collaborators:n,refresh:function(){return ue(_)}})]})]})})}),z&&Object(h.jsx)(We,{project_id:oe.split("/")[2],acitveSprint:ce}),K&&Object(h.jsx)(Le,{})]})})]})})]})})),lt=n.p+"static/media/teamsHome.331c024c.svg",dt=n(604),jt=w.a.Types.StringType,ut=w.a.Model({name:jt().isRequired("Name is required."),description:jt().isRequired("Description is required.")});function bt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var pt={display:"flex",alignItems:"center",height:"60px"},ht={fontSize:"0.9em",color:"#97969B",fontWeight:"lighter",paddingBottom:3},xt={paddingBottom:5,whiteSpace:"nowrap",fontWeight:500};var ft=Object(E.h)((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),u=i[0],b=i[1],p=Object(a.useState)(""),x=Object(d.a)(p,2),f=x[0],O=x[1],m=Object(a.useState)([]),g=Object(d.a)(m,2),v=g[0],w=g[1],_=Object(a.useState)([]),S=Object(d.a)(_,2),C=S[0],A=S[1],I=Object(a.useState)(!1),N=Object(d.a)(I,2),E=N[0],P=N[1],D=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),A(sessionStorage.getItem("sprintCompassUserRole")),e.next=4,y.FETCH_DATA("api/projects");case 4:t=e.sent,w(t.data.projects),P(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){r(!1),b(""),O("")},H=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return"Project Has Been Created",n={name:u,description:f},e.next=5,y.POST_DATA("api/projects",n,"Project Has Been Created");case 5:B(),D();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(le,{}),Object(h.jsxs)("section",{className:"projectBannerContainer",children:[Object(h.jsx)("div",{className:"teamImageContainer",children:Object(h.jsx)("img",{style:{width:"80%",maxWidth:"600px"},src:lt,alt:"ProjectSvg"})}),Object(h.jsxs)("div",{className:"projectImageContainer",children:[Object(h.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"50px",width:"100%",textAlign:"center"},children:["Welcome to",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{color:"#2D56B3"},children:"Run"}),Object(h.jsx)("span",{style:{color:"#515B60"},children:"time"})]}),("owner"===C||"admin"===C)&&Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)("div",{className:"teamButtons",onClick:function(){return r(!0)},children:"Create a Project"})})]})]}),E&&Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"projectHomeHeader",children:"Your Projects"}),Object(h.jsx)(dt.a,{hover:!0,style:{width:"80%",margin:"auto"},children:v.map((function(t,n){return Object(h.jsx)(dt.a.Item,{index:n,children:Object(h.jsxs)(te.a,{children:[Object(h.jsxs)(te.a.Item,{colspan:10,style:Object(j.a)(Object(j.a)({},pt),{},{flexDirection:"column",alignItems:"flex-start",overflow:"hidden"}),children:[Object(h.jsx)("div",{style:xt,children:t.name}),Object(h.jsxs)("div",{style:ht,children:[Object(h.jsx)("div",{children:"Description"}),Object(h.jsx)("div",{children:t.description})]})]}),Object(h.jsx)(te.a.Item,{colspan:6,style:pt,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:ht,children:"Project Lead"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(J.a,{icon:"user-circle-o"}),"  ".concat(t.project_lead.firstname," ").concat(t.project_lead.lastname)]})]})}),Object(h.jsx)(te.a.Item,{colspan:5,style:pt,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:ht,children:"Start Date"}),Object(h.jsx)("div",{style:ht,children:t.created_at})]})}),Object(h.jsx)(te.a.Item,{colspan:3,style:Object(j.a)(Object(j.a)({},pt),{},{justifyContent:"center"}),children:Object(h.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return e.history.push("project/".concat(t._id))},children:"View"})})]})},t._id)}))})]}),0===v.length&&!E&&Object(h.jsx)("div",{style:{textAlign:"center"},children:"No Projects Found"}),Object(h.jsx)(ue.a,{show:s,onHide:function(){B()},children:Object(h.jsx)(ue.a.Body,{children:Object(h.jsx)("div",{className:"drawerBody",children:Object(h.jsxs)(k.a,{model:ut,onSubmit:function(e){H(e)},children:[Object(h.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Create a Project"}),Object(h.jsx)(bt,{name:"name",label:"Project Name",onChange:function(e){return b(e)}}),Object(h.jsx)(bt,{name:"description",label:"Description",onChange:function(e){return O(e)}}),Object(h.jsx)(rt.a,{children:Object(h.jsx)(T.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Submit"})})]})})})})]})})),Ot=n.p+"static/media/bio.c14203e2.svg",mt=n.p+"static/media/git.8ed5ab3d.svg",gt=n.p+"static/media/organization.451cba29.svg",vt=(n(542),w.a.Types.StringType);function yt(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(""),x=Object(d.a)(b,2),f=x[0],O=x[1],m=Object(a.useState)(""),g=Object(d.a)(m,2),v=(g[0],g[1]),_=Object(a.useState)(""),S=Object(d.a)(_,2),C=S[0],A=S[1],I=Object(a.useState)(""),N=Object(d.a)(I,2),E=N[0],P=N[1],D=Object(a.useState)(""),B=Object(d.a)(D,2),H=B[0],U=B[1],F=Object(a.useState)(!1),z=Object(d.a)(F,2),L=z[0],q=z[1],K=Object(a.useState)(),M=Object(d.a)(K,2),G=M[0],Y=M[1],V=Object(a.useState)(!1),J=Object(d.a)(V,2),Q=J[0],X=J[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(d.a)(ne,2),se=ae[0],re=ae[1],ce=Object(a.useState)(null),ie=Object(d.a)(ce,2),oe=ie[0],le=ie[1],de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/users/getUserById/".concat(sessionStorage.getItem("sprintCompassUser")));case 2:200===(t=e.sent).status&&((n=t.data.user).disabled?(sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),sessionStorage.removeItem("sprintCompassUserRole"),window.open("/login","_self")):(n.first_login?Y(0):n.git_token?Y(3):Y(2),r(t.data.user)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return X(!0),"Password Has Been Updated",n={old_password:j,new_password:f},e.next=6,y.UPDATE_DATA("api/users/update_password",n,"Password Has Been Updated");case 6:200===e.sent.status&&Y(1),X(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==C||""!==E||""!==H){e.next=3;break}return Y(2),e.abrupt("return");case 3:return"Profile Has Been Updated",t={position:C,phone:E,location:H},e.next=7,y.UPDATE_DATA("api/users/update_user",t,"Profile Has Been Updated");case 7:200===e.sent.status&&Y(2);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("access_denied"===y.getQueryVariable("error")&&p.a.error({title:"Authorization Failed",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),!(t=y.getQueryVariable("code"))){e.next=7;break}return e.next=5,y.FETCH_DATA("gitauth/get_token?code=".concat(t),"Successfully authorized github");case 5:200===e.sent.status&&(Y(3),n=window.location.origin+"/auth",window.history.pushState({},null,n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/git/getOrganizations","No Notification");case 2:t=e.sent,te(t.data.organizations);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.FETCH_DATA("gitauth/validateInvite","Congratulations!");case 2:200===t.sent.status&&e.history.push("/projects");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fe=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(se&&oe){t.next=3;break}return p.a.error({title:"Missing Fields",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.abrupt("return");case 3:return n={name:se,organization:oe},t.next=6,y.POST_DATA("api/users/addClient",n);case 6:200===t.sent.status&&e.history.push("/projects");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){3===G&&"owner"===(null===s||void 0===s?void 0:s.role)&&0===ee.length&&he()}),[G,s]),Object(a.useEffect)((function(){pe(),de()}),[]);return Object(h.jsx)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(h.jsxs)(Ye.a,{current:G,children:[Object(h.jsx)(Ye.a.Item,{title:"Change Password"}),Object(h.jsx)(Ye.a.Item,{title:"Update Bio"}),Object(h.jsx)(Ye.a.Item,{title:"Authorize Github"}),s&&"owner"===s.role?Object(h.jsx)(Ye.a.Item,{title:"Choose Organization"}):Object(h.jsx)(Ye.a.Item,{title:"Accept Organization Invite"})]}),Object(h.jsx)("hr",{}),Object(h.jsx)(W.a,{style:{height:"60vh"},children:Object(h.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(h.jsxs)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:[0===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:R,alt:"passwordrenewimg"}),1===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:Ot,alt:"profileimg"}),2===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:mt,alt:"gitimg"}),3===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:gt,alt:"orgImg"})]}),Object(h.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[0===G&&Object(h.jsxs)(k.a,{model:w.a.Model({currentPassword:vt().isRequired("Current Password is required."),newPassword:vt().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:vt().addRule((function(e){return e===f}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){je(e)},children:[Object(h.jsx)(wt,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){u(e)}}),Object(h.jsx)(wt,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){O(e)}}),Object(h.jsx)(wt,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){v(e)}}),Object(h.jsx)(T.a,{type:"submit",style:_t.update__button,disabled:Q,children:"Update Password"})]}),1===G&&!!s&&Object(h.jsx)("div",{children:Object(h.jsxs)(k.a,{onSubmit:function(){return ue()},children:[Object(h.jsx)(wt,{label:"Job Title",onChange:function(e){A(e)}}),Object(h.jsx)(wt,{label:"Phone",onChange:function(e){P(e)}}),Object(h.jsx)(wt,{label:"Location",onChange:function(e){U(e)}}),Object(h.jsx)(T.a,{type:"submit",style:_t.update__button,children:"Update Bio"})]})}),2===G&&Object(h.jsx)(T.a,{type:"submit",style:L?_t.disabled__button:_t.update__button,onClick:function(){q(!0);var e="https://github.com/login/oauth/authorize?client_id=".concat("9bf7686b61e73fbd065a","&scope=admin:org%20repo%20delete_repo");window.open(e,"_self")},disabled:L,children:"Authorize Github"}),3===G&&Object(h.jsxs)(h.Fragment,{children:[s&&"owner"===s.role&&Object(h.jsx)("div",{children:Object(h.jsxs)(k.a,{onSubmit:function(){return fe()},children:[Object(h.jsx)(wt,{label:"Organization Name",onChange:function(e){re(e)}}),Object(h.jsx)(be.a,{data:ee,onChange:function(e){return le(e)},block:!0,placeholder:"Select a Github Organization"}),Object(h.jsx)(T.a,{type:"submit",style:_t.update__button,children:"Submit"})]})}),s&&"owner"!==s.role&&Object(h.jsx)(Ae.a,{showIcon:!0,type:"success",title:"Invitation Sent",description:Object(h.jsxs)(h.Fragment,{children:["We have sent you an email invitation to join the organization.",Object(h.jsx)("br",{}),"Please accept it and click finish."]})})]})]})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{style:{float:"right"},children:3===G&&"owner"!==(null===s||void 0===s?void 0:s.role)&&Object(h.jsx)(T.a,{style:{background:"#193A5A",color:"#f5f5f5",width:"100px"},onClick:xe,children:"Finish"})})]})})}function wt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var _t={update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled__button:{marginTop:"50px",background:"grey",color:"#f5f5f5",minWidth:"300px"},next__button:{background:"#193A5A",color:"#f5f5f5",float:"right",minWidth:"100px"}},St=n(56),Ct=n(103),kt=n(305),Tt=n.n(kt),At=n(306),It=n.n(At),Nt=n.p+"static/media/imagePlaceHolder.f0421300.svg",Et=w.a.Types.StringType;function Pt(e){var t,n=Object(a.useState)(!1),s=Object(d.a)(n,2),r=s[0],c=s[1],i=Object(a.useState)(""),j=Object(d.a)(i,2),u=j[0],b=j[1],p=Object(a.useState)(!1),x=Object(d.a)(p,2),f=x[0],O=x[1],m=Object(a.useState)(!1),g=Object(d.a)(m,2),v=g[0],_=g[1],S=Object(a.useState)(!1),C=Object(d.a)(S,2),A=C[0],I=C[1],N=Object(a.useState)(null),E=Object(d.a)(N,2),P=E[0],D=E[1],B=Object(a.useState)(null),H=Object(d.a)(B,2),U=H[0],R=H[1],F=Object(a.useState)(""),W=Object(d.a)(F,2),L=W[0],q=W[1],K=Object(a.useState)(""),M=Object(d.a)(K,2),G=M[0],Y=M[1],V=Object(a.useState)(""),Q=Object(d.a)(V,2),X=(Q[0],Q[1]),Z=function(e){return new Promise((function(t){It.a.imageFileResizer(e,800,800,"JPEG",100,0,(function(e){t(e)}),"base64")}))},$=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0]){e.next=8;break}return e.next=3,Z(t[0]);case 3:n=e.sent,(a=JSON.parse(JSON.stringify(U))).image=n,R(a),I(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/users/getById/".concat(t));case 2:200===(n=e.sent).status&&R(n.data.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return _(!0),O(!1),n=Object(Ct.a)({},u.toLowerCase(),U[u.toLowerCase()]),a="".concat(u," Has Been Updated"),e.next=7,y.UPDATE_DATA("api/users",n,a);case 7:b(null),ee(P),_(!1),I(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return"Password Has Been Updated",n={old_password:L,new_password:G},e.next=5,y.UPDATE_DATA("api/users/change_password",n,"Password Has Been Updated");case 5:O(!1),b(null),ee(P),_(!1),I(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=window.location.pathname.split("/"),t=null;e.length>2?(t=e[2],c(!1)):(c(!0),t=sessionStorage.getItem("sprintCompassUser")),D(t),ee(t)}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(le,{}),(!U||v)&&Object(h.jsx)("div",{style:{height:"70vh"},children:Object(h.jsx)(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),U&&!v&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{style:Bt.main,children:[Object(h.jsxs)("section",{style:Bt.main__1,children:[U.image?Object(h.jsx)("img",{style:Bt.main__1__img,src:U.image,alt:"dp"}):Object(h.jsx)("img",{style:{maxWidth:"500px",display:"block",margin:"auto"},src:Nt,alt:"dp"}),r&&Object(h.jsx)("div",{style:Bt.change__image,onClick:function(){O(!0),b("Image")},children:"Change Image"})]}),Object(h.jsxs)("section",{style:Bt.main__2,children:[Object(h.jsx)("div",{style:Bt.name,children:"".concat(U.firstname," ").concat(U.lastname)}),Object(h.jsxs)("div",{style:Bt.profession,children:[U.position&&"".concat(U.position),r&&Object(h.jsx)("span",{style:Bt.change,onClick:function(){O(!0),b("Position")},children:U.position?"change":"Add Position"})]}),Object(h.jsxs)("section",{style:Bt.info,children:[Object(h.jsxs)("div",{style:Bt.attribute__container,children:[Object(h.jsx)(J.a,{size:"2x",icon:"send",style:Bt.info__1}),Object(h.jsxs)("div",{style:Bt.info__2,children:["".concat(U.email),r&&Object(h.jsx)("span",{style:Bt.change,onClick:function(){O(!0),b("Email")},children:"change"})]})]}),Object(h.jsxs)("div",{style:Bt.attribute__container,children:[(U.phone||r)&&Object(h.jsx)(J.a,{size:"2x",icon:"phone",style:Bt.info__1}),Object(h.jsxs)("div",{style:Bt.info__2,children:[U.phone&&"".concat(U.phone),r&&Object(h.jsxs)("span",{style:Bt.change,onClick:function(){O(!0),b("Phone")},children:[U.phone?"change":"Add Phone Number"," "]})]})]}),Object(h.jsxs)("div",{style:Bt.attribute__container,children:[(U.location||r)&&Object(h.jsx)(J.a,{size:"2x",icon:"map-marker",style:Bt.info__1}),Object(h.jsxs)("div",{style:Bt.info__2,children:[U.location&&"".concat(U.location),r&&Object(h.jsx)("span",{style:Bt.change,onClick:function(){O(!0),b("Location")},children:U.location?"change":"Add Location"})]})]})]}),r&&Object(h.jsx)("div",{style:Bt.update__password,onClick:function(){O(!0),b("Password")},children:"Change Password"}),Object(h.jsx)(st.a,{style:{width:"250px",margin:"30px 0",background:"#134069",color:"#f5f5f5"},icon:Object(h.jsx)(J.a,{style:{background:"#486b8c",color:"#f5f5f5"},icon:"send"}),placement:"left",children:"Send Message"})]})]}),Object(h.jsxs)(ue.a,{show:f,onHide:function(){return O(!1)},children:[Object(h.jsx)(ue.a.Header,{children:Object(h.jsxs)(ue.a.Title,{children:["Add/Change ",u]})}),Object(h.jsxs)(ue.a.Body,{style:Bt.drawer__body,children:["Image"===u&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Tt.a,{withIcon:!0,onChange:function(e,t){return $(e,t)},imgExtension:[".jpg",".png"],maxFileSize:2097152,buttonText:"Choose Image",label:"Maximum File Size: 2 mb, Accepted Formats: jpg, png"}),Object(h.jsxs)(T.a,{style:Bt.update__button,disabled:v||!A,onClick:function(){te(!!U.image)},children:["Update ",u]})]}),("Position"===u||"Email"===u||"Location"===u||"Phone"===u)&&Object(h.jsxs)(k.a,{model:w.a.Model(Object(Ct.a)({},u,Et().isRequired("".concat(u," is required.")))),onSubmit:function(e){te(e)},children:[Object(h.jsx)(Dt,{name:u,label:u,value:null!==(t=U[u.toLowerCase()])&&void 0!==t?t:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t[u.toLowerCase()]=e,R(t)}}),Object(h.jsxs)(T.a,{type:"submit",style:Bt.update__button,disabled:v,children:["Update ",u]})]}),"Password"===u&&Object(h.jsxs)(k.a,{model:w.a.Model({currentPassword:Et().isRequired("Current Password is required."),newPassword:Et().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:Et().addRule((function(e){return e===G}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){ne(e)},children:[Object(h.jsx)(Dt,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){q(e)}}),Object(h.jsx)(Dt,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){Y(e)}}),Object(h.jsx)(Dt,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){X(e)}}),Object(h.jsx)(T.a,{type:"submit",style:Bt.update__button,disabled:v,children:"Update Password"})]})]})]})]})]})}function Dt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var Bt={main:{display:"flex",height:"600px",width:"80%",maxWidth:"1400px",margin:"50px auto"},main__1:{width:"50%",margin:"auto"},main__1__img:{maxHeight:"100%",maxWidth:"80%",display:"block",margin:"auto"},main__2:{flex:1,marginLeft:"5%",display:"flex",alignContent:"center",flexWrap:"wrap"},name:{fontSize:"25px",fontWeight:"bold",width:"100%",margin:"5px 0"},profession:{fontSize:"15px"},info:{width:"100%",margin:"50px 0"},attribute__container:{display:"flex",margin:"25px 0"},info__1:{width:"50px"},info__2:{flex:1,fontSize:"17px"},change:{marginLeft:"5px",color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer"},change__image:{color:"blue",textDecoration:"underline",fontSize:"15px",marginTop:"15px",textAlign:"center",cursor:"pointer"},update__password:{color:"blue",textDecoration:"underline",fontSize:"15px",width:"100%",cursor:"pointer"},drawer__body:{display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap"},update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"}},Ht=(n(548),n(609)),Ut=(n(549),Ve.a.Column),Rt=Ve.a.HeaderCell,Ft=Ve.a.Cell,zt=[{label:"Admin",value:"admin"},{label:"Member",value:"member"}];function Wt(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(-1),i=Object(d.a)(c,2),b=i[0],p=i[1],x=Object(a.useState)(null),f=Object(d.a)(x,2),O=f[0],m=f[1],g=Object(a.useState)(null),v=Object(d.a)(g,2),w=v[0],_=v[1],S=Object(a.useState)("asc"),C=Object(d.a)(S,2),k=C[0],A=C[1],I=Object(a.useState)(!1),N=Object(d.a)(I,2),E=N[0],P=N[1],D=Object(a.useState)(!1),B=Object(d.a)(D,2),H=B[0],U=B[1],R=Object(a.useState)(!1),F=Object(d.a)(R,2),W=F[0],L=F[1],q=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,y.FETCH_DATA("api/users","No Notification");case 3:t=e.sent,n=t.data.users.filter((function(e){if("owner"!==e.role.toLowerCase())return e})),r(n),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){q()}),[]);var K=function(e){var t=e.rowData,n=e.dataKey,a=Object(u.a)(e,["rowData","dataKey"]);return Object(h.jsx)(Ft,Object(j.a)(Object(j.a)({},a),{},{style:{padding:8},children:Object(h.jsx)(at.a,{circle:!0,src:t[n]})}))},M=function(e){var t=e.rowData,n=e.dataKey,a=Object(u.a)(e,["rowData","dataKey"]),s=t[n]?"blue":"green",r=t[n]?"Disabled":"Active";return Object(h.jsx)(Ft,Object(j.a)(Object(j.a)({},a),{},{style:{margin:2,alignContent:"center"},children:Object(h.jsx)(je.a,{color:s,children:r})}))},G=function(e){var t=e.rowData,n=Object(u.a)(e,["rowData"]),a=Math.trunc((!t.first_login+!!t.git_token+t.invitation_accepted)/3*100);return a=isNaN(a)?0:a,Object(h.jsx)(Ft,Object(j.a)(Object(j.a)({},n),{},{children:0===a?Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(Ht.a.Circle,{})}):100===a?Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(Ht.a.Circle,{percent:a,status:"success"})}):Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(Ht.a.Circle,{percent:a,strokeColor:"#ffc107"})})}))},Y=function(e){return Object(h.jsx)(h.Fragment,{children:e?Object(h.jsx)(J.a,{icon:"check-circle",style:{margin:5,color:"green"},size:"2x"}):Object(h.jsx)(J.a,{icon:"close-circle",style:{margin:5,color:"red"},size:"2x"})})},V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"User Has Been Updated",t={id:w._id,role:b,disabled:H},e.next=4,y.UPDATE_DATA("api/users/updateUserById",t,"User Has Been Updated");case 4:P(!1),q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[W?Object(h.jsx)(z.a,{type:"ThreeDots",color:"#134069",height:50,width:50}):Object(h.jsxs)(Ve.a,{width:1e3,height:600,data:O&&k?s.sort((function(e,t){var n=e[O],a=t[O];return"asc"===k?n.localeCompare(a):a.localeCompare(n)})):s,rowHeight:65,sortColumn:O,sortType:k,onSortColumn:function(e,t){m(e),A(t)},onRowClick:function(e){p(e.role),_(e),P(!0),U(e.disabled)},children:[Object(h.jsxs)(Ut,{width:100,fixed:!0,children:[Object(h.jsx)(Rt,{}),Object(h.jsx)(K,{dataKey:"git_avatar"})]}),Object(h.jsxs)(Ut,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Rt,{style:Lt.header,children:"First Name"}),Object(h.jsx)(Ft,{style:Lt.cell,dataKey:"firstname"})]}),Object(h.jsxs)(Ut,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Rt,{style:Lt.header,children:"Last Name"}),Object(h.jsx)(Ft,{style:Lt.cell,dataKey:"lastname"})]}),Object(h.jsxs)(Ut,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Rt,{style:Lt.header,children:"User Role"}),Object(h.jsx)(Ft,{style:Lt.cell,dataKey:"role"})]}),Object(h.jsxs)(Ut,{width:100,children:[Object(h.jsx)(Rt,{style:Lt.header,children:"Status"}),Object(h.jsx)(M,{dataKey:"disabled"})]}),Object(h.jsxs)(Ut,{width:150,children:[Object(h.jsx)(Rt,{style:Lt.header,children:"Onboarding"}),Object(h.jsx)(G,{})]})]}),Object(h.jsxs)(ue.a,{show:E,onHide:function(){P(!1)},children:[Object(h.jsx)(ue.a.Header,{children:Object(h.jsx)(ue.a.Title,{children:"User Information"})}),Object(h.jsxs)(ue.a.Body,{children:[Object(h.jsxs)("div",{className:"user__info__container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"User Name"}),Object(h.jsxs)("div",{children:[null===w||void 0===w?void 0:w.firstname," ",null===w||void 0===w?void 0:w.lastname]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Account Activated"}),Object(h.jsx)("div",{children:Y(!(null===w||void 0===w?void 0:w.first_login))})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Github Authorized"}),Object(h.jsx)("div",{children:Y(null===w||void 0===w?void 0:w.git_token)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Joined Organization"}),Object(h.jsx)("div",{children:Y(null===w||void 0===w?void 0:w.invitation_accepted)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"rs-control-label",children:"User Role"}),Object(h.jsx)("section",{children:Object(h.jsx)(be.a,{style:{width:"150px"},data:zt,placeholder:"User Role",value:b,cleanable:!1,onChange:function(e){return p(e)}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"User Enabled"}),Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)(pe.a,{style:{width:"30px",textAlign:"center"},size:"lg",checked:!H,onChange:function(){return U(!H)}})})]})]}),Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)(T.a,{appearance:"primary",onClick:function(){return V()},style:{width:250},children:"Update User"})})]})]})]})}var Lt={header:{color:"black"},cell:{color:"black"}},qt=n.p+"static/media/admin.c410cff4.svg",Kt=w.a.Types.StringType,Mt=[{key:1,name:"Create User",icon:"user-plus"},{key:3,name:"Manage Users",icon:"setting"},{key:4,name:"App Settings",icon:"laptop"},{key:5,name:"Github Settings",icon:"github"},{key:6,name:"Reports",icon:"file-text-o"},{key:7,name:"Data Management",icon:"database"}];function Gt(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(le,{}),Object(h.jsxs)("section",{className:"adminContainer",children:[Object(h.jsx)("section",{className:"adminContainer__1",children:Mt.map((function(e){return Object(h.jsx)(Yt,{function:e,active:e.key===n,makeActiveKey:function(){return s(e.key)}},e.key)}))}),Object(h.jsxs)("section",{className:"adminContainer__2",children:[0===n&&Object(h.jsx)("section",{className:"adminHome",children:Object(h.jsx)("img",{src:qt,alt:"adminSvg"})}),1===n&&Object(h.jsxs)("section",{className:"functionContainer",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:qt,alt:"adminSvg"})}),Object(h.jsx)("div",{children:Object(h.jsx)(Vt,{})})]}),3===n&&Object(h.jsx)("div",{children:Object(h.jsx)(Wt,{})})]})]})]})}var Yt=function(e){return Object(h.jsxs)("section",{className:"functionCard",onClick:e.makeActiveKey,style:{color:e.active?"#134069":""},children:[Object(h.jsx)("div",{children:Object(h.jsx)(J.a,{icon:e.function.icon,size:"2x"})}),Object(h.jsx)("div",{style:{fontWeight:e.active?700:500},children:e.function.name})]})},Vt=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(d.a)(r,2),i=c[0],j=c[1],u=Object(a.useState)(""),b=Object(d.a)(u,2),p=b[0],x=b[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return"Successfully Created the User",a={firstname:n,lastname:i,email:p},e.next=5,y.POST_DATA("api/users/create",a,"Successfully Created the User");case 5:200===e.sent.status?(s(""),j(""),x("")):x("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(k.a,{className:"addUserForm",model:Qt,onSubmit:function(e){f(e)},children:[Object(h.jsx)(Jt,{name:"firstname",label:"First Name",value:n,onChange:function(e){return s(e)}}),Object(h.jsx)(Jt,{name:"lastname",label:"Last Name",value:i,onChange:function(e){return j(e)}}),Object(h.jsx)(Jt,{name:"email",label:"Email",value:p,onChange:function(e){return x(e)}}),Object(h.jsx)(Ae.a,{showIcon:!0,type:"info",title:"Did you know?",description:"The new user will get an email with the temperory password"}),Object(h.jsx)(T.a,{appearance:"primary",type:"submit",style:{width:"100%",marginTop:"20px"},disabled:!n||!i||!p,children:"Create User"})]})};function Jt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(_.a,{children:[Object(h.jsxs)(S.a,{children:[n," "]}),Object(h.jsx)(C.a,Object(j.a)({name:t,type:s,accepter:a},r))]})}var Qt=w.a.Model({firstname:Kt().isRequired("First Name is required."),lastname:Kt().isRequired("Last Name is required."),email:Kt().isEmail("Please enter a valid email address.").isRequired("Email is required.")}),Xt=(n(550),sessionStorage.getItem("sprintCompassUser"));var Zt=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),j=i[0],u=i[1],b=Object(a.useState)(!0),p=Object(d.a)(b,2),x=p[0],f=p[1];Object(a.useEffect)((function(){O()}),[]);var O=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.FETCH_DATA("api/collaborate/getAll");case 2:return t=e.sent,u(t.data.chatgroups),e.next=6,y.FETCH_DATA("api/users/getById/".concat(Xt));case 6:t=e.sent,r(t.data.user),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:x?Object(h.jsx)("section",{className:"loader__section",children:Object(h.jsx)(z.a,{type:"ThreeDots",color:"#134069",height:50,width:50})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{className:"ch__profile",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:s.git_avatar,alt:"profilepic"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:20,fontWeight:"bold",marginBottom:5},children:"".concat(s.firstname,"  ").concat(s.lastname)}),Object(h.jsx)("div",{children:s.position})]})]}),Object(h.jsxs)("section",{className:"ch__list",children:[Object(h.jsx)("div",{style:{fontSize:17,fontWeight:"bold",margin:"30px 0",textAlign:"center"},children:"Active Conversations"}),j.map((function(t,n){return Object(h.jsx)($t,{user:t.users.find((function(e){return e._id!==Xt})),chatGroup:t,selectedChatGroup:e.selectedChatGroup,select:function(t){return e.selectChatGroup(t)}},n)}))]})]})})};function $t(e){var t=e.user,n=e.chatGroup,a=e.selectedChatGroup,s=e.select;return Object(h.jsxs)("section",{className:"user__item",style:{background:(null===a||void 0===a?void 0:a._id)===n._id?"#edf0f5":"none"},onClick:function(){return s(n)},children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:t.git_avatar,alt:"profilepic"})}),Object(h.jsx)("div",{children:"".concat(t.firstname," ").concat(t.lastname)})]})}var en=n(307),tn=n.n(en),nn=n.p+"static/media/chat.eac19e8d.svg";var an=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=(n[0],n[1]);Object(a.useEffect)((function(){r()}),[]);var r=function(){try{var e=tn.a.connect(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"9bf7686b61e73fbd065a",REACT_APP_CLIENT_SECRET:"96c6add10bdf8ae41ab2b2c63cf7d6e13d2bbd35",REACT_APP_SERVER:"http://localhost:5000/"}).REACT_APP_SOCKET,{forceNew:!0,transports:["websocket"]});e.on("connect",(function(){return console.log("Is this client is connected? - ".concat(e.connected))}))}catch(t){s("client connection failed")}};return Object(h.jsx)(h.Fragment,{children:e.selectedChatGroup?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("section",{className:"chat__section",children:[Object(h.jsxs)("section",{className:"chat__area",children:[Object(h.jsx)(sn,{content:"Hello Dan",isAuthor:!0}),Object(h.jsx)(sn,{content:"Hello there, How are you?",isAuthor:!1}),Object(h.jsx)(sn,{content:"Not bad, what are you up to?",isAuthor:!0}),Object(h.jsx)(sn,{content:"Just watching footbal. How about you?",isAuthor:!1}),Object(h.jsx)(sn,{content:"Doing home work, so boring",isAuthor:!0})]}),Object(h.jsxs)("section",{className:"chat__send",children:[Object(h.jsx)(N.a,{placeholder:"Enter your message here",style:{width:"80%",height:"45px",border:"1px solid #d4d4d4"}}),Object(h.jsx)(rt.a,{children:Object(h.jsx)(st.a,{style:{width:"130px",height:"45px",background:"#134069",color:"#f5f5f5"},icon:Object(h.jsx)(J.a,{icon:"send",style:{height:"45px",background:"#134069",color:"#f5f5f5"}}),placement:"right",children:"Send"})})]})]})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{className:"chat__section",children:Object(h.jsx)("section",{className:"chat__section__empty",children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:nn,alt:"chatsvg"})})})})})})};function sn(e){var t=e.content,n=e.isAuthor;return Object(h.jsxs)("section",{className:"msg__component",style:{flexDirection:n?"row-reverse":"row"},children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:"https://avatars.githubusercontent.com/u/38032299?v=4",alt:"profilepic"})}),Object(h.jsx)("div",{className:"msg",style:{background:n?"#134069":"#FEFDFF",color:n?"#f5f5f5":"#575757"},children:t})]})}var rn=function(){return Object(h.jsx)("div",{})};var cn=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(le,{}),Object(h.jsxs)("section",{className:"collaborate__home",children:[Object(h.jsx)("section",{className:"ch__1",children:Object(h.jsx)(Zt,{selectedChatGroup:n,selectChatGroup:function(e){return s(e)}})}),Object(h.jsx)("section",{className:"ch__2",children:Object(h.jsx)(an,{selectedChatGroup:n})}),Object(h.jsx)("section",{className:"ch__3",children:Object(h.jsx)(rn,{})})]})]})};function on(){return Object(h.jsx)(St.a,{children:Object(h.jsxs)(E.d,{children:[Object(h.jsx)(E.b,{path:"/login",render:function(){return Object(h.jsx)(H,{})}}),Object(h.jsx)(E.b,{path:"/runtime_demo",render:function(){return Object(h.jsx)(U,{})}}),Object(h.jsx)(E.b,{path:"/ResetPassword",render:function(){return Object(h.jsx)(q,{})}}),Object(h.jsx)(M,{path:"/myprojects",component:ln}),Object(h.jsx)(M,{exact:!0,path:"/projects",component:ft}),Object(h.jsx)(M,{exact:!0,path:"/project/:id",component:ot}),Object(h.jsx)(M,{path:"/profile",component:Pt}),Object(h.jsx)(M,{path:"/admin",component:Gt}),Object(h.jsx)(M,{path:"/collaborate",component:cn}),Object(h.jsx)(G,{path:"/auth",component:yt})]})})}var ln=function(){return Object(h.jsx)("div",{children:"rere"})},dn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,630)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(on,{}),document.getElementById("root")),dn()},88:function(e,t,n){}},[[587,1,2]]]);
//# sourceMappingURL=main.ca08648c.chunk.js.map