(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{293:function(e,t,n){},429:function(e,t,n){},486:function(e,t,n){},516:function(e,t,n){},522:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(25),i=n.n(r),c=(n(293),n(87),n(294),n(9)),o=n.n(c),l=n(12),d=n(7),j=n(14),u=n(18),p=n.p+"static/media/loginPage.3890a5c6.svg",b=n(544),h=n(2),x="http://localhost:5000/",m={FETCH_DATA:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=4,fetch("".concat(x).concat(t),s);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,a.ok||b.a.error({title:null!==(i=r.msg)&&void 0!==i?i:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.abrupt("return",{status:a.status,data:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),POST_DATA:function(){var e=Object(l.a)(o.a.mark((function e(t,n,s){var a,r,i,c,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),r={method:"POST",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)},e.next=4,fetch("".concat(x).concat(t),r);case 4:return i=e.sent,e.next=7,i.json();case 7:return c=e.sent,i.ok?b.a.success({title:null!==(d=c.msg)&&void 0!==d?d:s,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):b.a.error({title:null!==(l=c.msg)&&void 0!==l?l:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.abrupt("return",{status:i.status});case 10:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),PUT_DATA:function(){var e=Object(l.a)(o.a.mark((function e(t,n,s){var a,r,i,c,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)},e.next=4,fetch("".concat(x).concat(t),r);case 4:return i=e.sent,e.next=7,i.json();case 7:return c=e.sent,i.ok?b.a.success({title:null!==(d=c.msg)&&void 0!==d?d:s,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):b.a.error({title:null!==(l=c.msg)&&void 0!==l?l:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.abrupt("return",{status:i.status});case 10:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),DELETE_DATA:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=4,fetch("".concat(x).concat(t),a);case 4:return(r=e.sent).ok?b.a.success({title:n,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):b.a.error({title:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.abrupt("return",{status:r.status});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var s=t[n].split("=");if(s[0]===e)return s[1]}return!1},ADDRESS:x},O=n(551),f=n(527),g=n(552),y=n(545),v=n(553),w=n(41),S=n(528),C=n(284),_=n(143),k=n(22),T=O.a.Types.StringType,I=O.a.Model({email:T().isRequired("Email is required."),password:T().isRequired("Password is required.")});function A(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var E=Object(k.h)((function(e){var t,n=Object(s.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),{login:!0,users:[],userLogin:"",userPass:"",firstname:"",resetEmail:"",show:!1,lastname:""}),a=Object(d.a)(n,2),r=a[0],i=a[1],c=function(){var t=Object(l.a)(o.a.mark((function t(n){var s,a,i,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=9;break}return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.userLogin,password:r.userPass})},t.next=4,fetch("http://localhost:5000/auth/login",s);case 4:return a=t.sent,t.next=7,a.json();case 7:i=t.sent,403===a.status?b.a.error({title:i.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):200===a.status&&(sessionStorage.setItem("sprintCompassToken",i.access_token),sessionStorage.setItem("sprintCompassUser",i.user),sessionStorage.setItem("sprintCompassUserName",i.name),sessionStorage.setItem("sprintCompassUserRole",i.userRole),sessionStorage.setItem("organization",i.organization),c=e.location.state||{from:{pathname:"/projects"}},l=c.from,i.firstLogin||!i.validGitToken?window.open("/auth","_self"):window.open(l.pathname,"_self"));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=(n=r.resetEmail.match(/.{1,29}/g)).join(" "),t.test(String(r.resetEmail).toLowerCase())){e.next=7;break}b.a.error({title:"Invalid Email",description:Object(h.jsxs)("div",{style:{width:220},rows:4,children:[" ",Object(h.jsx)("strong",{children:n})," is not a valid email"]}),placement:"topEnd"}),e.next=11;break;case 7:return e.next=9,m.FETCH_DATA("auth/reset_password/".concat(r.resetEmail));case 9:200===e.sent.status&&b.a.success({title:"Reset Email Sent",description:Object(h.jsxs)("div",{style:{width:220},rows:4,children:[" A reset email has been sent to ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:n}),"."]}),placement:"topEnd"});case 11:i({show:!1,resetEmail:""});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=m.getQueryVariable("msg"),t=m.getQueryVariable("error"),n=m.getQueryVariable("success"),s=window.location.origin+"/login";window.history.pushState({},null,s),e&&(e=decodeURI(e)),t?b.a.error({title:e||"Invalid Url",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):n&&b.a.success({title:"Password Updated Successfully",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"center",height:"900px",alignContent:"center"},children:[Object(h.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(h.jsx)("img",{style:{width:"100%",maxWidth:"750px"},src:p,alt:"homeimg"})}),Object(h.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(h.jsxs)("div",{style:{width:"80%",maxWidth:"450px"},children:[Object(h.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"100px"},children:["Welcome To",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{color:"#2D56B3",marginRight:"10px"},children:"Sprint"}),Object(h.jsx)("span",{style:{color:"#515B60"},children:"Compass"})]}),r.login&&Object(h.jsxs)(v.a,{className:"loginForm",model:I,onSubmit:function(e){c(e)},children:[Object(h.jsx)(A,{name:"email",label:"Email",onChange:function(e){return i({userLogin:e})}}),Object(h.jsx)(A,{name:"password",label:"Password",type:"password",onChange:function(e){return i({userPass:e})}}),Object(h.jsx)(w.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Sign In"})]}),Object(h.jsx)("div",{style:{textAlign:"center",color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer",marginTop:20,marginLeft:"30%",width:"29%"},onClick:function(){return i({show:!0})},children:"Forgot Password?"})]})})]}),Object(h.jsxs)(S.a,{backdrop:!0,size:"xs",show:r.show,onHide:function(){return i({show:!1,resetEmail:""})},children:[Object(h.jsxs)(S.a.Header,{children:[Object(h.jsx)(S.a.Title,{children:"Reset Your Password"}),Object(h.jsx)(C.a,{style:{marginBottom:-10,marginTop:0}})]}),Object(h.jsxs)(S.a.Body,{children:[Object(h.jsx)("p",{children:"Please enter your email to receive a password reset link."}),Object(h.jsx)(_.a,{style:{width:"90%",marginTop:10},name:"resetemail",value:r.resetEmail,onChange:function(e){return i({resetEmail:e})}})]}),Object(h.jsxs)(S.a.Footer,{children:[Object(h.jsx)(C.a,{style:{marginBottom:-5,marginTop:0}}),Object(h.jsx)(w.a,{disabled:""===(null===(t=r.resetEmail)||void 0===t?void 0:t.trim()),appearance:"primary",style:{marginLeft:"25%",width:"50%",marginTop:10},onClick:function(){return u()},children:"Reset Password"}),Object(h.jsx)(w.a,{onClick:function(){return i({show:!1,resetEmail:""})},appearance:"subtle",children:"Cancel"})]})]})]})})),B=n.p+"static/media/passwordRenew.ce6ee0c2.svg",P=n(30),N=n.n(P),z=n(554),D=O.a.Types.StringType;function H(e){var t=Object(s.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),c=Object(d.a)(i,2),j=(c[0],c[1]),u=Object(s.useState)(!0),p=Object(d.a)(u,2),b=p[0],x=p[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return x(!0),n=sessionStorage.getItem("sprintCompassToken"),s={method:"PUT",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({new_password:a})},e.next=6,fetch("".concat(m.ADDRESS,"api/users/reset_password"),s);case 6:200===(r=e.sent).status?window.open("/login?success=true","_self"):window.open("/login?error=true&msg=".concat(r.data.msg),"_self");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){g()}),[]);var g=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.getQueryVariable("token")){e.next=5;break}window.open("/login?error=true","_self"),e.next=18;break;case 5:return sessionStorage.setItem("sprintCompassToken",t),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=9,fetch("".concat(m.ADDRESS,"auth/validate_url"),n);case 9:if(200===(s=e.sent).status){e.next=17;break}return e.next=13,s.json();case 13:a=e.sent,window.open("/login?error=true&msg=".concat(a.msg),"_self"),e.next=18;break;case 17:x(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:[b&&Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),!b&&Object(h.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(h.jsx)("h2",{style:{textAlign:"center"},children:"Reset Your Password"}),Object(h.jsx)("hr",{}),Object(h.jsx)(z.a,{style:{height:"60vh"},children:Object(h.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(h.jsx)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("img",{style:{maxWidth:"550px"},src:B,alt:"passwordrenewimg"})}),Object(h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)(v.a,{model:O.a.Model({newPassword:D().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:D().addRule((function(e){return e===a}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){f(e)},children:[Object(h.jsx)(U,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){r(e)}}),Object(h.jsx)(U,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){j(e)}}),Object(h.jsx)(w.a,{type:"submit",style:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled:b,children:"Update Password"})]})})]})}),Object(h.jsx)("hr",{})]})]})}function U(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}n(428);var R=function(e){var t=e.component,n=Object(u.a)(e,["component"]),a=Object(s.useState)(!1),r=Object(d.a)(a,2),i=r[0],c=r[1],p=Object(s.useState)(!1),b=Object(d.a)(p,2),x=b[0],m=b[1],O=Object(s.useState)(!0),f=Object(d.a)(O,2),g=f[0],y=f[1];return Object(s.useEffect)((function(){var e=sessionStorage.getItem("sprintCompassToken");function t(){return(t=Object(l.a)(o.a.mark((function t(){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=3,fetch("http://localhost:5000/auth/validate",n);case 3:403===(s=t.sent).status?y(!1):307===s.status&&m(!0),c(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),i?Object(h.jsx)(k.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return g?x?Object(h.jsx)(k.a,{to:{pathname:"/auth",state:{from:e.location}}}):Object(h.jsx)(t,Object(j.a)({},e)):Object(h.jsx)(k.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})};var W=function(e){var t=e.component,n=Object(u.a)(e,["component"]),a=Object(s.useState)(!1),r=Object(d.a)(a,2),i=r[0],c=r[1],p=Object(s.useState)(!0),b=Object(d.a)(p,2),x=b[0],m=b[1],O=Object(s.useState)(!1),f=Object(d.a)(O,2),g=f[0],y=f[1];return Object(s.useEffect)((function(){var e=sessionStorage.getItem("sprintCompassToken");function t(){return(t=Object(l.a)(o.a.mark((function t(){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=3,fetch("http://localhost:5000/auth/authrenew_validate",n);case 3:200===(s=t.sent).status?(m(!0),c(!0)):403===s.status?m(!1):(m(!0),c(!1)),y(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),g?Object(h.jsx)(k.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return x?i?Object(h.jsx)(t,Object(j.a)({},e)):Object(h.jsx)(k.a,{to:{pathname:"/projects",state:{from:e.location}}}):Object(h.jsx)(k.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})},F=n(536),q=n(542),L=n(26),K=n(537),M=n(563),G=n(538),J=n(543),Y=n(564),V=n(547),Q=n(252),X=n(253),Z=n(134),$=n(285),ee=n(282),te=n.p+"static/media/logo.a451d6d9.svg",ne=(n(429),function(e){var t=e.active,n=e.onSelect,s=Object(u.a)(e,["active","onSelect"]);return Object(h.jsxs)(q.a,Object(j.a)(Object(j.a)({},s),{},{activeKey:t,onSelect:n,children:[Object(h.jsx)(q.a.Item,{style:{margin:"0 50px"},children:Object(h.jsx)("img",{style:{width:"80px"},src:te,alt:"logo",onClick:function(){window.open("/projects","_self")}})}),Object(h.jsx)(q.a.Item,{className:"navHeader",eventKey:"projects",children:"Projects"}),Object(h.jsx)(q.a.Item,{className:"navHeader",eventKey:"solutions",children:"Solutions"}),Object(h.jsx)(q.a.Item,{className:"navHeader",eventKey:"products",children:"Products"}),("owner"===sessionStorage.getItem("sprintCompassUserRole")||"admin"===sessionStorage.getItem("sprintCompassUserRole"))&&Object(h.jsx)(q.a.Item,{className:"navHeader",eventKey:"admin",children:"Administrator"}),Object(h.jsxs)(J.a,{style:{float:"right",marginRight:"30px"},className:"navHeader",title:sessionStorage.getItem("sprintCompassUserName"),children:[Object(h.jsx)(J.a.Item,{onClick:function(){return window.open("/profile","_self")},children:"Profile"}),Object(h.jsx)(J.a.Item,{children:"Settings"}),Object(h.jsx)(J.a.Item,{onClick:function(){return sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),void window.open("/login","_self")},children:"Log Out"})]})]}))}),se=function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(){var e;return Object(Q.a)(this,n),(e=t.call(this)).state={active:"home"},e.handleSelect=e.handleSelect.bind(Object(Z.a)(e)),e}return Object(X.a)(n,[{key:"handleSelect",value:function(e){"projects"===e?window.open(window.location.origin+"/projects","_self"):"admin"===e&&window.open(window.location.origin+"/admin","_self")}},{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/");"projects"===e[1]||"project"===e[1]?this.setState({active:"projects"}):"admin"===e[1]&&this.setState({active:"admin"})}},{key:"render",value:function(){var e=this.state.active;return Object(h.jsx)("div",{children:Object(h.jsx)(ne,{appearance:"subtle",active:e,onSelect:this.handleSelect})})}}]),n}(a.a.Component),ae=n(283),re=n(287),ie=n(549),ce=n(540),oe=n(557),le=n(555),de=n(148);function je(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(1),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(0),x=Object(d.a)(p,2),m=x[0],O=x[1],f=Object(s.useState)(""),g=Object(d.a)(f,2),y=g[0],S=g[1],C=Object(s.useState)(""),_=Object(d.a)(C,2),k=_[0],T=_[1],I=function(){var t=Object(l.a)(o.a.mark((function t(n){var s,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return s=sessionStorage.getItem("sprintCompassToken"),i={title:y,description:k,assigned_to:a,estimated_time:"".concat(j,",").concat(m),project_id:e.project_id,sprint_id:e.acitveSprint._id,parent_task:e.parentId},c={method:"POST",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(i)},t.next=6,fetch("http://localhost:5000/api/userstories",c);case 6:200===t.sent.status?(b.a.success({title:"Subtask Has Been Created",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),r(null),u(1),O(0),S(""),T(""),e.close()):b.a.error({title:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(v.a,{className:"loginForm",model:pe,style:{margin:"auto"},onSubmit:function(e){I(e)},children:[Object(h.jsx)(be,{name:"title",label:"Title",value:y,onChange:function(e){return S(e)}}),Object(h.jsx)(be,{name:"description",label:"Description",value:k,onChange:function(e){return T(e)}}),Object(h.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(h.jsx)(ce.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:400},value:a,onChange:function(e){return r(e)}}),Object(h.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(h.jsx)(le.a,{style:{width:250,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:j,onChange:function(e){return u(e)}}),Object(h.jsx)(le.a,{postfix:"Minute(s)",style:{width:250},min:0,max:59,value:m,onChange:function(e){return O(e)}})]}),Object(h.jsx)(w.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===y||""===k,children:"Submit"})]})}var ue=O.a.Types.StringType,pe=O.a.Model({title:ue().isRequired("Title is required."),description:ue().isRequired("Description is required.")});function be(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}function he(e){var t;return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(V.a,{style:{height:null!==(t=e.height)&&void 0!==t?t:"calc(100vh - 97px)"},children:[Object(h.jsx)(V.a.Item,{style:{margin:"auto"},colspan:12,children:Object(h.jsx)("img",{style:{width:"80%",display:"block",margin:"auto"},src:e.image,alt:""})}),Object(h.jsx)(V.a.Item,{colspan:12,style:{margin:"auto",textAlign:"center",fontSize:"22px"},children:e.msg})]})})})}var xe=n.p+"static/media/noactivesprint.5cfe79e4.svg",me=n(147),Oe=n.n(me);function fe(e){var t=Object(s.useState)(Oe.a.createEmptyValue()),n=Object(d.a)(t,2),a=n[0],r=n[1];Object(s.useEffect)((function(){r(Oe.a.createValueFromString(e.value,"html"))}),[]);return Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(Oe.a,{value:a,onChange:function(t){r(t),e.setText(t.toString("html"))},toolbarConfig:ge})})}var ge={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_DROPDOWN:[{label:"Text",style:"unstyled"},{label:"Heading",style:"header-four"},{label:"Code",style:"code-block"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]},ye=n.p+"static/media/gitBranch.b53578eb.svg",ve=n.p+"static/media/pullrequest.8d345ce7.svg",we=n(556),Se=n(548),Ce=(n(486),n(265)),_e=n.n(Ce);var ke=function(e){var t=Object(s.useState)(0),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(e.userStory.identifier),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(null),x=Object(d.a)(p,2),O=x[0],f=x[1],g=Object(s.useState)([]),y=Object(d.a)(g,2),v=y[0],S=y[1],C=Object(s.useState)(""),k=Object(d.a)(C,2),T=k[0],I=k[1],A=Object(s.useRef)(null),E=Object(s.useState)([]),B=Object(d.a)(E,2),P=B[0],N=B[1],z=Object(s.useState)(null),D=Object(d.a)(z,2),H=D[0],U=D[1],R=Object(s.useState)([]),W=Object(d.a)(R,2),F=W[0],q=W[1],K=function(){var e;null===(e=A.current)||void 0===e||e.scrollIntoView(!0)},M=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({branchName:j,repo:e.project.repo,sha:O,userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/git/createBranch",s);case 4:if(200!==(a=t.sent).status){t.next=11;break}r(0),e.refresh(),b.a.success({title:"Branch Has Been Created",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.next=15;break;case 11:return t.next=13,a.json();case 13:i=t.sent,b.a.error({title:i.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("api/userstories/comments/".concat(e.userStory._id));case 2:n=t.sent,S(n.data.comments);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("api/git/getCommitsByBranch?repo=".concat(e.project.repo,"&sha=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&(s=n.data.commits.data)&&(a=s.findIndex((function(t){return t.sha===e.userStory.git_branch_sha})),N(s.slice(0,a)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("api/git/getPullRequestByBranch?repo=".concat(e.project.repo,"&head=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&q(n.data.pullrequests.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({body:T,user:sessionStorage.getItem("sprintCompassUser"),userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/userstories/addComment",s);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,200===a.status?(S(r.comments),I("")):b.a.error({title:null!==(i=r.msg)&&void 0!==i?i:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){document.querySelectorAll(".us__tabs>div").forEach((function(e){var t="#e6e6e6";a===Number(e.getAttribute("data-index"))&&(t="#193A5A"),e.style["border-bottom"]="3px solid ".concat(t)})),0===a&&K()}),[a,P]),Object(s.useEffect)((function(){G(),e.userStory.git_branch_sha&&(J(),Y())}),[]),Object(s.useEffect)((function(){K()}),[v]),Object(h.jsxs)("section",{style:{height:"100%",background:"#f9f9f9"},children:[Object(h.jsxs)("section",{className:"us__tabs",children:[Object(h.jsx)("div",{"data-index":"0",onClick:function(){return r(0)},children:"Comments"}),!e.userStory.git_branch&&Object(h.jsx)("div",{"data-index":"1",onClick:function(){return r(1)},children:"Github Branch"}),Object(h.jsx)("div",{"data-index":"2",onClick:function(){return r(2)},children:"History"}),Object(h.jsx)("div",{"data-index":"3",onClick:function(){return r(3)},children:"Commits"}),e.userStory.git_branch&&Object(h.jsx)("div",{"data-index":"4",onClick:function(){return r(4)},children:"Pull Request"})]}),0===a&&Object(h.jsxs)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:[Object(h.jsxs)("section",{className:"scrollable",style:{height:"86%",overflowY:"auto",overflowX:"hidden"},children:[0===v.length&&Object(h.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No comments found"}),v.map((function(e,t){return Object(h.jsxs)("section",{style:{display:"flex",width:"100%",margin:"10px 0",borderBottom:"1px solid #e6e6e6",padding:"15px"},ref:v.length-1===t?A:null,children:[Object(h.jsx)("div",{style:{width:"100px"},children:Object(h.jsx)("img",{style:{width:"55px",margin:"auto",display:"block",borderRadius:"50%"},src:e.user.git_avatar,alt:"avatar"})}),Object(h.jsxs)("div",{style:{width:"80%"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{style:{fontWeight:600,marginRight:"10px"},children:"".concat(e.user.firstname," ").concat(e.user.lastname)}),Object(h.jsx)("span",{style:{float:"right"},children:e.created_at})]}),Object(h.jsx)("div",{style:{marginTop:"5px"},children:e.body})]})]},t)})),Object(h.jsx)("div",{ref:A})]}),Object(h.jsxs)("section",{style:{height:"14%"},children:[Object(h.jsx)(_.a,{onChange:function(e){return I(e)},componentClass:"textarea",value:T,rows:3,placeholder:"Add a Comment",onPressEnter:function(){return V()}}),Object(h.jsx)(w.a,{onClick:function(){return V()},disabled:!T,appearance:"primary",style:{width:"100px",marginTop:"20px",float:"right"},children:"Post"})]})]}),1===a&&Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignContent:"center",height:"90%",flexWrap:"wrap",overflowY:"hidden"},children:[0===e.gitBranches.length&&Object(h.jsx)(we.a,{type:"info",title:"Empty Repository",description:Object(h.jsx)("p",{children:"You cannot create branch for an empty repo "})}),!e.userStory.git_branch&&e.gitBranches.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",width:"100%",marginBottom:"100px"},children:"Create Github Branch"}),Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(h.jsx)("section",{style:{flex:1},children:Object(h.jsx)("img",{style:{width:"80%",margin:"auto",display:"block"},src:ye,alt:"gitbranch"})}),Object(h.jsxs)("section",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{margin:"5px"},children:"Branch Out From"}),Object(h.jsx)(ce.a,{data:e.gitBranches.map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Branch From",onChange:function(t){f(t?e.gitBranches.find((function(e){return e.name===t})).commit.sha:null)}})]}),Object(h.jsxs)("div",{style:{marginTop:"15px"},children:[Object(h.jsx)("div",{style:{margin:"5px"},children:"Branch Name"}),Object(h.jsx)(_.a,{style:{width:224},placeholder:"Name",onChange:function(e){return u(e)},value:j})]}),Object(h.jsx)(w.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:""===j||!O,onClick:function(){return M()},children:"Create Branch"})]})]})]})]}),2===a&&Object(h.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px",overflowY:"auto",overflowX:"hidden"},className:"scrollable",children:Object(h.jsx)(Se.a,{endless:!0,className:"custom-timeline",children:e.history.map((function(e){return Object(h.jsxs)(Se.a.Item,{dot:Object(h.jsx)(L.a,{icon:"check",size:"2x",style:{background:"#1A3B5A",color:"#fff"}}),children:[Object(h.jsx)("p",{children:e.timestamp}),Object(h.jsx)("p",{children:e.user}),Object(h.jsx)("p",{style:{fontWeight:600},children:e.content})]})}))})}),3===a&&Object(h.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:Object(h.jsxs)("section",{className:"scrollable",style:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:[0===P.length&&Object(h.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No commits found"}),P.map((function(e,t){return Object(h.jsxs)("section",{style:{padding:"15px 0",display:"flex",width:"100%",borderBottom:"1px solid #e6e6e6"},children:[Object(h.jsx)("div",{style:{flex:1},children:Object(h.jsx)("img",{style:{width:"60px",margin:"auto",display:"block",borderRadius:"50%"},src:e.author.avatar_url,alt:"avatar"})}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("span",{style:{fontWeight:600},children:"".concat(e.committer.login)})}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.commit.message}),Object(h.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:_e()(e.commit.author.date).local().format("YYYY/MM/DD HH:mm:ss")}),Object(h.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("span",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))]})}),4===a&&Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[Object(h.jsx)("section",{style:{width:"100%",height:"40vh",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:Object(h.jsx)("img",{style:{height:"80%"},src:ve,alt:"gitbranch"})}),P.length>0?Object(h.jsxs)(h.Fragment,{children:[F.length>0&&Object(h.jsx)("div",{style:{marginTop:"30px",width:"100%"},children:F.map((function(e,t){return Object(h.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90%",margin:"auto",textAlign:"left",borderTop:"1px solid #e6e6e6",borderBottom:"1px solid #e6e6e6",padding:"20px 0"},children:[Object(h.jsx)("section",{style:{flex:".5"},children:Object(h.jsx)("img",{src:e.user.avatar_url,alt:"git_avatar",style:{width:"50px",borderRadius:"50%"}})}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Created By"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.user.login})]}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.title})]}),Object(h.jsxs)("section",{style:{flex:1},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request to"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.base.ref})]}),Object(h.jsxs)("section",{style:{flex:".75"},children:[Object(h.jsx)("div",{style:{fontSize:"12px"},children:"Status"}),Object(h.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.state})]}),Object(h.jsx)("section",{style:{flex:".5"},children:Object(h.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))}),0===F.length&&Object(h.jsxs)("section",{style:{width:"100%",padding:"30px",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"5px 0"},children:"Base Branch"}),Object(h.jsx)(ce.a,{data:e.gitBranches.filter((function(t){return t.name!==e.userStory.git_branch})).map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Base Branch",onChange:function(e){return U(e)}})]}),Object(h.jsx)(w.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:!H,onClick:function(){var t=sessionStorage.getItem("organization"),n=e.project.repo,s=e.userStory.git_branch;window.open("https://github.com/".concat(t,"/").concat(n,"/compare/").concat(H,"...").concat(s),"_blank")},children:"Create Pull Request"})]})]}):Object(h.jsx)("div",{children:"No commits found to make a pull request"})]})]})},Te=["To Do","In Progress","Testing","Done"],Ie=["#01949A","#2196F3","#134069","#4CAF50"];var Ae=Object(k.h)((function(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)([]),c=Object(d.a)(i,2),u=c[0],p=c[1],x=Object(s.useState)(!1),O=Object(d.a)(x,2),f=O[0],g=O[1],y=Object(s.useState)(null),v=Object(d.a)(y,2),C=v[0],k=v[1],T=Object(s.useState)(""),I=Object(d.a)(T,2),A=I[0],E=I[1],B=Object(s.useState)(""),P=Object(d.a)(B,2),z=P[0],D=P[1],H=Object(s.useState)(""),U=Object(d.a)(H,2),R=U[0],W=U[1],F=Object(s.useState)(null),q=Object(d.a)(F,2),K=q[0],M=q[1],G=Object(s.useState)(null),J=Object(d.a)(G,2),Y=J[0],Q=J[1],X=Object(s.useState)(null),Z=Object(d.a)(X,2),$=Z[0],ee=Z[1],te=Object(s.useState)(null),ne=Object(d.a)(te,2),se=ne[0],ue=ne[1],pe=Object(s.useState)(null),be=Object(d.a)(pe,2),me=be[0],Oe=be[1],ge=Object(s.useState)(null),ye=Object(d.a)(ge,2),ve=ye[0],we=ye[1],Se=Object(s.useState)([]),Ce=Object(d.a)(Se,2),_e=Ce[0],Ae=Ce[1],Ee=Object(s.useState)(!1),Be=Object(d.a)(Ee,2),Pe=Be[0],Ne=Be[1],ze=Object(s.useState)([]),De=Object(d.a)(ze,2),He=De[0],Ue=De[1],Re=function(e){var t=[];t.push(e.filter((function(e){return"To Do"===e.state}))),t.push(e.filter((function(e){return"In Progress"===e.state}))),t.push(e.filter((function(e){return"Testing"===e.state}))),t.push(e.filter((function(e){return"Done"===e.state}))),t.forEach((function(e){e.forEach((function(e){e.parent_task&&(e.identifier="".concat(e.parent_task.identifier,"/").concat(e.identifier))})),e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),r(t)},We=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({_id:t,state:n})},e.next=4,fetch("http://localhost:5000/api/userstories",a);case 4:e.sent.ok&&Fe();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.next=4,fetch("http://localhost:5000/api/userstories/bySprint/".concat(e.sprint._id),s);case 4:if(!(a=t.sent).ok){t.next=12;break}return t.next=8,a.json();case 8:r=t.sent,Re(r.userstories),p(r.userstories),C&&k(r.userstories.find((function(e){return e._id===C._id})));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},z!==C.title&&(a.title=z),R!==C.description&&(a.description=R),K!==(null===(t=C.assigned_to)||void 0===t?void 0:t._id)&&(a.assigned_to=K),Y===C.estimated_time.split(",")[0]&&$===C.estimated_time.split(",")[1]||(a.estimated_time="".concat(Y,",").concat($)),se===(null===(n=C.time_spent)||void 0===n?void 0:n.split(",")[0])&&me===(null===(s=C.time_spent)||void 0===s?void 0:s.split(",")[1])||"0"===se&&"0"===me||(a.time_spent="".concat(se,",").concat(me)),ve&&(a.moveto_backlog=!0),0!==Object.keys(a).length){e.next=10;break}return g(!1),e.abrupt("return");case 10:return a._id=C._id,r=sessionStorage.getItem("sprintCompassToken"),i={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)},e.next=15,fetch("http://localhost:5000/api/userstories",i);case 15:e.sent.ok&&(b.a.success({title:"User Story Has Been Updated",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),g(!1),Fe());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var t=Object(l.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=n.map((function(t){var n="";if("user_story"===t.attribute)n="Created the task";else if("description"===t.attribute)n="Updated Description";else if("state"===t.attribute)n='Changed state from "'.concat(t.old_value,'" to  "').concat(t.new_value,'"');else if("title"===t.attribute)n='Updated Title to  "'.concat(t.new_value,'"');else if("assigned_to"===t.attribute){var s=e.collaborators.find((function(e){return e._id===t.new_value}));n=s?"Changed Assiginee to ".concat(s.firstname," ").concat(s.lastname):"Unassigned"}else"estimated_time"===t.attribute?n="Re-estimated the task to be completed in ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"time_spent"===t.attribute?n="Increased the time stpent to ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"state"===t.attribute?n="Changed State from ".concat(t.old_value," to ").concat(t.new_value):"moveto_backlog"===t.attribute?n="Moved task to backlog.":"sprint_id"===t.attribute&&(n="Moved task to sprint ".concat(t.new_value));var a=e.collaborators.find((function(e){return e._id===t.updated_by}));return{timestamp:t.timestamp,content:n,user:"".concat(null===a||void 0===a?void 0:a.firstname," ").concat(null===a||void 0===a?void 0:a.lastname)}})),Ae(s);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ke=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("api/git/getAllBranches/".concat(e.project.repo));case 2:200===(n=t.sent).status&&(s=n.data.branches.data,Ue(s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Fe(),Ke()}),[]),Object(h.jsxs)("div",{children:[a?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"100px 0 10px 0"},children:Object(h.jsx)(de.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n){var s=+t.droppableId,i=+n.droppableId;if(s!==i){We(e.draggableId,Te[n.droppableId]);var c=function(e,t,n,s){var a=Array.from(e),r=Array.from(t),i=a.splice(n.index,1),c=Object(d.a)(i,1)[0];r.splice(s.index,0,c);var o={};return o[n.droppableId]=a,o[s.droppableId]=r,o}(a[s],a[i],t,n),o=Object(ae.a)(a);o[s]=c[s],o[i]=c[i],o.forEach((function(e){e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),r(o)}}},children:a.map((function(t,n){return Object(h.jsx)(de.c,{droppableId:"".concat(n),children:function(s,a){return Object(h.jsxs)("div",Object(j.a)(Object(j.a)({ref:s.innerRef,style:(r=u.length,{padding:8,width:350,minHeight:0===r?"100px":"75vh",margin:"0 10px"})},s.droppableProps),{},{children:[Object(h.jsxs)("div",{style:{padding:"20px",margin:"10px 0",color:"#575757",fontWeight:"bold",fontSize:"18px",borderTop:"7px solid ".concat(Ie[n]),position:"relative"},children:[0===n&&Object(h.jsxs)("div",{style:{position:"absolute",fontSize:"23px",fontWeight:"700",left:0,top:-80},children:["Sprint - ",e.sprint.name]}),Te[n]]}),t.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)(de.b,{draggableId:String(e._id),index:t,children:function(t,s){return Object(h.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(a=s.isDragging,r=t.draggableProps.style,i=!!e.parent_task,Object(j.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,i?"px 20px":"px 0"),borderRadius:"10px",background:a?"#f5f5f5":"#ffffff",border:"1px solid #e6e6e6",cursor:"pointer",boxShadow:"0 2px 5px #e6e6e6"},r)),onClick:function(){var t,n,s;g(!0),k(e),Le(e.history),E(e.identifier),D(e.title),W(e.description),M(null===(t=e.assigned_to)||void 0===t?void 0:t._id),Q(null===(n=e.estimated_time)||void 0===n?void 0:n.split(",")[0]),ee(null===(s=e.estimated_time)||void 0===s?void 0:s.split(",")[1]),ue(e.time_spent?e.time_spent.split(",")[0]:"0"),Oe(e.time_spent?e.time_spent.split(",")[1]:"0"),we(!1)},children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)(re.a,{style:{color:"#f5f5f5",fontWeight:"600",marginBottom:"10px",background:Ie[n]},children:e.title}),Object(h.jsx)(re.a,{style:{fontWeight:"600",marginBottom:"10px",background:"#ececec"},children:e.identifier})]}),Object(h.jsxs)("div",{style:{marginTop:"15px"},children:[Object(h.jsx)(L.a,{icon:"user-circle-o",style:{marginRight:"5px"}}),e.assigned_to?"".concat(e.assigned_to.firstname," ").concat(e.assigned_to.lastname):"Unassigned"]})]})}));var a,r,i}},e._id)},t)})),s.placeholder]}));var r}},n)}))})}),0===u.length&&Object(h.jsx)(he,{msg:"No User Stories Found",image:xe,height:"300px"})]}):Object(h.jsx)("div",{style:{height:"80vh"},children:Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),Object(h.jsxs)(ie.a,{show:f,onHide:function(){g(!1),k(null)},style:{width:"100%"},children:[Object(h.jsx)(ie.a.Header,{}),Object(h.jsx)(ie.a.Body,{children:!!C&&Object(h.jsxs)("div",{style:{display:"flex",height:"100%",justifyContent:"space-between"},children:[Object(h.jsxs)("div",{style:{width:"40%",display:"flex",justifyContent:"start",height:"100%",flexWrap:"wrap",marginLeft:"30px",textAlign:"left"},children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",width:"100%"},children:[Object(h.jsx)(L.a,{icon:"task",size:"2x"}),Object(h.jsx)("h3",{style:{color:"#193A5A",marginLeft:"15px"},children:A}),Object(h.jsx)(w.a,{appearance:"default",style:{background:"#e6e6e6",marginLeft:"auto"},onClick:function(){return Ne(!0)},children:"Create Subtask"})]}),Object(h.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Title"}),Object(h.jsx)(_.a,{style:{fontSize:"20px",width:"100%",fontWeight:"bold"},value:z,onChange:function(e){return D(e)}}),Object(h.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Description"}),Object(h.jsx)(fe,{setText:function(e){return W(e)},value:R}),Object(h.jsxs)(V.a,{style:{width:"100%",marginTop:"50px"},children:[Object(h.jsxs)(V.a.Item,{colspan:12,children:[Object(h.jsx)("p",{style:{width:"100%",margin:"0 0 5px 15px",fontWeight:"600"},children:"Assigned To"}),Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(ce.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{padding:"5px 0",maxWidth:"310px",marginLeft:"12px"},value:K,onChange:function(e){return M(e)}})}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Github Branch"}),Object(h.jsx)("div",{style:{margin:"0 15px"},children:C.git_branch}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Move to Backlog"}),Object(h.jsx)(oe.a,{style:{margin:"0 12px"},checkedChildren:Object(h.jsx)(L.a,{icon:"check"}),unCheckedChildren:Object(h.jsx)(L.a,{icon:"close"}),value:ve,onChange:function(e){return we(e)}})]}),Object(h.jsxs)(V.a.Item,{colspan:12,children:[Object(h.jsx)("p",{style:{width:"100%",margin:"0px 0 5px 15px",fontWeight:"600"},children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(h.jsx)(le.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:null!==Y&&void 0!==Y?Y:0,onChange:function(e){return Q(e)}}),Object(h.jsx)(le.a,{postfix:"Minute(s)",style:{width:150},min:0,max:59,value:null!==$&&void 0!==$?$:0,onChange:function(e){return ee(e)}})]}),Object(h.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Time Spent"}),Object(h.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(h.jsx)(le.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:null!==se&&void 0!==se?se:0,onChange:function(e){return ue(e)}}),Object(h.jsx)(le.a,{postfix:"Minute(s)",style:{width:150},min:0,max:59,value:null!==me&&void 0!==me?me:0,onChange:function(e){return Oe(e)}})]})]})]}),Object(h.jsx)("div",{style:{height:"1px",width:"100%",background:"#e6e6e6",margin:"30px 0"}}),Object(h.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(h.jsx)(w.a,{appearance:"primary",style:{width:"250px"},onClick:function(){return qe()},children:"Update User Story"})})]}),Object(h.jsx)("div",{style:{width:"55%",borderLeft:"1px solid #e6e6e6"},children:Object(h.jsx)(ke,{gitBranches:He,project:e.project,userStory:C,refresh:function(){return Fe()},history:_e})})]})})]}),Object(h.jsxs)(S.a,{show:Pe,overflowY:!1,onHide:function(){return Ne(!1)},children:[Object(h.jsx)(S.a.Header,{children:Object(h.jsx)(S.a.Title,{children:"Create Subtask"})}),Object(h.jsx)(S.a.Body,{children:Object(h.jsx)(je,{project_id:e.project_id,acitveSprint:e.sprint,collaborators:e.collaborators,parentId:null===C||void 0===C?void 0:C._id,close:function(){Ne(!1),Fe()}})})]})]})})),Ee=n.p+"static/media/createTicket.ea7c0d8a.svg",Be=n.p+"static/media/sprint.30c319a6.svg",Pe=n(558),Ne=n.p+"static/media/nobacklog.e26594b8.svg";function ze(e){var t=Object(s.useState)([]),n=Object(d.a)(t,2),a=n[0],r=n[1],i=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.next=4,fetch("http://localhost:5000/api/userstories/backlogs/".concat(e.project_id),s);case 4:return a=t.sent,t.next=7,a.json();case 7:i=t.sent,r(i.userstories);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(l.a)(o.a.mark((function t(n){var s,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s={})._id=n._id,s.sprint_id=e.acitveSprint._id,a=sessionStorage.getItem("sprintCompassToken"),r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)},t.next=7,fetch("http://localhost:5000/api/userstories",r);case 7:t.sent.ok&&(b.a.success({title:"User Story Has Been Moved to the Active Sprint",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),i());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){i()}),[]),Object(h.jsx)("div",{children:0===a.length?Object(h.jsx)(he,{image:Ne,msg:"So empty!"}):Object(h.jsx)("div",{style:{margin:"50px auto",width:"80%"},children:Object(h.jsx)(Pe.a,{accordion:!0,defaultActiveKey:null,bordered:!0,children:a.map((function(t,n){return Object(h.jsx)(z.a,{header:t.title,eventKey:n+1,children:Object(h.jsxs)(V.a,{style:{minHeight:"300px"},children:[Object(h.jsx)(V.a.Item,{colspan:12,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",margin:"10px 0"},children:t.title}),Object(h.jsx)("div",{style:{padding:"20px",background:"#f5f5f5",height:"250px",overflowY:"auto"},children:t.description})]})}),Object(h.jsx)(V.a.Item,{colspan:12,style:{height:"300px"},children:Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(h.jsx)(w.a,{style:{padding:"20px",color:"#f5f5f5",background:"#134069"},disabled:!e.acitveSprint,onClick:function(){return c(t)},children:"Move To Active Sprint"})})})]})},n)}))})})})}function De(){return Object(h.jsx)("div",{children:"Hello World"})}function He(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(1),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(0),b=Object(d.a)(p,2),x=b[0],O=b[1],f=Object(s.useState)(""),g=Object(d.a)(f,2),y=g[0],S=g[1],C=Object(s.useState)(""),_=Object(d.a)(C,2),k=_[0],T=_[1],I=Object(s.useState)(null),A=Object(d.a)(I,2),E=A[0],B=A[1],P=function(){var t=Object(l.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=11;break}return"User Story Has Been Created",s={title:y,description:k,assigned_to:a,estimated_time:"".concat(j,",").concat(x),sprint_id:-1===E?null:E,project_id:e.project_id},t.next=5,m.POST_DATA("api/userstories",s,"User Story Has Been Created");case 5:r(null),u(1),O(0),S(""),T(""),B(null);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(v.a,{className:"loginForm",model:Re,style:{margin:"auto"},onSubmit:function(e){P(e)},children:[Object(h.jsx)(We,{name:"title",label:"Title",value:y,onChange:function(e){return S(e)}}),Object(h.jsx)(We,{name:"description",label:"Description",value:k,onChange:function(e){return T(e)}}),Object(h.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(h.jsx)(ce.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:400},value:a,onChange:function(e){return r(e)}}),Object(h.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Select a Destination"}),Object(h.jsx)(ce.a,{data:e.acitveSprint?[{label:e.acitveSprint.name,value:e.acitveSprint._id},{label:"Backlog",value:-1}]:[{label:"Backlog",value:-1}],placeholder:"Destination",style:{width:400},value:E,onChange:function(e){return B(e)}}),Object(h.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(h.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(h.jsx)(le.a,{style:{width:250,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:j,onChange:function(e){return u(e)}}),Object(h.jsx)(le.a,{postfix:"Minute(s)",style:{width:250},min:0,max:59,value:x,onChange:function(e){return O(e)}})]}),Object(h.jsx)(w.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===y||""===k,children:"Submit"})]})}var Ue=O.a.Types.StringType,Re=O.a.Model({title:Ue().isRequired("Title is required."),description:Ue().isRequired("Description is required.")});function We(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var Fe=n(550),qe=n(539),Le=n(559);function Ke(e){var t=Object(s.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(0),x=Object(d.a)(p,2),m=x[0],O=x[1],f=Object(s.useState)([]),g=Object(d.a)(f,2),y=g[0],S=g[1];Object(s.useEffect)((function(){e.acitveSprint&&C()}),[]);var C=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.next=4,fetch("http://localhost:5000/api/userstories/unfinishedTask/".concat(e.acitveSprint._id),s);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,i=[],r.userstories.forEach((function(e,t){var n=e.estimated_time.split(",");i.push({story:e.identifier,estimated_hours:n[0],estimated_mins:n[1],re_estimated_hours:Object(h.jsx)(le.a,{onChange:function(e){i[t].hours=e,S(i)},max:50,min:0}),re_estimated_mins:Object(h.jsx)(le.a,{onChange:function(e){i[t].mins=e,S(i)},max:59,min:0,defaultValue:0}),move_to_backlog:Object(h.jsx)(oe.a,{onChange:function(e){i[t].moveto_backlog=e,S(i)}}),moveto_backlog:!1,hours:0,mins:0,id:e._id})})),S(i);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(e){O(e<0?0:e>3?3:e)},k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,r,i,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],y.forEach((function(e){n.push({id:e.id,estimated_time:"".concat(e.hours,",").concat(e.mins),moveto_backlog:e.moveto_backlog})})),!e.acitveSprint){t.next=5;break}return t.next=5,k();case 5:return s=sessionStorage.getItem("sprintCompassToken"),r={method:"POST",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({name:a,description:j,project_id:e.project_id,sprint_id:e.acitveSprint?e.acitveSprint._id:null,user_stories:n})},t.next=9,fetch("http://localhost:5000/api/sprints",r);case 9:return i=t.sent,t.next=12,i.json();case 12:c=t.sent,200===i.status?(b.a.success({title:"Sprint Created Successfully",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.refresh()):b.a.error({title:null!==(l=c.msg)&&void 0!==l?l:"Server error",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"35px",fontWeight:"400"},children:"Create Sprint"}),Object(h.jsxs)("div",{style:{padding:"0 40px",width:"90%"},children:[Object(h.jsxs)(Fe.a,{current:m,children:[Object(h.jsx)(Fe.a.Item,{title:"Sprint Info",description:"Sprint Information"}),e.acitveSprint&&Object(h.jsx)(Fe.a.Item,{title:"Manage User Stories",description:"Re-Estimate/ Move to Backlog"}),Object(h.jsx)(Fe.a.Item,{title:"Submit",description:"Create New Sprint"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(z.a,{style:{height:"40vh",padding:"0"},children:[0===m&&Object(h.jsxs)(v.a,{className:"loginForm",style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:[Object(h.jsx)("div",{style:{width:"70%",margin:"10px 0"},children:Object(h.jsx)(Me,{name:"title",label:"Title",value:a,onChange:function(e){return r(e)}})}),Object(h.jsx)("div",{style:{width:"70%"},children:Object(h.jsx)(Me,{name:"description",label:"Description",value:j,onChange:function(e){return u(e)}})})]}),e.acitveSprint&&1===m&&Object(h.jsxs)(qe.a,{cellBordered:!0,height:350,data:y,headerHeight:80,rowHeight:60,style:{border:"1px solid #e6e6e6"},children:[Object(h.jsxs)(qe.a.Column,{align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(h.jsx)(qe.a.HeaderCell,{children:"User Story"}),Object(h.jsx)(qe.a.Cell,{dataKey:"story"})]}),Object(h.jsxs)(qe.a.ColumnGroup,{align:"center",verticalAlign:"middle",header:"Estimated",flexGrow:1,children:[Object(h.jsxs)(qe.a.Column,{children:[Object(h.jsx)(qe.a.HeaderCell,{children:"Hours"}),Object(h.jsx)(qe.a.Cell,{dataKey:"estimated_hours"})]}),Object(h.jsxs)(qe.a.Column,{children:[Object(h.jsx)(qe.a.HeaderCell,{children:"Minutes"}),Object(h.jsx)(qe.a.Cell,{dataKey:"estimated_mins"})]})]}),Object(h.jsxs)(qe.a.ColumnGroup,{header:"Re-Estimate",align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(h.jsxs)(qe.a.Column,{children:[Object(h.jsx)(qe.a.HeaderCell,{children:"Hours"}),Object(h.jsx)(qe.a.Cell,{dataKey:"re_estimated_hours"})]}),Object(h.jsxs)(qe.a.Column,{children:[Object(h.jsx)(qe.a.HeaderCell,{children:"Minutes"}),Object(h.jsx)(qe.a.Cell,{dataKey:"re_estimated_mins"})]})]}),Object(h.jsxs)(qe.a.Column,{flexGrow:1,align:"center",verticalAlign:"middle",children:[Object(h.jsx)(qe.a.HeaderCell,{children:"Move to Backlog"}),Object(h.jsx)(qe.a.Cell,{dataKey:"move_to_backlog"})]})]}),(2===m||!e.acitveSprint)&&Object(h.jsx)("div",{style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:Object(h.jsx)(w.a,{style:{width:"300px",background:"#134069",color:"#f5f5f5"},onClick:T,children:"Create Sprint"})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(Le.a,{children:[Object(h.jsx)(w.a,{onClick:function(){return _(m-1)},disabled:0===m,children:"Previous"}),Object(h.jsx)(w.a,{type:"submit",onClick:function(){a&&j&&(1===m&&y.find((function(e){return 0===Number(e.hours)&&0===Number(e.mins)}))||_(m+1))},disabled:e.acitveSprint?2===m:1===m,children:"Next"})]})]})]})}function Me(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var Ge=n.p+"static/media/sprintHome.9f97a044.svg",Je=n(278),Ye=n.n(Je),Ve=n(254),Qe=n(560),Xe=n(561),Ze=n(286),$e=n(562);var et=function(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(null),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(!1),b=Object(d.a)(p,2),x=b[0],O=b[1],f=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("api/git/getRepo/".concat(e.project.repo));case 2:n=t.sent,r(n.data.repo.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={project_id:e.project._id,user_id:j},"Successfully added the user",t.next=4,m.PUT_DATA("api/projects/addMember",n,"Successfully added the user");case 4:O(!1),e.getMembers(e.project._id),f();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){f()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{style:{display:"flex",height:"70vh"},children:[Object(h.jsx)("section",{style:{width:"50%",display:"flex",alignItems:"center"},children:Object(h.jsx)("img",{style:{maxWidth:"700px",display:"block",margin:"auto"},src:Ge,alt:"homeimg"})}),a&&e.membersIn&&e.membersIn.length>0?Object(h.jsxs)("section",{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignContent:"center",flexWrap:"wrap"},children:[Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"30px",fontWeight:"bold"},children:e.project.name}),Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:e.project.description}),Object(h.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"20px",marginTop:"40px",fontWeight:"bold"},children:"Contributors"}),Object(h.jsx)("div",{className:"avatar-group",style:{justifyContent:"center",display:"flex",width:"50%",margin:"auto",flexWrap:"wrap"},children:e.membersIn.map((function(e,t){return Object(h.jsx)(Ve.a,{trigger:"hover",placement:"top",speaker:Object(h.jsx)(Qe.a,{title:"".concat(e.firstname," ").concat(e.lastname)}),children:Object(h.jsx)(Xe.a,{circle:!0,style:{background:"#828282",cursor:"pointer",margin:"10px"},src:e.git_avatar})},t)}))}),Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"40px"},children:[["owner","admin"].includes(sessionStorage.getItem("sprintCompassUserRole").toLowerCase())&&Object(h.jsx)(Ze.a,{icon:Object(h.jsx)(L.a,{icon:"user-plus"}),placement:"left",size:"md",style:{marginRight:"10px",border:"1px solid #e6e6e6"},onClick:function(){return O(!0)},children:"Add Member"}),Object(h.jsx)(Ze.a,{size:"md",style:{border:"1px solid #e6e6e6"},icon:Object(h.jsx)(L.a,{icon:"github"}),placement:"left",onClick:function(){return window.open(a.html_url,"_blank")},children:"Open with Github"})]}),Object(h.jsxs)("div",{style:{marginTop:"40px",display:"flex"},children:[Object(h.jsxs)("div",{"data-div-text":a.clone_url,style:{display:"flex"},children:[Object(h.jsx)("div",{style:{background:"#e6e6e6",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"5px 0 0 5px"},children:"Clone Url"}),Object(h.jsx)("div",{style:{background:"#f5f5f5",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"0 5px 5px 0"},children:a.clone_url})]}),Object(h.jsx)(Ye.a,{"data-clipboard-text":a.clone_url,style:{background:"#134069",color:"#f5f5f5",width:"60px",borderRadius:"0 5px 5px 0"},children:"copy"})]})]}):Object(h.jsx)(N.a,{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignItems:"center"},type:"ThreeDots",color:"#134069",height:50,width:50})]}),Object(h.jsx)(ie.a,{show:x,onHide:function(){O(!1),u(null)},children:Object(h.jsx)(ie.a.Body,{children:Object(h.jsx)("div",{className:"drawerBody",children:Object(h.jsxs)(v.a,{onSubmit:function(){g()},children:[Object(h.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Add a Member"}),e.membersNotIn&&0===e.membersNotIn.length&&Object(h.jsx)("div",{style:{textAlign:"center"},children:"No new members to add"}),e.membersNotIn&&e.membersNotIn.length>0&&Object(h.jsxs)("div",{children:[Object(h.jsx)(ce.a,{data:e.membersNotIn.map((function(e){return{label:e.firstname+" "+e.lastname,value:e._id}})),style:{width:224},onChange:function(e){return u(e)}}),Object(h.jsx)($e.a,{children:Object(h.jsx)(w.a,{appearance:"primary",type:"submit",style:{width:"100%",margin:"30px 0"},disabled:!j,children:"Submit"})})]})]})})})})]})},tt=function(e){var t=e.expand,n=e.onChange;return Object(h.jsx)(F.a,{appearance:"inverse",style:{background:"#134069"},className:"nav-toggle",children:Object(h.jsx)(F.a.Body,{children:Object(h.jsx)(q.a,{pullRight:!0,children:Object(h.jsx)(q.a.Item,{onClick:n,style:{width:56,textAlign:"center"},children:Object(h.jsx)(L.a,{icon:t?"angle-left":"angle-right"})})})})})};var nt=Object(k.h)((function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),i=Object(d.a)(r,2),c=i[0],j=i[1],u=Object(s.useState)(null),p=Object(d.a)(u,2),b=p[0],x=p[1],O=Object(s.useState)([]),f=Object(d.a)(O,2),g=(f[0],f[1]),y=Object(s.useState)(!0),v=Object(d.a)(y,2),w=v[0],S=v[1],C=Object(s.useState)(!1),_=Object(d.a)(C,2),T=_[0],I=_[1],A=Object(s.useState)(!1),E=Object(d.a)(A,2),B=E[0],P=E[1],N=Object(s.useState)(!1),z=Object(d.a)(N,2),D=z[0],H=z[1],U=Object(s.useState)(!1),R=Object(d.a)(U,2),W=R[0],F=R[1],Q=Object(s.useState)(!1),X=Object(d.a)(Q,2),Z=X[0],$=X[1],ee=Object(s.useState)(!0),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(s.useState)(null),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],le=Object(k.g)().url,de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("sprintCompassToken"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=4,fetch("http://localhost:5000/api/sprints/allByProjectId/".concat(le.split("/")[2]),n);case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,r=a.sprints.find((function(e){return!e.is_done})),oe(r),g(a.sprints);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("sprintCompassToken"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=4,fetch("http://localhost:5000/api/projects/byProjectId/".concat(le.split("/")[2]),n);case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,pe(a.project._id),x(a.project);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){I(!1),H(!1),P(!1),F(!1),$(!1),S(!1),e(!0)},pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.FETCH_DATA("api/projects/members/".concat(t));case 2:n=e.sent,a(n.data.membersIn),j(n.data.membersNotIn);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){de(),je()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(se,{}),Object(h.jsx)("div",{className:"show-fake-browser sidebar-page",children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(M.a,{style:{display:"flex",flexDirection:"column"},width:ne?260:56,collapsible:!0,children:Object(h.jsxs)(G.a,{expanded:ne,defaultOpenKeys:["3","4"],appearance:"inverse",style:{background:"#134069",minHeight:"calc(100vh - 97px)",height:"100%"},children:[Object(h.jsx)(G.a.Body,{children:Object(h.jsxs)(q.a,{children:[Object(h.jsx)(q.a.Item,{eventKey:"2",icon:Object(h.jsx)(L.a,{icon:"home"}),active:w,onClick:function(){return ue(S)},children:"Home"}),Object(h.jsxs)(J.a,{eventKey:"3",trigger:"hover",title:"Sprint Planning",icon:Object(h.jsx)(L.a,{icon:"magic"}),placement:"rightStart",children:[Object(h.jsx)(J.a.Item,{eventKey:"3-3",active:T,icon:Object(h.jsx)(L.a,{icon:"dashboard"}),onClick:function(){return ue(I)},children:"Active Sprint"}),Object(h.jsx)(J.a.Item,{eventKey:"3-2",active:B,icon:Object(h.jsx)(L.a,{icon:"plus-square"}),onClick:function(){return ue(P)},children:"Create New Sprint"}),Object(h.jsx)(J.a.Item,{eventKey:"3-1",active:D,icon:Object(h.jsx)(L.a,{icon:"newspaper-o"}),onClick:function(){return ue(H)},children:"Create User Story"})]}),Object(h.jsx)(q.a.Item,{eventKey:"2",active:W,icon:Object(h.jsx)(L.a,{icon:"toggle-left"}),onClick:function(){return ue(F)},children:"View Backlog"}),Object(h.jsxs)(J.a,{eventKey:"4",trigger:"hover",title:"Advanced",icon:Object(h.jsx)(L.a,{icon:"gear-circle"}),placement:"rightStart",children:[Object(h.jsx)(J.a.Item,{eventKey:"4-1",active:Z,onClick:function(){return ue($)},icon:Object(h.jsx)(L.a,{icon:"history"}),children:"Sprint History"}),Object(h.jsx)(J.a.Item,{eventKey:"4-2",children:"Websites"}),Object(h.jsx)(J.a.Item,{eventKey:"4-3",children:"Channels"}),Object(h.jsx)(J.a.Item,{eventKey:"4-4",children:"Tags"}),Object(h.jsx)(J.a.Item,{eventKey:"4-5",children:"Versions"})]})]})}),Object(h.jsx)(tt,{expand:ne,onChange:function(){ae(!ne)}})]})}),Object(h.jsx)(K.a,{children:Object(h.jsxs)(Y.a,{children:[w&&!!b&&Object(h.jsx)(et,{project:b,membersIn:n,membersNotIn:c,getMembers:pe}),T&&Object(h.jsx)("div",{children:ce?Object(h.jsx)(Ae,{sprint:ce,collaborators:n,project_id:le.split("/")[2],project:b}):Object(h.jsx)(he,{image:xe,msg:"No Active Sprint Found"})}),B&&Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(V.a,{style:{background:"#f5f5f5",height:"calc(100vh - 97px)"},children:[Object(h.jsx)(V.a.Item,{style:{margin:"auto"},colspan:8,children:Object(h.jsx)("img",{className:"dashBoardSectionImg",src:Be,alt:""})}),Object(h.jsx)(V.a.Item,{colspan:16,style:{margin:"auto"},children:Object(h.jsx)(Ke,{project_id:le.split("/")[2],acitveSprint:ce,refresh:function(){ue(S),de()}})})]})})}),D&&Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"show-grid",children:Object(h.jsxs)(V.a,{style:{background:"#f5f5f5",height:"calc(100vh - 97px)"},children:[Object(h.jsx)(V.a.Item,{style:{margin:"auto"},colspan:12,children:Object(h.jsx)("img",{className:"dashBoardSectionImg",src:Ee,alt:""})}),Object(h.jsxs)(V.a.Item,{colspan:12,style:{margin:"auto"},children:[Object(h.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"15px",fontWeight:"400"},children:"Create User Story"}),Object(h.jsx)(He,{project_id:le.split("/")[2],acitveSprint:ce,collaborators:n})]})]})})}),W&&Object(h.jsx)(ze,{project_id:le.split("/")[2],acitveSprint:ce}),Z&&Object(h.jsx)(De,{})]})})]})})]})})),st=n.p+"static/media/teamsHome.331c024c.svg",at=n(541),rt=O.a.Types.StringType,it=O.a.Model({name:rt().isRequired("Name is required."),description:rt().isRequired("Description is required.")});function ct(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var ot={display:"flex",alignItems:"center",height:"60px"},lt={fontSize:"0.9em",color:"#97969B",fontWeight:"lighter",paddingBottom:3},dt={paddingBottom:5,whiteSpace:"nowrap",fontWeight:500};var jt=Object(k.h)((function(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),c=Object(d.a)(i,2),u=c[0],p=c[1],b=Object(s.useState)(""),x=Object(d.a)(b,2),O=x[0],f=x[1],g=Object(s.useState)([]),y=Object(d.a)(g,2),S=y[0],C=y[1],_=Object(s.useState)([]),k=Object(d.a)(_,2),T=k[0],I=k[1],A=Object(s.useState)(!1),E=Object(d.a)(A,2),B=E[0],P=E[1],z=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),I(sessionStorage.getItem("sprintCompassUserRole")),e.next=4,m.FETCH_DATA("api/projects");case 4:t=e.sent,C(t.data.projects),P(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){r(!1),p(""),f("")},H=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return"Project Has Been Created",n={name:u,description:O},e.next=5,m.POST_DATA("api/projects",n,"Project Has Been Created");case 5:D(),z();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){z()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(se,{}),Object(h.jsxs)("section",{className:"projectBannerContainer",children:[Object(h.jsx)("div",{className:"teamImageContainer",children:Object(h.jsx)("img",{style:{width:"80%",maxWidth:"600px"},src:st,alt:"ProjectSvg"})}),Object(h.jsxs)("div",{className:"projectImageContainer",children:[Object(h.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"50px",width:"100%",textAlign:"center"},children:["Welcome to",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{color:"#2D56B3",fontWeight:600},children:"Run"}),Object(h.jsx)("span",{style:{color:"#515B60"},children:"time"})]}),("owner"===T||"admin"===T)&&Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)("div",{className:"teamButtons",onClick:function(){return r(!0)},children:"Create a Project"})})]})]}),B&&Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"projectHomeHeader",children:"Your Projects"}),Object(h.jsx)(at.a,{hover:!0,style:{width:"80%",margin:"auto"},children:S.map((function(t,n){return Object(h.jsx)(at.a.Item,{index:n,children:Object(h.jsxs)(V.a,{children:[Object(h.jsxs)(V.a.Item,{colspan:10,style:Object(j.a)(Object(j.a)({},ot),{},{flexDirection:"column",alignItems:"flex-start",overflow:"hidden"}),children:[Object(h.jsx)("div",{style:dt,children:t.name}),Object(h.jsxs)("div",{style:lt,children:[Object(h.jsx)("div",{children:"Description"}),Object(h.jsx)("div",{children:t.description})]})]}),Object(h.jsx)(V.a.Item,{colspan:6,style:ot,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:lt,children:"Project Lead"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(L.a,{icon:"user-circle-o"}),"  ".concat(t.project_lead.firstname," ").concat(t.project_lead.lastname)]})]})}),Object(h.jsx)(V.a.Item,{colspan:5,style:ot,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:lt,children:"Start Date"}),Object(h.jsx)("div",{style:lt,children:t.created_at})]})}),Object(h.jsx)(V.a.Item,{colspan:3,style:Object(j.a)(Object(j.a)({},ot),{},{justifyContent:"center"}),children:Object(h.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return e.history.push("project/".concat(t._id))},children:"View"})})]})},t._id)}))})]}),0===S.length&&!B&&Object(h.jsx)("div",{style:{textAlign:"center"},children:"No Projects Found"}),Object(h.jsx)(ie.a,{show:a,onHide:function(){D()},children:Object(h.jsx)(ie.a.Body,{children:Object(h.jsx)("div",{className:"drawerBody",children:Object(h.jsxs)(v.a,{model:it,onSubmit:function(e){H(e)},children:[Object(h.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Create a Project"}),Object(h.jsx)(ct,{name:"name",label:"Project Name",onChange:function(e){return p(e)}}),Object(h.jsx)(ct,{name:"description",label:"Description",onChange:function(e){return f(e)}}),Object(h.jsx)($e.a,{children:Object(h.jsx)(w.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Submit"})})]})})})})]})})),ut=n.p+"static/media/bio.c14203e2.svg",pt=n.p+"static/media/git.8ed5ab3d.svg",bt=n.p+"static/media/organization.451cba29.svg",ht=(n(516),O.a.Types.StringType);function xt(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),c=Object(d.a)(i,2),j=c[0],u=c[1],p=Object(s.useState)(""),x=Object(d.a)(p,2),f=x[0],g=x[1],y=Object(s.useState)(""),S=Object(d.a)(y,2),C=(S[0],S[1]),_=Object(s.useState)(""),k=Object(d.a)(_,2),T=k[0],I=k[1],A=Object(s.useState)(""),E=Object(d.a)(A,2),P=E[0],N=E[1],D=Object(s.useState)(""),H=Object(d.a)(D,2),U=H[0],R=H[1],W=Object(s.useState)(!1),F=Object(d.a)(W,2),q=F[0],L=F[1],K=Object(s.useState)(),M=Object(d.a)(K,2),G=M[0],J=M[1],Y=Object(s.useState)(!1),V=Object(d.a)(Y,2),Q=V[0],X=V[1],Z=Object(s.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useState)(""),se=Object(d.a)(ne,2),ae=se[0],re=se[1],ie=Object(s.useState)(null),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.FETCH_DATA("api/users/getUserById/".concat(sessionStorage.getItem("sprintCompassUser")));case 2:200===(t=e.sent).status&&((n=t.data.user).disabled?(sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),sessionStorage.removeItem("sprintCompassUserRole"),window.open("/login","_self")):(n.first_login?J(0):n.git_token?J(3):J(2),r(t.data.user)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return X(!0),n=sessionStorage.getItem("sprintCompassToken"),s={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({old_password:j,new_password:f})},e.next=6,fetch("http://localhost:5000/api/users/update_password",s);case 6:return a=e.sent,e.next=9,a.json();case 9:r=e.sent,200===a.status?(b.a.success({title:"Password Has Been Updated",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),J(1)):b.a.error({title:r.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),X(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==T||""!==P||""!==U){e.next=3;break}return J(2),e.abrupt("return");case 3:return t=sessionStorage.getItem("sprintCompassToken"),n={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({position:T,phone:P,location:U})},e.next=7,fetch("http://localhost:5000/api/users/update_user",n);case 7:200===e.sent.status?(b.a.success({title:"Profile Has Been Updated",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),J(2)):b.a.error({title:"Server error, Try again later",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("access_denied"===m.getQueryVariable("error")&&b.a.error({title:"Authorization Failed",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),!(t=m.getQueryVariable("code"))){e.next=7;break}return e.next=5,m.FETCH_DATA("gitauth/get_token?code=".concat(t));case 5:200===e.sent.status?(b.a.success({title:"Successfully authorized github",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),J(3),n=window.location.origin+"/auth",window.history.pushState({},null,n)):b.a.error({title:"Failed to Authorize with GitHub",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.FETCH_DATA("api/git/getOrganizations");case 2:t=e.sent,te(t.data.organizations);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.FETCH_DATA("gitauth/validateInvite");case 2:200===t.sent.status&&(b.a.success({title:"Congratulations!",description:Object(h.jsx)("div",{style:{width:220},rows:3,children:" Welcome to Runtime "}),placement:"topEnd"}),e.history.push("/projects"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(){var t=Object(l.a)(o.a.mark((function t(){var n,s,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ae&&le){t.next=3;break}return b.a.error({title:"Missing Fields",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.abrupt("return");case 3:return n=sessionStorage.getItem("sprintCompassToken"),s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({name:ae,organization:le})},t.next=7,fetch("http://localhost:5000/api/users/addClient",s);case 7:return a=t.sent,t.next=10,a.json();case 10:r=t.sent,200===a.status?(b.a.success({title:r.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),e.history.push("/projects")):b.a.error({title:r.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){3===G&&"owner"===(null===a||void 0===a?void 0:a.role)&&0===ee.length&&he()}),[G,a]),Object(s.useEffect)((function(){be(),je()}),[]);return Object(h.jsx)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(h.jsxs)(Fe.a,{current:G,children:[Object(h.jsx)(Fe.a.Item,{title:"Change Password"}),Object(h.jsx)(Fe.a.Item,{title:"Update Bio"}),Object(h.jsx)(Fe.a.Item,{title:"Authorize Github"}),a&&"owner"===a.role?Object(h.jsx)(Fe.a.Item,{title:"Choose Organization"}):Object(h.jsx)(Fe.a.Item,{title:"Accept Organization Invite"})]}),Object(h.jsx)("hr",{}),Object(h.jsx)(z.a,{style:{height:"60vh"},children:Object(h.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(h.jsxs)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:[0===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:B,alt:"passwordrenewimg"}),1===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:ut,alt:"profileimg"}),2===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:pt,alt:"gitimg"}),3===G&&Object(h.jsx)("img",{style:{maxWidth:"550px"},src:bt,alt:"orgImg"})]}),Object(h.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[0===G&&Object(h.jsxs)(v.a,{model:O.a.Model({currentPassword:ht().isRequired("Current Password is required."),newPassword:ht().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:ht().addRule((function(e){return e===f}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){ue(e)},children:[Object(h.jsx)(mt,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){u(e)}}),Object(h.jsx)(mt,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){g(e)}}),Object(h.jsx)(mt,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){C(e)}}),Object(h.jsx)(w.a,{type:"submit",style:Ot.update__button,disabled:Q,children:"Update Password"})]}),1===G&&!!a&&Object(h.jsx)("div",{children:Object(h.jsxs)(v.a,{onSubmit:function(){return pe()},children:[Object(h.jsx)(mt,{label:"Job Title",onChange:function(e){I(e)}}),Object(h.jsx)(mt,{label:"Phone",onChange:function(e){N(e)}}),Object(h.jsx)(mt,{label:"Location",onChange:function(e){R(e)}}),Object(h.jsx)(w.a,{type:"submit",style:Ot.update__button,children:"Update Bio"})]})}),2===G&&Object(h.jsx)(w.a,{type:"submit",style:q?Ot.disabled__button:Ot.update__button,onClick:function(){L(!0);var e="https://github.com/login/oauth/authorize?client_id=".concat("9bf7686b61e73fbd065a","&scope=admin:org%20repo");window.open(e,"_self")},disabled:q,children:"Authorize Github"}),3===G&&Object(h.jsxs)(h.Fragment,{children:[a&&"owner"===a.role&&Object(h.jsx)("div",{children:Object(h.jsxs)(v.a,{onSubmit:function(){return me()},children:[Object(h.jsx)(mt,{label:"Organization Name",onChange:function(e){re(e)}}),Object(h.jsx)(ce.a,{data:ee,onChange:function(e){return de(e)},block:!0,placeholder:"Select a Github Organization"}),Object(h.jsx)(w.a,{type:"submit",style:Ot.update__button,children:"Submit"})]})}),a&&"owner"!==a.role&&Object(h.jsx)(we.a,{showIcon:!0,type:"success",title:"Invitation Sent",description:Object(h.jsxs)(h.Fragment,{children:["We have sent you an email invitation to join the organization.",Object(h.jsx)("br",{}),"Please accept it and click finish."]})})]})]})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{style:{float:"right"},children:3===G&&"owner"!==(null===a||void 0===a?void 0:a.role)&&Object(h.jsx)(w.a,{style:{background:"#193A5A",color:"#f5f5f5",width:"100px"},onClick:xe,children:"Finish"})})]})})}function mt(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var Ot={update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled__button:{marginTop:"50px",background:"grey",color:"#f5f5f5",minWidth:"300px"},next__button:{background:"#193A5A",color:"#f5f5f5",float:"right",minWidth:"100px"}},ft=n(56),gt=n(102),yt=n(280),vt=n.n(yt),wt=n(281),St=n.n(wt),Ct=n.p+"static/media/imagePlaceHolder.f0421300.svg",_t=O.a.Types.StringType;function kt(e){var t,n=Object(s.useState)(!1),a=Object(d.a)(n,2),r=a[0],i=a[1],c=Object(s.useState)(""),j=Object(d.a)(c,2),u=j[0],p=j[1],b=Object(s.useState)(!1),x=Object(d.a)(b,2),f=x[0],g=x[1],y=Object(s.useState)(!1),S=Object(d.a)(y,2),C=S[0],_=S[1],k=Object(s.useState)(!1),T=Object(d.a)(k,2),I=T[0],A=T[1],E=Object(s.useState)(null),B=Object(d.a)(E,2),P=B[0],z=B[1],D=Object(s.useState)(null),H=Object(d.a)(D,2),U=H[0],R=H[1],W=Object(s.useState)(""),F=Object(d.a)(W,2),q=F[0],K=F[1],M=Object(s.useState)(""),G=Object(d.a)(M,2),J=G[0],Y=G[1],V=Object(s.useState)(""),Q=Object(d.a)(V,2),X=(Q[0],Q[1]),Z=function(e){return new Promise((function(t){St.a.imageFileResizer(e,800,800,"JPEG",100,0,(function(e){t(e)}),"base64")}))},$=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0]){e.next=8;break}return e.next=3,Z(t[0]);case 3:n=e.sent,(s=JSON.parse(JSON.stringify(U))).image=n,R(s),A(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.FETCH_DATA("api/users/getById/".concat(t));case 2:200===(n=e.sent).status&&R(n.data.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return _(!0),g(!1),n=Object(gt.a)({},u.toLowerCase(),U[u.toLowerCase()]),s="".concat(u," Has Been Updated"),e.next=7,m.PUT_DATA("api/users",n,s);case 7:p(null),ee(P),_(!1),A(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return"Password Has Been Updated",n={old_password:q,new_password:J},e.next=5,m.PUT_DATA("api/users/change_password",n,"Password Has Been Updated");case 5:g(!1),p(null),ee(P),_(!1),A(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=window.location.pathname.split("/"),t=null;e.length>2?(t=e[2],i(!1)):(i(!0),t=sessionStorage.getItem("sprintCompassUser")),z(t),ee(t)}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(se,{}),(!U||C)&&Object(h.jsx)("div",{style:{height:"70vh"},children:Object(h.jsx)(N.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),U&&!C&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{style:It.main,children:[Object(h.jsxs)("section",{style:It.main__1,children:[U.image?Object(h.jsx)("img",{style:It.main__1__img,src:U.image,alt:"dp"}):Object(h.jsx)("img",{style:{maxWidth:"500px",display:"block",margin:"auto"},src:Ct,alt:"dp"}),r&&Object(h.jsx)("div",{style:It.change__image,onClick:function(){g(!0),p("Image")},children:"Change Image"})]}),Object(h.jsxs)("section",{style:It.main__2,children:[Object(h.jsx)("div",{style:It.name,children:"".concat(U.firstname," ").concat(U.lastname)}),Object(h.jsxs)("div",{style:It.profession,children:[U.position&&"".concat(U.position),r&&Object(h.jsx)("span",{style:It.change,onClick:function(){g(!0),p("Position")},children:U.position?"change":"Add Position"})]}),Object(h.jsxs)("section",{style:It.info,children:[Object(h.jsxs)("div",{style:It.attribute__container,children:[Object(h.jsx)(L.a,{size:"2x",icon:"send",style:It.info__1}),Object(h.jsxs)("div",{style:It.info__2,children:["".concat(U.email),r&&Object(h.jsx)("span",{style:It.change,onClick:function(){g(!0),p("Email")},children:"change"})]})]}),Object(h.jsxs)("div",{style:It.attribute__container,children:[(U.phone||r)&&Object(h.jsx)(L.a,{size:"2x",icon:"phone",style:It.info__1}),Object(h.jsxs)("div",{style:It.info__2,children:[U.phone&&"".concat(U.phone),r&&Object(h.jsxs)("span",{style:It.change,onClick:function(){g(!0),p("Phone")},children:[U.phone?"change":"Add Phone Number"," "]})]})]}),Object(h.jsxs)("div",{style:It.attribute__container,children:[(U.location||r)&&Object(h.jsx)(L.a,{size:"2x",icon:"map-marker",style:It.info__1}),Object(h.jsxs)("div",{style:It.info__2,children:[U.location&&"".concat(U.location),r&&Object(h.jsx)("span",{style:It.change,onClick:function(){g(!0),p("Location")},children:U.location?"change":"Add Location"})]})]})]}),r&&Object(h.jsx)("div",{style:It.update__password,onClick:function(){g(!0),p("Password")},children:"Change Password"}),Object(h.jsx)(Ze.a,{style:{width:"250px",margin:"30px 0",background:"#134069",color:"#f5f5f5"},icon:Object(h.jsx)(L.a,{style:{background:"#486b8c",color:"#f5f5f5"},icon:"send"}),placement:"left",children:"Send Message"})]})]}),Object(h.jsxs)(ie.a,{show:f,onHide:function(){return g(!1)},children:[Object(h.jsx)(ie.a.Header,{children:Object(h.jsxs)(ie.a.Title,{children:["Add/Change ",u]})}),Object(h.jsxs)(ie.a.Body,{style:It.drawer__body,children:["Image"===u&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(vt.a,{withIcon:!0,onChange:function(e,t){return $(e,t)},imgExtension:[".jpg",".png"],maxFileSize:2097152,buttonText:"Choose Image",label:"Maximum File Size: 2 mb, Accepted Formats: jpg, png"}),Object(h.jsxs)(w.a,{style:It.update__button,disabled:C||!I,onClick:function(){te(!!U.image)},children:["Update ",u]})]}),("Position"===u||"Email"===u||"Location"===u||"Phone"===u)&&Object(h.jsxs)(v.a,{model:O.a.Model(Object(gt.a)({},u,_t().isRequired("".concat(u," is required.")))),onSubmit:function(e){te(e)},children:[Object(h.jsx)(Tt,{name:u,label:u,value:null!==(t=U[u.toLowerCase()])&&void 0!==t?t:"",onChange:function(e){var t=JSON.parse(JSON.stringify(U));t[u.toLowerCase()]=e,R(t)}}),Object(h.jsxs)(w.a,{type:"submit",style:It.update__button,disabled:C,children:["Update ",u]})]}),"Password"===u&&Object(h.jsxs)(v.a,{model:O.a.Model({currentPassword:_t().isRequired("Current Password is required."),newPassword:_t().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:_t().addRule((function(e){return e===J}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){ne(e)},children:[Object(h.jsx)(Tt,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){K(e)}}),Object(h.jsx)(Tt,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){Y(e)}}),Object(h.jsx)(Tt,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){X(e)}}),Object(h.jsx)(w.a,{type:"submit",style:It.update__button,disabled:C,children:"Update Password"})]})]})]})]})]})}function Tt(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var It={main:{display:"flex",height:"600px",width:"80%",maxWidth:"1400px",margin:"50px auto"},main__1:{width:"50%",margin:"auto"},main__1__img:{maxHeight:"100%",maxWidth:"80%",display:"block",margin:"auto"},main__2:{flex:1,marginLeft:"5%",display:"flex",alignContent:"center",flexWrap:"wrap"},name:{fontSize:"25px",fontWeight:"bold",width:"100%",margin:"5px 0"},profession:{fontSize:"15px"},info:{width:"100%",margin:"50px 0"},attribute__container:{display:"flex",margin:"25px 0"},info__1:{width:"50px"},info__2:{flex:1,fontSize:"17px"},change:{marginLeft:"5px",color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer"},change__image:{color:"blue",textDecoration:"underline",fontSize:"15px",marginTop:"15px",textAlign:"center",cursor:"pointer"},update__password:{color:"blue",textDecoration:"underline",fontSize:"15px",width:"100%",cursor:"pointer"},drawer__body:{display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap"},update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"}},At=(n(522),n(546)),Et=(n(523),qe.a.Column),Bt=qe.a.HeaderCell,Pt=qe.a.Cell,Nt=[{label:"Admin",value:"admin"},{label:"Member",value:"member"}];function zt(e){var t=Object(s.useState)([]),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(-1),c=Object(d.a)(i,2),p=c[0],b=c[1],x=Object(s.useState)(null),O=Object(d.a)(x,2),f=O[0],g=O[1],y=Object(s.useState)(null),v=Object(d.a)(y,2),S=v[0],C=v[1],_=Object(s.useState)("asc"),k=Object(d.a)(_,2),T=k[0],I=k[1],A=Object(s.useState)(!1),E=Object(d.a)(A,2),B=E[0],P=E[1],z=Object(s.useState)(!1),D=Object(d.a)(z,2),H=D[0],U=D[1],R=Object(s.useState)(!1),W=Object(d.a)(R,2),F=W[0],q=W[1],K=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,s,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t=sessionStorage.getItem("sprintCompassToken"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=5,fetch("http://localhost:5000/api/users",n);case 5:return s=e.sent,e.next=8,s.json();case 8:a=e.sent,i=a.users.filter((function(e){if("owner"!==e.role.toLowerCase())return e})),r(i),q(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){K()}),[]);var M=function(e){var t=e.rowData,n=e.dataKey,s=Object(u.a)(e,["rowData","dataKey"]);return Object(h.jsx)(Pt,Object(j.a)(Object(j.a)({},s),{},{style:{padding:8},children:Object(h.jsx)(Xe.a,{circle:!0,src:t[n]})}))},G=function(e){var t=e.rowData,n=e.dataKey,s=Object(u.a)(e,["rowData","dataKey"]),a=t[n]?"blue":"green",r=t[n]?"Disabled":"Active";return Object(h.jsx)(Pt,Object(j.a)(Object(j.a)({},s),{},{style:{margin:2,alignContent:"center"},children:Object(h.jsx)(re.a,{color:a,children:r})}))},J=function(e){var t=e.rowData,n=Object(u.a)(e,["rowData"]),s=Math.trunc((!t.first_login+!!t.git_token+t.invitation_accepted)/3*100);return s=isNaN(s)?0:s,Object(h.jsx)(Pt,Object(j.a)(Object(j.a)({},n),{},{children:0===s?Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(At.a.Circle,{})}):100===s?Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(At.a.Circle,{percent:s,status:"success"})}):Object(h.jsx)("div",{style:{width:"35px"},children:Object(h.jsx)(At.a.Circle,{percent:s,strokeColor:"#ffc107"})})}))},Y=function(e){return Object(h.jsx)(h.Fragment,{children:e?Object(h.jsx)(L.a,{icon:"check-circle",style:{margin:5,color:"green"},size:"2x"}):Object(h.jsx)(L.a,{icon:"close-circle",style:{margin:5,color:"red"},size:"2x"})})},V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"User Has Been Updated",t={id:S._id,role:p,disabled:H},e.next=4,m.PUT_DATA("api/users/updateUserById",t,"User Has Been Updated");case 4:P(!1),K();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[F?Object(h.jsx)(N.a,{type:"ThreeDots",color:"#134069",height:50,width:50}):Object(h.jsxs)(qe.a,{width:1e3,height:600,data:f&&T?a.sort((function(e,t){var n=e[f],s=t[f];return"asc"===T?n.localeCompare(s):s.localeCompare(n)})):a,rowHeight:65,sortColumn:f,sortType:T,onSortColumn:function(e,t){g(e),I(t)},onRowClick:function(e){b(e.role),C(e),P(!0),U(e.disabled)},children:[Object(h.jsxs)(Et,{width:100,fixed:!0,children:[Object(h.jsx)(Bt,{}),Object(h.jsx)(M,{dataKey:"git_avatar"})]}),Object(h.jsxs)(Et,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Bt,{style:Dt.header,children:"First Name"}),Object(h.jsx)(Pt,{style:Dt.cell,dataKey:"firstname"})]}),Object(h.jsxs)(Et,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Bt,{style:Dt.header,children:"Last Name"}),Object(h.jsx)(Pt,{style:Dt.cell,dataKey:"lastname"})]}),Object(h.jsxs)(Et,{width:200,fixed:!0,sortable:!0,children:[Object(h.jsx)(Bt,{style:Dt.header,children:"User Role"}),Object(h.jsx)(Pt,{style:Dt.cell,dataKey:"role"})]}),Object(h.jsxs)(Et,{width:100,children:[Object(h.jsx)(Bt,{style:Dt.header,children:"Status"}),Object(h.jsx)(G,{dataKey:"disabled"})]}),Object(h.jsxs)(Et,{width:150,children:[Object(h.jsx)(Bt,{style:Dt.header,children:"Onboarding"}),Object(h.jsx)(J,{})]})]}),Object(h.jsxs)(ie.a,{show:B,onHide:function(){P(!1)},children:[Object(h.jsx)(ie.a.Header,{children:Object(h.jsx)(ie.a.Title,{children:"User Information"})}),Object(h.jsxs)(ie.a.Body,{children:[Object(h.jsxs)("div",{className:"user__info__container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"User Name"}),Object(h.jsxs)("div",{children:[null===S||void 0===S?void 0:S.firstname," ",null===S||void 0===S?void 0:S.lastname]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Account Activated"}),Object(h.jsx)("div",{children:Y(!(null===S||void 0===S?void 0:S.first_login))})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Github Authorized"}),Object(h.jsx)("div",{children:Y(null===S||void 0===S?void 0:S.git_token)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Joined Organization"}),Object(h.jsx)("div",{children:Y(null===S||void 0===S?void 0:S.invitation_accepted)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"rs-control-label",children:"User Role"}),Object(h.jsx)("section",{children:Object(h.jsx)(ce.a,{style:{width:"150px"},data:Nt,placeholder:"User Role",value:p,cleanable:!1,onChange:function(e){return b(e)}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"User Enabled"}),Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)(oe.a,{style:{width:"30px",textAlign:"center"},size:"lg",checked:!H,onChange:function(){return U(!H)}})})]})]}),Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)(w.a,{appearance:"primary",onClick:function(){return V()},style:{width:250},children:"Update User"})})]})]})]})}var Dt={header:{color:"black"},cell:{color:"black"}},Ht=n.p+"static/media/admin.c410cff4.svg",Ut=O.a.Types.StringType,Rt=[{key:1,name:"Create User",icon:"user-plus"},{key:3,name:"Manage Users",icon:"setting"},{key:4,name:"App Settings",icon:"laptop"},{key:5,name:"Github Settings",icon:"github"},{key:6,name:"Reports",icon:"file-text-o"},{key:7,name:"Data Management",icon:"database"}];function Wt(){var e=Object(s.useState)(0),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(se,{}),Object(h.jsxs)("section",{className:"adminContainer",children:[Object(h.jsx)("section",{className:"adminContainer__1",children:Rt.map((function(e){return Object(h.jsx)(Ft,{function:e,active:e.key===n,makeActiveKey:function(){return a(e.key)}},e.key)}))}),Object(h.jsxs)("section",{className:"adminContainer__2",children:[0===n&&Object(h.jsx)("section",{className:"adminHome",children:Object(h.jsx)("img",{src:Ht,alt:"adminSvg"})}),1===n&&Object(h.jsxs)("section",{className:"functionContainer",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:Ht,alt:"adminSvg"})}),Object(h.jsx)("div",{children:Object(h.jsx)(qt,{})})]}),3===n&&Object(h.jsx)("div",{children:Object(h.jsx)(zt,{})})]})]})]})}var Ft=function(e){return Object(h.jsxs)("section",{className:"functionCard",onClick:e.makeActiveKey,style:{color:e.active?"#134069":""},children:[Object(h.jsx)("div",{children:Object(h.jsx)(L.a,{icon:e.function.icon,size:"2x"})}),Object(h.jsx)("div",{style:{fontWeight:e.active?700:500},children:e.function.name})]})},qt=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(""),i=Object(d.a)(r,2),c=i[0],j=i[1],u=Object(s.useState)(""),p=Object(d.a)(u,2),x=p[0],m=p[1],O=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return s=sessionStorage.getItem("sprintCompassToken"),r={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({firstname:n,lastname:c,email:x})},e.next=5,fetch("http://localhost:5000/api/users/create",r);case 5:return i=e.sent,e.next=8,i.json();case 8:l=e.sent,i.ok?(a(""),j(""),m(""),b.a.success({title:"Successfully Created the User",description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})):b.a.error({title:l.msg,description:Object(h.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(v.a,{className:"addUserForm",model:Kt,onSubmit:function(e){O(e)},children:[Object(h.jsx)(Lt,{name:"firstname",label:"First Name",value:n,onChange:function(e){return a(e)}}),Object(h.jsx)(Lt,{name:"lastname",label:"Last Name",value:c,onChange:function(e){return j(e)}}),Object(h.jsx)(Lt,{name:"email",label:"Email",value:x,onChange:function(e){return m(e)}}),Object(h.jsx)(we.a,{showIcon:!0,type:"info",title:"Did you know?",description:"The new user will get an email with the temperory password"}),Object(h.jsx)(w.a,{appearance:"primary",type:"submit",style:{width:"100%",marginTop:"20px"},disabled:!n||!c||!x,children:"Create User"})]})};function Lt(e){var t=e.name,n=e.label,s=e.accepter,a=e.type,r=Object(u.a)(e,["name","label","accepter","type"]);return Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(g.a,{children:[n," "]}),Object(h.jsx)(y.a,Object(j.a)({name:t,type:a,accepter:s},r))]})}var Kt=O.a.Model({firstname:Ut().isRequired("First Name is required."),lastname:Ut().isRequired("Last Name is required."),email:Ut().isEmail("Please enter a valid email address.").isRequired("Email is required.")});function Mt(){return Object(h.jsx)(ft.a,{children:Object(h.jsxs)(k.d,{children:[Object(h.jsx)(k.b,{path:"/login",render:function(){return Object(h.jsx)(E,{})}}),Object(h.jsx)(k.b,{path:"/ResetPassword",render:function(){return Object(h.jsx)(H,{})}}),Object(h.jsx)(R,{path:"/myprojects",component:Gt}),Object(h.jsx)(R,{exact:!0,path:"/projects",component:jt}),Object(h.jsx)(R,{exact:!0,path:"/project/:id",component:nt}),Object(h.jsx)(R,{path:"/profile",component:kt}),Object(h.jsx)(R,{path:"/admin",component:Wt}),Object(h.jsx)(W,{path:"/auth",component:xt})]})})}var Gt=function(){return Object(h.jsx)("div",{children:"rere"})},Jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,567)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(Mt,{}),document.getElementById("root")),Jt()},87:function(e,t,n){}},[[524,1,2]]]);
//# sourceMappingURL=main.2fe6950b.chunk.js.map