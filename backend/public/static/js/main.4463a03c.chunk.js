(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{320:function(e,t,n){},456:function(e,t,n){},513:function(e,t,n){},543:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},582:function(e,t){},587:function(e,t,n){},588:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(26),i=n.n(r),c=(n(320),n(88),n(321),n(8)),o=n.n(c),l=n(12),d=n(7),u=n(14),A=n(18),j=n.p+"static/media/loginPage.3890a5c6.svg",p=n(608),b=n(2),h="http://localhost:5000/",x=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=4,fetch("".concat(h).concat(t),s);case 4:return r=e.sent,e.next=7,v(r,n);case 7:return i=e.sent,e.abrupt("return",{status:r.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),r={method:"POST",headers:{"Access-Control-Expose-Headers":"*","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)},e.next=4,fetch("".concat(h).concat(t),r);case 4:return i=e.sent,e.next=7,v(i,a);case 7:return c=e.sent,e.abrupt("return",{status:i.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.getItem("sprintCompassToken"),r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)},e.next=4,fetch("".concat(h).concat(t),r);case 4:return i=e.sent,e.next=7,v(i,a);case 7:return c=e.sent,e.abrupt("return",{status:i.status,data:c});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sprintCompassToken"),s={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=4,fetch("".concat(h).concat(t),s);case 4:return r=e.sent,e.next=7,v(r,n);case 7:return i=e.sent,e.abrupt("return",{status:r.status,data:i});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Not Found"!==t.statusText){e.next=4;break}a={msg:"Invalid Request"},e.next=7;break;case 4:return e.next=6,t.json();case 6:a=e.sent;case 7:return"No Notification"!==n&&(t.ok?(a.msg||n&&""!==n.trim())&&p.a.success({title:null!==(r=a.msg)&&void 0!==r?r:n,description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):p.a.error({title:null!==(s=a.msg)&&void 0!==s?s:"Server error, Try again later",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g={FETCH_DATA:x,POST_DATA:m,UPDATE_DATA:O,DELETE_DATA:f,getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return a[1]}return!1},ADDRESS:h},y=n(615),w=n(591),C=n(616),S=n(609),_=n(617),k=n(41),T=n(592),B=n(311),I=n(148),E=n(22),D=y.a.Types.StringType,U=y.a.Model({email:D().isRequired("Email is required."),password:D().isRequired("Password is required.")});function P(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var N=Object(E.h)((function(e){var t,n=Object(a.useReducer)((function(e,t){return Object(u.a)(Object(u.a)({},e),t)}),{login:!0,users:[],userLogin:"",userPass:"",firstname:"",resetEmail:"",show:!1,lastname:""}),s=Object(d.a)(n,2),r=s[0],i=s[1],c=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return a={email:r.userLogin,password:r.userPass},t.next=4,g.POST_DATA("auth/login",a);case 4:200===(s=t.sent).status&&(sessionStorage.setItem("sprintCompassToken",s.data.access_token),sessionStorage.setItem("sprintCompassUser",s.data.user),sessionStorage.setItem("sprintCompassUserName",s.data.name),sessionStorage.setItem("sprintCompassUserRole",s.data.userRole),sessionStorage.setItem("organization",s.data.organization),i=e.location.state||{from:{pathname:"/projects"}},c=i.from,s.data.firstLogin||!s.data.validGitToken?window.open("/auth","_self"):window.open(c.pathname,"_self"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=(n=r.resetEmail.match(/.{1,29}/g)).join(" "),t.test(String(r.resetEmail).toLowerCase())){e.next=7;break}p.a.error({title:"Invalid Email",description:Object(b.jsxs)("div",{style:{width:220},rows:4,children:[" ",Object(b.jsx)("strong",{children:n})," is not a valid email"]}),placement:"topEnd"}),e.next=11;break;case 7:return e.next=9,g.FETCH_DATA("auth/reset_password/".concat(r.resetEmail));case 9:200===e.sent.status&&p.a.success({title:"Reset Email Sent",description:Object(b.jsxs)("div",{style:{width:220},rows:4,children:[" A reset email has been sent to ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:n}),"."]}),placement:"topEnd"});case 11:i({show:!1,resetEmail:""});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=g.getQueryVariable("msg"),t=g.getQueryVariable("error"),n=g.getQueryVariable("success"),a=window.location.origin+"/login";window.history.pushState({},null,a),e&&(e=decodeURI(e)),t?p.a.error({title:e||"Invalid Url",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}):n&&p.a.success({title:"Password Updated Successfully",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"})})),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",height:"900px",alignContent:"center"},children:[Object(b.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(b.jsx)("img",{style:{width:"100%",maxWidth:"750px"},src:j,alt:"homeimg"})}),Object(b.jsx)("div",{style:{width:"50%",height:"100%",display:"flex",justifyContent:"center",alignItems:" center"},children:Object(b.jsxs)("div",{style:{width:"80%",maxWidth:"450px"},children:[Object(b.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"100px",textAlign:"center"},children:["Welcome to",Object(b.jsx)("br",{}),Object(b.jsx)("span",{style:{color:"#2D56B3"},children:"Run"}),Object(b.jsx)("span",{style:{color:"#515B60"},children:"time"})]}),r.login&&Object(b.jsxs)(_.a,{className:"loginForm",model:U,onSubmit:function(e){c(e)},children:[Object(b.jsx)(P,{name:"email",label:"Email",onChange:function(e){return i({userLogin:e})}}),Object(b.jsx)(P,{name:"password",label:"Password",type:"password",onChange:function(e){return i({userPass:e})}}),Object(b.jsx)(k.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Sign In"})]}),Object(b.jsx)("div",{style:{color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer",marginTop:20,textAlign:"center"},onClick:function(){return i({show:!0})},children:"Forgot Password?"})]})})]}),Object(b.jsxs)(T.a,{backdrop:!0,size:"xs",show:r.show,onHide:function(){return i({show:!1,resetEmail:""})},children:[Object(b.jsxs)(T.a.Header,{children:[Object(b.jsx)(T.a.Title,{children:"Reset Your Password"}),Object(b.jsx)(B.a,{style:{marginBottom:-10,marginTop:0}})]}),Object(b.jsxs)(T.a.Body,{children:[Object(b.jsx)("p",{children:"Please enter your email to receive a password reset link."}),Object(b.jsx)(I.a,{style:{width:"90%",marginTop:10},name:"resetemail",value:r.resetEmail,onChange:function(e){return i({resetEmail:e})}})]}),Object(b.jsxs)(T.a.Footer,{children:[Object(b.jsx)(B.a,{style:{marginBottom:-5,marginTop:0}}),Object(b.jsx)(k.a,{disabled:""===(null===(t=r.resetEmail)||void 0===t?void 0:t.trim()),appearance:"primary",style:{marginLeft:"25%",width:"50%",marginTop:10},onClick:function(){return A()},children:"Reset Password"}),Object(b.jsx)(k.a,{onClick:function(){return i({show:!1,resetEmail:""})},appearance:"subtle",children:"Cancel"})]})]})]})}));function H(e){var t=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("demo","No Notification");case 2:200===(t=e.sent).status&&(sessionStorage.setItem("sprintCompassToken",t.data.access_token),sessionStorage.setItem("sprintCompassUser",t.data.user),sessionStorage.setItem("sprintCompassUserName",t.data.name),sessionStorage.setItem("sprintCompassUserRole",t.data.userRole),sessionStorage.setItem("organization",t.data.organization),window.open("/projects","_self"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t()})),Object(b.jsx)(b.Fragment,{})}var R=n.p+"static/media/passwordRenew.ce6ee0c2.svg",W=n(27),F=n.n(W),Q=n(618),z=y.a.Types.StringType;function M(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),u=(c[0],c[1]),A=Object(a.useState)(!0),j=Object(d.a)(A,2),p=j[0],h=j[1],x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return h(!0),n={new_password:s},e.next=5,g.UPDATE_DATA("api/users/reset_password",n,"No Notification");case 5:200===(a=e.sent).status?window.open("/login?success=true","_self"):window.open("/login?error=true&msg=".concat(a.data.msg),"_self");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[]);var m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.getQueryVariable("token")){e.next=5;break}window.open("/login?error=true","_self"),e.next=18;break;case 5:return sessionStorage.setItem("sprintCompassToken",t),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=9,fetch("".concat(g.ADDRESS,"auth/validate_url"),n);case 9:if(200===(a=e.sent).status){e.next=17;break}return e.next=13,a.json();case 13:s=e.sent,window.open("/login?error=true&msg=".concat(s.msg),"_self"),e.next=18;break;case 17:h(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:[p&&Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),!p&&Object(b.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(b.jsx)("h2",{style:{textAlign:"center"},children:"Reset Your Password"}),Object(b.jsx)("hr",{}),Object(b.jsx)(Q.a,{style:{height:"60vh"},children:Object(b.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(b.jsx)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("img",{style:{maxWidth:"550px"},src:R,alt:"passwordrenewimg"})}),Object(b.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)(_.a,{model:y.a.Model({newPassword:z().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:z().addRule((function(e){return e===s}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){x(e)},children:[Object(b.jsx)(G,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){r(e)}}),Object(b.jsx)(G,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){u(e)}}),Object(b.jsx)(k.a,{type:"submit",style:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled:p,children:"Update Password"})]})})]})}),Object(b.jsx)("hr",{})]})]})}function G(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}n(455);var L=function(e){var t=e.component,n=Object(A.a)(e,["component"]),s=Object(a.useState)(!1),r=Object(d.a)(s,2),i=r[0],c=r[1],j=Object(a.useState)(!1),p=Object(d.a)(j,2),h=p[0],x=p[1],m=Object(a.useState)(!0),O=Object(d.a)(m,2),f=O[0],v=O[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("auth/validate","No Notification");case 2:403===(t=e.sent).status?v(!1):307===t.status&&x(!0),c(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i?Object(b.jsx)(E.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return f?h?Object(b.jsx)(E.a,{to:{pathname:"/auth",state:{from:e.location}}}):Object(b.jsx)(t,Object(u.a)({},e)):Object(b.jsx)(E.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})};var K=function(e){var t=e.component,n=Object(A.a)(e,["component"]),s=Object(a.useState)(!1),r=Object(d.a)(s,2),i=r[0],c=r[1],j=Object(a.useState)(!0),p=Object(d.a)(j,2),h=p[0],x=p[1],m=Object(a.useState)(!1),O=Object(d.a)(m,2),f=O[0],v=O[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("auth/authrenew_validate","No Notification");case 2:200===(t=e.sent).status?(x(!0),c(!0)):403===t.status?x(!1):(x(!0),c(!1)),v(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),f?Object(b.jsx)(E.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return h?i?Object(b.jsx)(t,Object(u.a)({},e)):Object(b.jsx)(E.a,{to:{pathname:"/projects",state:{from:e.location}}}):Object(b.jsx)(E.a,{to:{pathname:"/login",state:{from:e.location}}})}})):Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},type:"BallTriangle",color:"#134069",height:50,width:50})},q=n(600),V=n(606),Y=n(28),J=n(601),X=n(627),Z=n(602),$=n(607),ee=n(628),te=n(611),ne=n(277),ae=n(278),se=n(139),re=n(312),ie=n(309),ce=n.p+"static/media/logo.cbf6ae2c.svg",oe=(n(456),function(e){var t=e.active,n=e.onSelect,a=Object(A.a)(e,["active","onSelect"]);return Object(b.jsxs)(V.a,Object(u.a)(Object(u.a)({},a),{},{activeKey:t,onSelect:n,children:[Object(b.jsx)(V.a.Item,{style:{margin:"0 50px"},children:Object(b.jsx)("img",{style:{marginTop:"10px"},src:ce,alt:"logo",onClick:function(){window.open("/projects","_self")}})}),Object(b.jsx)(V.a.Item,{className:"navHeader",eventKey:"projects",children:"Projects"}),Object(b.jsx)(V.a.Item,{className:"navHeader",eventKey:"collaborate",children:"Collaborate"}),Object(b.jsx)(V.a.Item,{className:"navHeader",eventKey:"solutions",children:"Solutions"}),("owner"===sessionStorage.getItem("sprintCompassUserRole")||"admin"===sessionStorage.getItem("sprintCompassUserRole"))&&Object(b.jsx)(V.a.Item,{className:"navHeader",eventKey:"admin",children:"Administrator"}),Object(b.jsxs)($.a,{style:{float:"right",marginRight:"30px"},className:"navHeader",title:sessionStorage.getItem("sprintCompassUserName"),children:[Object(b.jsx)($.a.Item,{onClick:function(){return window.open("/profile","_self")},children:"Profile"}),Object(b.jsx)($.a.Item,{children:"Settings"}),Object(b.jsx)($.a.Item,{onClick:function(){return sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),void window.open("/login","_self")},children:"Log Out"})]})]}))}),le=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(){var e;return Object(ne.a)(this,n),(e=t.call(this)).state={active:"home"},e.handleSelect=e.handleSelect.bind(Object(se.a)(e)),e}return Object(ae.a)(n,[{key:"handleSelect",value:function(e){"projects"===e?window.open(window.location.origin+"/projects","_self"):"collaborate"===e?window.open(window.location.origin+"/collaborate","_self"):"admin"===e&&window.open(window.location.origin+"/admin","_self")}},{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/");"projects"===e[1]||"project"===e[1]?this.setState({active:"projects"}):"collaborate"===e[1]?this.setState({active:"collaborate"}):"admin"===e[1]&&this.setState({active:"admin"})}},{key:"render",value:function(){var e=this.state.active;return Object(b.jsx)("div",{children:Object(b.jsx)(oe,{appearance:"subtle",active:e,onSelect:this.handleSelect})})}}]),n}(s.a.Component),de=n(310),ue=n(314),Ae=n(613),je=n(604),pe=n(621),be=n(619),he=n(153),xe=n(152),me=n.n(xe);function Oe(e){var t=Object(a.useState)(me.a.createEmptyValue()),n=Object(d.a)(t,2),s=n[0],r=n[1];Object(a.useEffect)((function(){r(me.a.createValueFromString(e.value,"html"))}),[]);return Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsx)(me.a,{value:s,onChange:function(t){r(t),e.setText(t.toString("html"))},toolbarConfig:fe,disabled:e.disabled,editorStyle:{height:e.disabled?"100%":"95%",marginTop:e.disabled?"-10%":""}})})}var fe={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_DROPDOWN:[{label:"Text",style:"unstyled"},{label:"Heading",style:"header-four"},{label:"Code",style:"code-block"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]};function ve(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(1),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(0),p=Object(d.a)(j,2),h=p[0],x=p[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),f=O[0],v=O[1],y=Object(a.useState)(""),w=Object(d.a)(y,2),C=w[0],S=w[1],T=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return a={title:f,description:C,assigned_to:s,estimated_time:"".concat(u,",").concat(h),project_id:e.project_id,sprint_id:e.acitveSprint._id,parent_task:e.parentId},"Subtask Has Been Created",t.next=5,g.POST_DATA("api/userstories",a,"Subtask Has Been Created");case 5:200===t.sent.status&&(r(null),A(1),x(0),v(""),S(""),e.close());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(_.a,{className:"loginForm",model:ye,style:{margin:"auto"},onSubmit:function(e){T(e)},children:[Object(b.jsx)(we,{name:"title",label:"Title",value:f,onChange:function(e){return v(e)}}),Object(b.jsx)(Oe,{setText:function(e){return S(e)},value:C}),Object(b.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(b.jsx)(je.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:400},value:s,onChange:function(e){return r(e)}}),Object(b.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(b.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(b.jsx)(be.a,{style:{width:250,marginRight:10},postfix:"Hour(s)",min:0,max:50,value:u,onChange:function(e){return A(e)}}),Object(b.jsx)(be.a,{postfix:"Minute(s)",style:{width:250},min:0,max:59,value:h,onChange:function(e){return x(e)}})]}),Object(b.jsx)(k.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===f||""===C,children:"Submit"})]})}var ge=y.a.Types.StringType,ye=y.a.Model({title:ge().isRequired("Title is required.")});function we(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}function Ce(e){var t;return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"show-grid",children:Object(b.jsxs)(te.a,{style:{height:null!==(t=e.height)&&void 0!==t?t:"calc(100vh - 97px)"},children:[Object(b.jsx)(te.a.Item,{style:{margin:"auto"},colspan:12,children:Object(b.jsx)("img",{style:{width:"80%",display:"block",margin:"auto"},src:e.image,alt:""})}),Object(b.jsx)(te.a.Item,{colspan:12,style:{margin:"auto",textAlign:"center",fontSize:"22px"},children:e.msg})]})})})}var Se=n.p+"static/media/noactivesprint.5cfe79e4.svg",_e=n.p+"static/media/gitBranch.b53578eb.svg",ke=n.p+"static/media/pullrequest.8d345ce7.svg",Te=n(620),Be=n(612),Ie=(n(513),n(290)),Ee=n.n(Ie);var De=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(e.userStory.identifier),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(null),h=Object(d.a)(j,2),x=h[0],m=h[1],O=Object(a.useState)([]),f=Object(d.a)(O,2),v=f[0],y=f[1],w=Object(a.useState)(""),C=Object(d.a)(w,2),S=C[0],_=C[1],T=Object(a.useRef)(null),B=Object(a.useState)([]),E=Object(d.a)(B,2),D=E[0],U=E[1],P=Object(a.useState)(null),N=Object(d.a)(P,2),H=N[0],R=N[1],W=Object(a.useState)([]),F=Object(d.a)(W,2),Q=F[0],z=F[1],M=function(){var e;null===(e=T.current)||void 0===e||e.scrollIntoView(!0)},G=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({branchName:u,repo:e.project.repo,sha:x,userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/git/createBranch",a);case 4:if(200!==(s=t.sent).status){t.next=11;break}r(0),e.refresh(),p.a.success({title:"Branch Has Been Created",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.next=15;break;case 11:return t.next=13,s.json();case 13:i=t.sent,p.a.error({title:i.msg,description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/userstories/comments/".concat(e.userStory._id));case 2:n=t.sent,y(n.data.comments);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/git/getCommitsByBranch?repo=".concat(e.project.repo,"&sha=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&(a=n.data.commits.data)&&(s=a.findIndex((function(t){return t.sha===e.userStory.git_branch_sha})),U(a.slice(0,s)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/git/getPullRequestByBranch?repo=".concat(e.project.repo,"&head=").concat(e.userStory.git_branch));case 2:200===(n=t.sent).status&&z(n.data.pullrequests.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=sessionStorage.getItem("sprintCompassToken"),a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({body:S,user:sessionStorage.getItem("sprintCompassUser"),userStoryId:e.userStory._id})},t.next=4,fetch("http://localhost:5000/api/userstories/addComment",a);case 4:return s=t.sent,t.next=7,s.json();case 7:r=t.sent,200===s.status?(y(r.comments),_("")):p.a.error({title:null!==(i=r.msg)&&void 0!==i?i:"Server error, Try again later",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){document.querySelectorAll(".us__tabs>div").forEach((function(e){var t="#e6e6e6";s===Number(e.getAttribute("data-index"))&&(t="#193A5A"),e.style["border-bottom"]="3px solid ".concat(t)})),0===s&&M()}),[s,D]),Object(a.useEffect)((function(){L(),e.userStory.git_branch_sha&&(K(),q())}),[]),Object(a.useEffect)((function(){M()}),[v]),Object(b.jsxs)("section",{style:{height:"100%",background:"#f9f9f9"},children:[Object(b.jsxs)("section",{className:"us__tabs",children:[Object(b.jsx)("div",{"data-index":"0",onClick:function(){return r(0)},children:"Comments"}),!e.userStory.git_branch&&Object(b.jsx)("div",{"data-index":"1",onClick:function(){return r(1)},children:"Github Branch"}),Object(b.jsx)("div",{"data-index":"2",onClick:function(){return r(2)},children:"History"}),Object(b.jsx)("div",{"data-index":"3",onClick:function(){return r(3)},children:"Commits"}),e.userStory.git_branch&&Object(b.jsx)("div",{"data-index":"4",onClick:function(){return r(4)},children:"Pull Request"})]}),0===s&&Object(b.jsxs)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:[Object(b.jsxs)("section",{className:"scrollable",style:{height:"86%",overflowY:"auto",overflowX:"hidden"},children:[0===v.length&&Object(b.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No comments found"}),v.map((function(e,t){return Object(b.jsxs)("section",{style:{display:"flex",width:"100%",margin:"10px 0",borderBottom:"1px solid #e6e6e6",padding:"15px"},ref:v.length-1===t?T:null,children:[Object(b.jsx)("div",{style:{width:"100px"},children:Object(b.jsx)("img",{style:{width:"55px",margin:"auto",display:"block",borderRadius:"50%"},src:e.user.git_avatar,alt:"avatar"})}),Object(b.jsxs)("div",{style:{width:"80%"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{fontWeight:600,marginRight:"10px"},children:"".concat(e.user.firstname," ").concat(e.user.lastname)}),Object(b.jsx)("span",{style:{float:"right"},children:e.created_at})]}),Object(b.jsx)("div",{style:{marginTop:"5px"},children:e.body})]})]},t)})),Object(b.jsx)("div",{ref:T})]}),Object(b.jsxs)("section",{style:{height:"14%"},children:[Object(b.jsx)(I.a,{onChange:function(e){return _(e)},componentClass:"textarea",value:S,rows:3,placeholder:"Add a Comment",onPressEnter:function(){return V()}}),Object(b.jsx)(k.a,{onClick:function(){return V()},disabled:!S,appearance:"primary",style:{width:"100px",marginTop:"20px",float:"right"},children:"Post"})]})]}),1===s&&Object(b.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignContent:"center",height:"90%",flexWrap:"wrap",overflowY:"hidden"},children:[0===e.gitBranches.length&&Object(b.jsx)(Te.a,{type:"info",title:"Empty Repository",description:Object(b.jsx)("p",{children:"You cannot create branch for an empty repo "})}),!e.userStory.git_branch&&e.gitBranches.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",width:"100%",marginBottom:"100px"},children:"Create Github Branch"}),Object(b.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(b.jsx)("section",{style:{flex:1},children:Object(b.jsx)("img",{style:{width:"80%",margin:"auto",display:"block"},src:_e,alt:"gitbranch"})}),Object(b.jsxs)("section",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{margin:"5px"},children:"Branch Out From"}),Object(b.jsx)(je.a,{data:e.gitBranches.map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Branch From",onChange:function(t){m(t?e.gitBranches.find((function(e){return e.name===t})).commit.sha:null)}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:[Object(b.jsx)("div",{style:{margin:"5px"},children:"Branch Name"}),Object(b.jsx)(I.a,{style:{width:224},placeholder:"Name",onChange:function(e){return A(e)},value:u})]}),Object(b.jsx)(k.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:""===u||!x,onClick:function(){return G()},children:"Create Branch"})]})]})]})]}),2===s&&Object(b.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px",overflowY:"auto",overflowX:"hidden"},className:"scrollable",children:Object(b.jsx)(Be.a,{endless:!0,className:"custom-timeline",children:e.history.map((function(e,t){return Object(b.jsxs)(Be.a.Item,{dot:Object(b.jsx)(Y.a,{icon:"check",size:"2x",style:{background:"#1A3B5A",color:"#fff"}}),children:[Object(b.jsx)("p",{children:e.timestamp}),Object(b.jsx)("p",{children:e.user}),Object(b.jsx)("p",{style:{fontWeight:600},children:e.content})]},t)}))})}),3===s&&Object(b.jsx)("section",{style:{width:"100%",height:"90%",padding:"30px"},children:Object(b.jsxs)("section",{className:"scrollable",style:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:[0===D.length&&Object(b.jsx)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"No commits found"}),D.map((function(e,t){return Object(b.jsxs)("section",{style:{padding:"15px 0",display:"flex",width:"100%",borderBottom:"1px solid #e6e6e6"},children:[Object(b.jsx)("div",{style:{flex:1},children:Object(b.jsx)("img",{style:{width:"60px",margin:"auto",display:"block",borderRadius:"50%"},src:e.author.avatar_url,alt:"avatar"})}),Object(b.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("span",{style:{fontWeight:600},children:"".concat(e.committer.login)})}),Object(b.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.commit.message}),Object(b.jsx)("div",{style:{flex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Ee()(e.commit.author.date).local().format("YYYY/MM/DD HH:mm:ss")}),Object(b.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("span",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))]})}),4===s&&Object(b.jsxs)("section",{style:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[Object(b.jsx)("section",{style:{width:"100%",height:"40vh",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:Object(b.jsx)("img",{style:{height:"80%"},src:ke,alt:"gitbranch"})}),D.length>0?Object(b.jsxs)(b.Fragment,{children:[Q.length>0&&Object(b.jsx)("div",{style:{marginTop:"30px",width:"100%"},children:Q.map((function(e,t){return Object(b.jsxs)("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90%",margin:"auto",textAlign:"left",borderTop:"1px solid #e6e6e6",borderBottom:"1px solid #e6e6e6",padding:"20px 0"},children:[Object(b.jsx)("section",{style:{flex:".5"},children:Object(b.jsx)("img",{src:e.user.avatar_url,alt:"git_avatar",style:{width:"50px",borderRadius:"50%"}})}),Object(b.jsxs)("section",{style:{flex:1},children:[Object(b.jsx)("div",{style:{fontSize:"12px"},children:"Created By"}),Object(b.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.user.login})]}),Object(b.jsxs)("section",{style:{flex:1},children:[Object(b.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request"}),Object(b.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.title})]}),Object(b.jsxs)("section",{style:{flex:1},children:[Object(b.jsx)("div",{style:{fontSize:"12px"},children:"Pull Request to"}),Object(b.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.base.ref})]}),Object(b.jsxs)("section",{style:{flex:".75"},children:[Object(b.jsx)("div",{style:{fontSize:"12px"},children:"Status"}),Object(b.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginTop:"10px"},children:e.state})]}),Object(b.jsx)("section",{style:{flex:".5"},children:Object(b.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return window.open(e.html_url,"_blank")},children:"View"})})]},t)}))}),0===Q.length&&Object(b.jsxs)("section",{style:{width:"100%",padding:"30px",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(b.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"5px 0"},children:"Base Branch"}),Object(b.jsx)(je.a,{data:e.gitBranches.filter((function(t){return t.name!==e.userStory.git_branch})).map((function(e,t){return{role:e.commit.sha,label:e.name,value:e.name}})),style:{width:224},placeholder:"Base Branch",onChange:function(e){return R(e)}})]}),Object(b.jsx)(k.a,{style:{marginTop:"20px",width:224},appearance:"primary",disabled:!H,onClick:function(){var t=sessionStorage.getItem("organization"),n=e.project.repo,a=e.userStory.git_branch;window.open("https://github.com/".concat(t,"/").concat(n,"/compare/").concat(H,"...").concat(a),"_blank")},children:"Create Pull Request"})]})]}):Object(b.jsx)("div",{children:"No commits found to make a pull request"})]})]})},Ue=["To Do","In Progress","Testing","Done"],Pe=["#01949A","#2196F3","#134069","#4CAF50"];var Ne=Object(E.h)((function(e){var t,n,s,r,i,c,A=Object(a.useState)(null),j=Object(d.a)(A,2),p=j[0],h=j[1],x=Object(a.useState)([]),m=Object(d.a)(x,2),O=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),w=y[0],C=y[1],S=Object(a.useState)(null),_=Object(d.a)(S,2),B=_[0],E=_[1],D=Object(a.useState)(""),U=Object(d.a)(D,2),P=U[0],N=U[1],H=Object(a.useState)(""),R=Object(d.a)(H,2),W=R[0],Q=R[1],z=Object(a.useState)(""),M=Object(d.a)(z,2),G=M[0],L=M[1],K=Object(a.useState)(null),q=Object(d.a)(K,2),V=q[0],J=q[1],X=Object(a.useState)(null),Z=Object(d.a)(X,2),$=Z[0],ee=Z[1],ne=Object(a.useState)(null),ae=Object(d.a)(ne,2),se=ae[0],re=ae[1],ie=Object(a.useState)(null),ce=Object(d.a)(ie,2),oe=ce[0],le=ce[1],xe=Object(a.useState)(null),me=Object(d.a)(xe,2),fe=me[0],ge=me[1],ye=Object(a.useState)(null),we=Object(d.a)(ye,2),_e=we[0],ke=we[1],Te=Object(a.useState)([]),Be=Object(d.a)(Te,2),Ie=Be[0],Ee=Be[1],Ne=Object(a.useState)(!1),He=Object(d.a)(Ne,2),Re=He[0],We=He[1],Fe=Object(a.useState)([]),Qe=Object(d.a)(Fe,2),ze=Qe[0],Me=Qe[1],Ge=function(e){var t=[];t.push(e.filter((function(e){return"To Do"===e.state}))),t.push(e.filter((function(e){return"In Progress"===e.state}))),t.push(e.filter((function(e){return"Testing"===e.state}))),t.push(e.filter((function(e){return"Done"===e.state}))),t.forEach((function(e){e.forEach((function(e){e.parent_task&&(e.identifier="".concat(e.parent_task.identifier,"/").concat(e.identifier))})),e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),h(t)},Le=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t,state:n},e.next=3,g.UPDATE_DATA("api/userstories",a);case 3:200===e.sent.status&&Ke();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/userstories/bySprint/".concat(e.sprint._id));case 2:200===(n=t.sent).status&&(a=n.data,Ge(a.userstories),f(a.userstories),B&&E(a.userstories.find((function(e){return e._id===B._id}))));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),qe=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,r,i,c,l,d,u,A,j,p,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i={},c={hours:$,minutes:se},l={hours:oe,minutes:fe},parseInt($)<=parseInt(B.estimated_time.split(",")[0])&&(ee(B.estimated_time.split(",")[0]),c.hours=B.estimated_time.split(",")[0],parseInt(se)<=parseInt(B.estimated_time.split(",")[1])&&(re(B.estimated_time.split(",")[1]),c.minutes=B.estimated_time.split(",")[1])),parseInt(oe)<=parseInt(null===(n=B.time_spent)||void 0===n?void 0:n.split(",")[0])&&(le(null===(d=B.time_spent)||void 0===d?void 0:d.split(",")[0]),l.hours=null===(u=B.time_spent)||void 0===u?void 0:u.split(",")[0],parseInt(fe)<=parseInt(null===(A=B.time_spent)||void 0===A?void 0:A.split(",")[1])&&(ge(null===(j=B.time_spent)||void 0===j?void 0:j.split(",")[1]),l.minutes=null===(p=B.time_spent)||void 0===p?void 0:p.split(",")[1])),W!==B.title&&(i.title=W),G!==B.description&&(i.description=G),V!==(null===(a=B.assigned_to)||void 0===a?void 0:a._id)&&(i.assigned_to=V),c.hours===B.estimated_time.split(",")[0]&&c.minutes===B.estimated_time.split(",")[1]||(i.estimated_time="".concat(c.hours,",").concat(c.minutes)),l.hours===(null===(s=B.time_spent)||void 0===s?void 0:s.split(",")[0])&&l.minutes===(null===(r=B.time_spent)||void 0===r?void 0:r.split(",")[1])||"0"===l.hours&&"0"===l.minutes||(i.time_spent="".concat(l.hours,",").concat(l.minutes)),_e&&(i.moveto_backlog=!0),0!==Object.keys(i).length){t.next=14;break}return C(!1),t.abrupt("return");case 14:return i._id=B._id,i.current_sprint=e.sprint._id,"User Story Has Been Updated",b=i,t.next=20,g.UPDATE_DATA("api/userstories",b,"User Story Has Been Updated");case 20:C(!1),Ke();case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ve=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.map((function(t){var n="";if("user_story"===t.attribute)n="Created the task";else if("description"===t.attribute)n="Updated Description";else if("state"===t.attribute)n='Changed state from "'.concat(t.old_value,'" to  "').concat(t.new_value,'"');else if("title"===t.attribute)n='Updated Title to  "'.concat(t.new_value,'"');else if("assigned_to"===t.attribute){var a=e.collaborators.find((function(e){return e._id===t.new_value}));n=a?"Changed Assiginee to ".concat(a.firstname," ").concat(a.lastname):"Unassigned"}else"estimated_time"===t.attribute?n="Re-estimated the task to be completed in ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"time_spent"===t.attribute?n="Increased the time stpent to ".concat(t.new_value.split(",")[0]," hours and  ").concat(t.new_value.split(",")[1]," minutes"):"state"===t.attribute?n="Changed State from ".concat(t.old_value," to ").concat(t.new_value):"moveto_backlog"===t.attribute?n="Moved task to backlog.":"sprint_id"===t.attribute&&(n="Moved task to sprint ".concat(t.new_value.slice(t.new_value.indexOf(",")+1)));var s=e.collaborators.find((function(e){return e._id===t.updated_by}));return{timestamp:t.timestamp,content:n,user:"".concat(null===s||void 0===s?void 0:s.firstname," ").concat(null===s||void 0===s?void 0:s.lastname)}})),Ee(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ye=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/git/getAllBranches/".concat(e.project.repo));case 2:200===(n=t.sent).status&&(a=n.data.branches.data,Me(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){Ke(),Ye()}),[]),Object(b.jsxs)("div",{children:[p?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"100px 0 10px 0"},children:Object(b.jsx)(he.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n){var a=+t.droppableId,s=+n.droppableId;if(a!==s){Le(e.draggableId,Ue[n.droppableId]);var r=function(e,t,n,a){var s=Array.from(e),r=Array.from(t),i=s.splice(n.index,1),c=Object(d.a)(i,1)[0];r.splice(a.index,0,c);var o={};return o[n.droppableId]=s,o[a.droppableId]=r,o}(p[a],p[s],t,n),i=Object(de.a)(p);i[a]=r[a],i[s]=r[s],i.forEach((function(e){e.sort((function(e,t){return e.identifier.localeCompare(t.identifier)}))})),h(i)}}},children:p.map((function(t,n){return Object(b.jsx)(he.c,{droppableId:"".concat(n),children:function(a,s){return Object(b.jsxs)("div",Object(u.a)(Object(u.a)({ref:a.innerRef,style:(r=O.length,{padding:8,width:350,minHeight:0===r?"100px":"75vh",margin:"0 10px"})},a.droppableProps),{},{children:[Object(b.jsxs)("div",{style:{padding:"20px",margin:"10px 0",color:"#575757",fontWeight:"bold",fontSize:"18px",borderTop:"7px solid ".concat(Pe[n]),position:"relative"},children:[0===n&&Object(b.jsxs)("div",{style:{position:"absolute",fontSize:"23px",fontWeight:"700",left:0,top:-80},children:["Sprint - ",e.sprint.name]}),Ue[n]]}),t.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(he.b,{draggableId:String(e._id),index:t,children:function(t,a){return Object(b.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(s=a.isDragging,r=t.draggableProps.style,i=!!e.parent_task,Object(u.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,i?"px 20px":"px 0"),borderRadius:"10px",background:s?"#f5f5f5":"#ffffff",border:"1px solid #e6e6e6",cursor:"pointer",boxShadow:"0 2px 5px #e6e6e6"},r)),onClick:function(){var t,n,a;C(!0),E(e),Ve(e.history),N(e.identifier),Q(e.title),L(e.description),J(null===(t=e.assigned_to)||void 0===t?void 0:t._id),ee(null===(n=e.estimated_time)||void 0===n?void 0:n.split(",")[0]),re(null===(a=e.estimated_time)||void 0===a?void 0:a.split(",")[1]),le(e.time_spent?e.time_spent.split(",")[0]:"0"),ge(e.time_spent?e.time_spent.split(",")[1]:"0"),ke(!1)},children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)(ue.a,{style:{color:"#f5f5f5",fontWeight:"600",marginBottom:"10px",background:Pe[n]},children:e.title}),Object(b.jsx)(ue.a,{style:{fontWeight:"600",marginBottom:"10px",background:"#ececec"},children:e.identifier})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:[Object(b.jsx)(Y.a,{icon:"user-circle-o",style:{marginRight:"5px"}}),e.assigned_to?"".concat(e.assigned_to.firstname," ").concat(e.assigned_to.lastname):"Unassigned"]})]})}));var s,r,i}},e._id)},t)})),a.placeholder]}));var r}},n)}))})}),0===O.length&&Object(b.jsx)(Ce,{msg:"No User Stories Found",image:Se,height:"300px"})]}):Object(b.jsx)("div",{style:{height:"80vh"},children:Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),Object(b.jsxs)(Ae.a,{show:w,onHide:function(){C(!1),E(null)},style:{width:"100%"},children:[Object(b.jsx)(Ae.a.Header,{}),Object(b.jsx)(Ae.a.Body,{children:!!B&&Object(b.jsxs)("div",{style:{display:"flex",height:"100%",justifyContent:"space-between"},children:[Object(b.jsxs)("div",{style:{width:"40%",display:"flex",justifyContent:"start",height:"100%",flexWrap:"wrap",marginLeft:"30px",textAlign:"left"},children:[Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",width:"100%"},children:[Object(b.jsx)(Y.a,{icon:"task",size:"2x"}),Object(b.jsx)("h3",{style:{color:"#193A5A",marginLeft:"15px"},children:P}),Object(b.jsx)(k.a,{appearance:"default",style:{background:"#e6e6e6",marginLeft:"auto"},onClick:function(){return We(!0)},children:"Create Subtask"})]}),Object(b.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Title"}),Object(b.jsx)(I.a,{style:{fontSize:"20px",width:"100%",fontWeight:"bold"},value:W,onChange:function(e){return Q(e)}}),Object(b.jsx)("p",{style:{width:"90%",margin:"20px 0 5px 10px",fontWeight:"600"},children:"Description"}),Object(b.jsx)(Oe,{setText:function(e){return L(e)},value:G}),Object(b.jsxs)(te.a,{style:{width:"100%",marginTop:"50px"},children:[Object(b.jsxs)(te.a.Item,{colspan:12,children:[Object(b.jsx)("p",{style:{width:"100%",margin:"0 0 5px 15px",fontWeight:"600"},children:"Assigned To"}),Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsx)(je.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{padding:"5px 0",maxWidth:"310px",marginLeft:"12px"},value:V,onChange:function(e){return J(e)}})}),Object(b.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Github Branch"}),Object(b.jsx)("div",{style:{margin:"0 15px"},children:B.git_branch}),Object(b.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Move to Backlog"}),Object(b.jsx)(pe.a,{style:{margin:"0 12px"},checkedChildren:Object(b.jsx)(Y.a,{icon:"check"}),unCheckedChildren:Object(b.jsx)(Y.a,{icon:"close"}),value:_e,onChange:function(e){return ke(e)}})]}),Object(b.jsxs)(te.a.Item,{colspan:12,children:[Object(b.jsx)("p",{style:{width:"100%",margin:"0px 0 5px 15px",fontWeight:"600"},children:"Estimated Time"}),Object(b.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(b.jsx)(be.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:parseInt(null===(t=B.estimated_time)||void 0===t?void 0:t.split(",")[0]),max:50,value:null!==$&&void 0!==$?$:0,onChange:function(e){return ee(e)}}),Object(b.jsx)(be.a,{postfix:"Minute(s)",style:{width:150},min:parseInt($)<=parseInt(null===(n=B.estimated_time)||void 0===n?void 0:n.split(",")[0])?parseInt(null===(s=B.estimated_time)||void 0===s?void 0:s.split(",")[1]):0,max:59,value:null!==se&&void 0!==se?se:0,onChange:function(e){return re(e)}})]}),Object(b.jsx)("p",{style:{width:"100%",margin:"20px 0 5px 15px",fontWeight:"600"},children:"Time Spent"}),Object(b.jsxs)("div",{style:{display:"flex",marginLeft:"12px"},children:[Object(b.jsx)(be.a,{style:{width:150,marginRight:10},postfix:"Hour(s)",min:parseInt(null===(r=B.time_spent)||void 0===r?void 0:r.split(",")[0]),max:50,value:null!==oe&&void 0!==oe?oe:0,onChange:function(e){return le(e)}}),Object(b.jsx)(be.a,{postfix:"Minute(s)",style:{width:150},min:parseInt(oe)<=parseInt(null===(i=B.time_spent)||void 0===i?void 0:i.split(",")[0])?parseInt(null===(c=B.time_spent)||void 0===c?void 0:c.split(",")[1]):0,max:59,value:null!==fe&&void 0!==fe?fe:0,onChange:function(e){return ge(e)}})]})]})]}),Object(b.jsx)("div",{style:{height:"1px",width:"100%",background:"#e6e6e6",margin:"30px 0"}}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsx)(k.a,{appearance:"primary",style:{width:"250px"},onClick:function(){return qe()},children:"Update User Story"})})]}),Object(b.jsx)("div",{style:{width:"55%",borderLeft:"1px solid #e6e6e6"},children:Object(b.jsx)(De,{gitBranches:ze,project:e.project,userStory:B,refresh:function(){return Ke()},history:Ie})})]})})]}),Object(b.jsxs)(T.a,{show:Re,overflowY:!1,onHide:function(){return We(!1)},children:[Object(b.jsx)(T.a.Header,{children:Object(b.jsx)(T.a.Title,{children:"Create Subtask"})}),Object(b.jsx)(T.a.Body,{children:Object(b.jsx)(ve,{project_id:e.project_id,acitveSprint:e.sprint,collaborators:e.collaborators,parentId:null===B||void 0===B?void 0:B._id,close:function(){We(!1),Ke()}})})]})]})})),He=n.p+"static/media/createTicket.ea7c0d8a.svg",Re=n.p+"static/media/sprint.30c319a6.svg",We=n(622),Fe=n.p+"static/media/nobacklog.e26594b8.svg";function Qe(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(!1),c=Object(d.a)(i,2),u=c[0],A=c[1],j=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.next=3,g.FETCH_DATA("api/userstories/backlogs/".concat(e.project_id));case 3:return n=t.sent,t.next=6,n.data;case 6:a=t.sent,r(a.userstories),A(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a={})._id=n._id,a.sprint_id=e.acitveSprint._id,"User Story Has Been Moved to the Active Sprint",s=a,t.next=7,g.UPDATE_DATA("api/userstories",s,"User Story Has Been Moved to the Active Sprint");case 7:200===t.sent.status&&j();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(b.jsx)("div",{children:u||0!==s.length?Object(b.jsx)("div",{style:{margin:"50px auto",width:"80%"},children:Object(b.jsx)(We.a,{accordion:!0,defaultActiveKey:null,bordered:!0,children:s.map((function(t,n){return Object(b.jsx)(Q.a,{header:t.title,eventKey:n+1,children:Object(b.jsxs)(te.a,{style:{minHeight:"300px"},children:[Object(b.jsx)(te.a.Item,{colspan:12,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",margin:"10px 0"},children:t.title}),Object(b.jsx)(Oe,{disabled:!0,value:t.description})]})}),Object(b.jsx)(te.a.Item,{colspan:12,style:{height:"300px"},children:Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(b.jsx)(k.a,{style:{padding:"20px",color:"#f5f5f5",background:"#134069"},disabled:!e.acitveSprint,onClick:function(){return p(t)},children:"Move To Active Sprint"})})})]})},n)}))})}):Object(b.jsx)(Ce,{image:Fe,msg:"So empty!"})})}function ze(){return Object(b.jsx)("div",{children:"Hello World"})}function Me(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(1),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(0),p=Object(d.a)(j,2),h=p[0],x=p[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),f=O[0],v=O[1],y=Object(a.useState)(""),w=Object(d.a)(y,2),C=w[0],S=w[1],T=Object(a.useState)(null),B=Object(d.a)(T,2),I=B[0],E=B[1],D=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return"User Story Has Been Created",a={title:f,description:C,assigned_to:s,estimated_time:"".concat(u,",").concat(h),sprint_id:-1===I?null:I,project_id:e.project_id},t.next=5,g.POST_DATA("api/userstories",a,"User Story Has Been Created");case 5:e.refresh();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(_.a,{className:"loginForm",model:Le,style:{margin:"auto"},onSubmit:function(e){D(e)},children:[Object(b.jsx)(Ke,{name:"title",label:"Title",value:f,onChange:function(e){return v(e)}}),Object(b.jsx)(Oe,{setText:function(e){return S(e)},value:C}),Object(b.jsxs)("div",{style:{display:"flex",marginTop:"20px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"rs-control-label",children:"Assign To "}),Object(b.jsx)(je.a,{data:e.collaborators.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e._id}})),placeholder:"Assign To",style:{width:200},value:s,onChange:function(e){return r(e)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"rs-control-label",children:"Select a Destination"}),Object(b.jsx)(je.a,{data:e.acitveSprint?[{label:e.acitveSprint.name,value:e.acitveSprint._id},{label:"Backlog",value:-1}]:[{label:"Backlog",value:-1}],placeholder:"Destination",style:{width:200},value:I,onChange:function(e){return E(e)}})]})]}),Object(b.jsx)("label",{style:{margin:"25px 0 5px"},className:"rs-control-label",children:"Estimated Time"}),Object(b.jsxs)("div",{style:{display:"flex",marginBottom:30},children:[Object(b.jsx)(be.a,{style:{width:200,marginRight:23},postfix:"Hour(s)",min:0,max:50,value:u,onChange:function(e){return A(e)}}),Object(b.jsx)(be.a,{postfix:"Minute(s)",style:{width:200},min:0,max:59,value:h,onChange:function(e){return x(e)}})]}),Object(b.jsx)(k.a,{type:"submit",style:{width:"100%",background:"#134069",color:"#f5f5f5"},disabled:""===f||""===C,children:"Submit"})]})}var Ge=y.a.Types.StringType,Le=y.a.Model({title:Ge().isRequired("Title is required.")});function Ke(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var qe=n(614),Ve=n(603),Ye=n(623);function Je(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(0),p=Object(d.a)(j,2),h=p[0],x=p[1],m=Object(a.useState)([]),O=Object(d.a)(m,2),f=O[0],v=O[1];Object(a.useEffect)((function(){e.acitveSprint&&y()}),[]);var y=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/userstories/unfinishedTask/".concat(e.acitveSprint._id));case 2:return n=t.sent,t.next=5,n.data;case 5:a=t.sent,s=[],a.userstories.forEach((function(e,t){var n=e.estimated_time.split(",");s.push({story:e.identifier,estimated_hours:n[0],estimated_mins:n[1],re_estimated_hours:Object(b.jsx)(be.a,{onChange:function(e){s[t].hours=e,v(s)},max:50,min:0}),re_estimated_mins:Object(b.jsx)(be.a,{onChange:function(e){s[t].mins=e,v(s)},max:59,min:0,defaultValue:0}),move_to_backlog:Object(b.jsx)(pe.a,{onChange:function(e){s[t].moveto_backlog=e,v(s)}}),moveto_backlog:!1,hours:0,mins:0,id:e._id})})),v(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e){x(e<0?0:e>3?3:e)},C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],f.forEach((function(e){n.push({_id:e.id,estimated_time:"".concat(e.hours,",").concat(e.mins),moveto_backlog:e.moveto_backlog})})),!e.acitveSprint){t.next=5;break}return t.next=5,C();case 5:return"Sprint Created Successfully",a={name:s,description:u,project_id:e.project_id,sprint_id:e.acitveSprint?e.acitveSprint._id:null,user_stories:n},t.next=9,g.POST_DATA("api/sprints",a,"Sprint Created Successfully");case 9:200===t.sent.status&&e.refresh();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"35px",fontWeight:"400"},children:"Create Sprint"}),Object(b.jsxs)("div",{style:{padding:"0 40px",width:"90%"},children:[Object(b.jsxs)(qe.a,{current:h,children:[Object(b.jsx)(qe.a.Item,{title:"Sprint Info",description:"Sprint Information"}),e.acitveSprint&&Object(b.jsx)(qe.a.Item,{title:"Manage User Stories",description:"Re-Estimate/ Move to Backlog"}),Object(b.jsx)(qe.a.Item,{title:"Submit",description:"Create New Sprint"})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(Q.a,{style:{height:"40vh",padding:"0"},children:[0===h&&Object(b.jsxs)(_.a,{className:"loginForm",style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:[Object(b.jsx)("div",{style:{width:"70%",margin:"10px 0"},children:Object(b.jsx)(Xe,{name:"title",label:"Title",value:s,onChange:function(e){return r(e)}})}),Object(b.jsx)("div",{style:{width:"70%"},children:Object(b.jsx)(Xe,{name:"description",label:"Description",value:u,onChange:function(e){return A(e)}})})]}),e.acitveSprint&&1===h&&Object(b.jsxs)(Ve.a,{cellBordered:!0,height:350,data:f,headerHeight:80,rowHeight:60,style:{border:"1px solid #e6e6e6"},children:[Object(b.jsxs)(Ve.a.Column,{align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"User Story"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"story"})]}),Object(b.jsxs)(Ve.a.ColumnGroup,{align:"center",verticalAlign:"middle",header:"Estimated",flexGrow:1,children:[Object(b.jsxs)(Ve.a.Column,{children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"Hours"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"estimated_hours"})]}),Object(b.jsxs)(Ve.a.Column,{children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"Minutes"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"estimated_mins"})]})]}),Object(b.jsxs)(Ve.a.ColumnGroup,{header:"Re-Estimate",align:"center",verticalAlign:"middle",flexGrow:1,children:[Object(b.jsxs)(Ve.a.Column,{children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"Hours"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"re_estimated_hours"})]}),Object(b.jsxs)(Ve.a.Column,{children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"Minutes"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"re_estimated_mins"})]})]}),Object(b.jsxs)(Ve.a.Column,{flexGrow:1,align:"center",verticalAlign:"middle",children:[Object(b.jsx)(Ve.a.HeaderCell,{children:"Move to Backlog"}),Object(b.jsx)(Ve.a.Cell,{dataKey:"move_to_backlog"})]})]}),(2===h||!e.acitveSprint)&&Object(b.jsx)("div",{style:{margin:"auto",display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",height:"35vh"},children:Object(b.jsx)(k.a,{style:{width:"300px",background:"#134069",color:"#f5f5f5"},onClick:S,children:"Create Sprint"})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(Ye.a,{children:[Object(b.jsx)(k.a,{onClick:function(){return w(h-1)},disabled:0===h,children:"Previous"}),Object(b.jsx)(k.a,{type:"submit",onClick:function(){s&&u&&(1===h&&f.find((function(e){return 0===Number(e.hours)&&0===Number(e.mins)}))||w(h+1))},disabled:e.acitveSprint?2===h:1===h,children:"Next"})]})]})]})}function Xe(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var Ze=n.p+"static/media/sprintHome.9f97a044.svg",$e=n(303),et=n.n($e),tt=n(279),nt=n(624),at=n(625),st=n(313),rt=n(626);var it=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(null),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(!1),p=Object(d.a)(j,2),h=p[0],x=p[1],m=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("api/git/getRepo/".concat(e.project.repo));case 2:n=t.sent,r(n.data.repo.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={project_id:e.project._id,user_id:u},"Successfully added the user",t.next=4,g.UPDATE_DATA("api/projects/addMember",n,"Successfully added the user");case 4:x(!1),e.getMembers(e.project._id),m();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){m()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{style:{display:"flex",height:"70vh"},children:[Object(b.jsx)("section",{style:{width:"50%",display:"flex",alignItems:"center"},children:Object(b.jsx)("img",{style:{maxWidth:"700px",display:"block",margin:"auto"},src:Ze,alt:"homeimg"})}),s&&e.membersIn&&e.membersIn.length>0?Object(b.jsxs)("section",{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignContent:"center",flexWrap:"wrap"},children:[Object(b.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"30px",fontWeight:"bold"},children:e.project.name}),Object(b.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:e.project.description}),Object(b.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"20px",marginTop:"40px",fontWeight:"bold"},children:"Contributors"}),Object(b.jsx)("div",{className:"avatar-group",style:{justifyContent:"center",display:"flex",width:"50%",margin:"auto",flexWrap:"wrap"},children:e.membersIn.map((function(e,t){return Object(b.jsx)(tt.a,{trigger:"hover",placement:"top",speaker:Object(b.jsx)(nt.a,{title:"".concat(e.firstname," ").concat(e.lastname)}),children:Object(b.jsx)(at.a,{circle:!0,style:{background:"#828282",cursor:"pointer",margin:"10px"},src:e.git_avatar})},t)}))}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"40px"},children:[["owner","admin"].includes(sessionStorage.getItem("sprintCompassUserRole").toLowerCase())&&Object(b.jsx)(st.a,{icon:Object(b.jsx)(Y.a,{icon:"user-plus"}),placement:"left",size:"md",style:{marginRight:"10px",border:"1px solid #e6e6e6"},onClick:function(){return x(!0)},children:"Add Member"}),Object(b.jsx)(st.a,{size:"md",style:{border:"1px solid #e6e6e6"},icon:Object(b.jsx)(Y.a,{icon:"github"}),placement:"left",onClick:function(){return window.open(s.html_url,"_blank")},children:"Open with Github"})]}),Object(b.jsxs)("div",{style:{marginTop:"40px",display:"flex"},children:[Object(b.jsxs)("div",{"data-div-text":s.clone_url,style:{display:"flex"},children:[Object(b.jsx)("div",{style:{background:"#e6e6e6",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"5px 0 0 5px"},children:"Clone Url"}),Object(b.jsx)("div",{style:{background:"#f5f5f5",padding:"8px",border:"1px solid #e6e6e6",borderRadius:"0 5px 5px 0"},children:s.clone_url})]}),Object(b.jsx)(et.a,{"data-clipboard-text":s.clone_url,style:{background:"#134069",color:"#f5f5f5",width:"60px",borderRadius:"0 5px 5px 0"},children:"copy"})]})]}):Object(b.jsx)(F.a,{style:{width:"50%",display:"flex",justifyContent:"center",height:"100%",alignItems:"center"},type:"ThreeDots",color:"#134069",height:50,width:50})]}),Object(b.jsx)(Ae.a,{show:h,onHide:function(){x(!1),A(null)},children:Object(b.jsx)(Ae.a.Body,{children:Object(b.jsx)("div",{className:"drawerBody",children:Object(b.jsxs)(_.a,{onSubmit:function(){O()},children:[Object(b.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Add a Member"}),e.membersNotIn&&0===e.membersNotIn.length&&Object(b.jsx)("div",{style:{textAlign:"center"},children:"No new members to add"}),e.membersNotIn&&e.membersNotIn.length>0&&Object(b.jsxs)("div",{children:[Object(b.jsx)(je.a,{data:e.membersNotIn.map((function(e){return{label:e.firstname+" "+e.lastname,value:e._id}})),style:{width:224},onChange:function(e){return A(e)}}),Object(b.jsx)(rt.a,{children:Object(b.jsx)(k.a,{appearance:"primary",type:"submit",style:{width:"100%",margin:"30px 0"},disabled:!u,children:"Submit"})})]})]})})})})]})},ct=function(e){var t=e.expand,n=e.onChange;return Object(b.jsx)(q.a,{appearance:"inverse",style:{background:"#134069"},className:"nav-toggle",children:Object(b.jsx)(q.a.Body,{children:Object(b.jsx)(V.a,{pullRight:!0,children:Object(b.jsx)(V.a.Item,{onClick:n,style:{width:56,textAlign:"center"},children:Object(b.jsx)(Y.a,{icon:t?"angle-left":"angle-right"})})})})})};var ot=Object(E.h)((function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(d.a)(r,2),c=i[0],u=i[1],A=Object(a.useState)(null),j=Object(d.a)(A,2),p=j[0],h=j[1],x=Object(a.useState)([]),m=Object(d.a)(x,2),O=(m[0],m[1]),f=Object(a.useState)(!0),v=Object(d.a)(f,2),y=v[0],w=v[1],C=Object(a.useState)(!1),S=Object(d.a)(C,2),_=S[0],k=S[1],T=Object(a.useState)(!1),B=Object(d.a)(T,2),I=B[0],D=B[1],U=Object(a.useState)(!1),P=Object(d.a)(U,2),N=P[0],H=P[1],R=Object(a.useState)(!1),W=Object(d.a)(R,2),F=W[0],Q=W[1],z=Object(a.useState)(!1),M=Object(d.a)(z,2),G=M[0],L=M[1],K=Object(a.useState)(!0),q=Object(d.a)(K,2),ne=q[0],ae=q[1],se=Object(a.useState)(null),re=Object(d.a)(se,2),ie=re[0],ce=re[1],oe=Object(E.g)().url,de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/sprints/allByProjectId/".concat(oe.split("/")[2]));case 2:t=e.sent,n=t.data,a=n.sprints.find((function(e){return!e.is_done})),ce(a),O(n.sprints);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/projects/byProjectId/".concat(oe.split("/")[2]));case 2:t=e.sent,n=t.data,je(n.project._id),h(n.project);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(e){k(!1),H(!1),D(!1),Q(!1),L(!1),w(!1),e(!0)},je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/projects/members/".concat(t));case 2:n=e.sent,s(n.data.membersIn),u(n.data.membersNotIn);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){de(),ue()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(le,{}),Object(b.jsx)("div",{className:"show-fake-browser sidebar-page",children:Object(b.jsxs)(J.a,{children:[Object(b.jsx)(X.a,{style:{display:"flex",flexDirection:"column"},width:ne?260:56,collapsible:!0,children:Object(b.jsxs)(Z.a,{expanded:ne,defaultOpenKeys:["3","4"],appearance:"inverse",style:{background:"#134069",minHeight:"calc(100vh - 94px)",height:"100%"},children:[Object(b.jsx)(Z.a.Body,{children:Object(b.jsxs)(V.a,{children:[Object(b.jsx)(V.a.Item,{eventKey:"2",icon:Object(b.jsx)(Y.a,{icon:"home"}),active:y,onClick:function(){return Ae(w)},children:"Home"}),Object(b.jsxs)($.a,{eventKey:"3",trigger:"hover",title:"Sprint Planning",icon:Object(b.jsx)(Y.a,{icon:"magic"}),placement:"rightStart",children:[Object(b.jsx)($.a.Item,{eventKey:"3-3",active:_,icon:Object(b.jsx)(Y.a,{icon:"dashboard"}),onClick:function(){return Ae(k)},children:"Active Sprint"}),Object(b.jsx)($.a.Item,{eventKey:"3-2",active:I,icon:Object(b.jsx)(Y.a,{icon:"plus-square"}),onClick:function(){return Ae(D)},children:"Create New Sprint"}),Object(b.jsx)($.a.Item,{eventKey:"3-1",active:N,icon:Object(b.jsx)(Y.a,{icon:"newspaper-o"}),onClick:function(){return Ae(H)},children:"Create User Story"})]}),Object(b.jsx)(V.a.Item,{eventKey:"2",active:F,icon:Object(b.jsx)(Y.a,{icon:"toggle-left"}),onClick:function(){return Ae(Q)},children:"View Backlog"}),Object(b.jsxs)($.a,{eventKey:"4",trigger:"hover",title:"Advanced",icon:Object(b.jsx)(Y.a,{icon:"gear-circle"}),placement:"rightStart",children:[Object(b.jsx)($.a.Item,{eventKey:"4-1",active:G,onClick:function(){return Ae(L)},icon:Object(b.jsx)(Y.a,{icon:"history"}),children:"Sprint History"}),Object(b.jsx)($.a.Item,{eventKey:"4-2",children:"Websites"}),Object(b.jsx)($.a.Item,{eventKey:"4-3",children:"Channels"}),Object(b.jsx)($.a.Item,{eventKey:"4-4",children:"Tags"}),Object(b.jsx)($.a.Item,{eventKey:"4-5",children:"Versions"})]})]})}),Object(b.jsx)(ct,{expand:ne,onChange:function(){ae(!ne)}})]})}),Object(b.jsx)(J.a,{children:Object(b.jsxs)(ee.a,{children:[y&&!!p&&Object(b.jsx)(it,{project:p,membersIn:n,membersNotIn:c,getMembers:je}),_&&Object(b.jsx)("div",{children:ie?Object(b.jsx)(Ne,{sprint:ie,collaborators:n,project_id:oe.split("/")[2],project:p}):Object(b.jsx)(Ce,{image:Se,msg:"No Active Sprint Found"})}),I&&Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"show-grid",children:Object(b.jsxs)(te.a,{style:{background:"#f5f5f5",height:"calc(100vh - 94px)"},children:[Object(b.jsx)(te.a.Item,{style:{margin:"auto"},colspan:8,children:Object(b.jsx)("img",{className:"dashBoardSectionImg",src:Re,alt:""})}),Object(b.jsx)(te.a.Item,{colspan:16,style:{margin:"auto"},children:Object(b.jsx)(Je,{project_id:oe.split("/")[2],acitveSprint:ie,refresh:function(){Ae(w),de()}})})]})})}),N&&Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"show-grid",children:Object(b.jsxs)(te.a,{style:{background:"#f5f5f5",height:"calc(100vh - 94px)"},children:[Object(b.jsx)(te.a.Item,{style:{margin:"auto"},colspan:12,children:Object(b.jsx)("img",{className:"dashBoardSectionImg",src:He,alt:""})}),Object(b.jsxs)(te.a.Item,{colspan:12,style:{margin:"auto"},children:[Object(b.jsx)("div",{style:{fontSize:"25px",display:"block",textAlign:"center",marginBottom:"15px",fontWeight:"400"},children:"Create User Story"}),Object(b.jsx)(Me,{project_id:oe.split("/")[2],acitveSprint:ie,collaborators:n,refresh:function(){return Ae(w)}})]})]})})}),F&&Object(b.jsx)(Qe,{project_id:oe.split("/")[2],acitveSprint:ie}),G&&Object(b.jsx)(ze,{})]})})]})})]})})),lt=n.p+"static/media/teamsHome.331c024c.svg",dt=n(605),ut=y.a.Types.StringType,At=y.a.Model({name:ut().isRequired("Name is required."),description:ut().isRequired("Description is required.")});function jt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var pt={display:"flex",alignItems:"center",height:"60px"},bt={fontSize:"0.9em",color:"#97969B",fontWeight:"lighter",paddingBottom:3},ht={paddingBottom:5,whiteSpace:"nowrap",fontWeight:500};var xt=Object(E.h)((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),A=c[0],j=c[1],p=Object(a.useState)(""),h=Object(d.a)(p,2),x=h[0],m=h[1],O=Object(a.useState)([]),f=Object(d.a)(O,2),v=f[0],y=f[1],w=Object(a.useState)([]),C=Object(d.a)(w,2),S=C[0],T=C[1],B=Object(a.useState)(!1),I=Object(d.a)(B,2),E=I[0],D=I[1],U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),T(sessionStorage.getItem("sprintCompassUserRole")),e.next=4,g.FETCH_DATA("api/projects");case 4:t=e.sent,y(t.data.projects),D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){r(!1),j(""),m("")},N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return"Project Has Been Created",n={name:A,description:x},e.next=5,g.POST_DATA("api/projects",n,"Project Has Been Created");case 5:P(),U();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){U()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(le,{}),Object(b.jsxs)("section",{className:"projectBannerContainer",children:[Object(b.jsx)("div",{className:"teamImageContainer",children:Object(b.jsx)("img",{style:{width:"80%",maxWidth:"600px"},src:lt,alt:"ProjectSvg"})}),Object(b.jsxs)("div",{className:"projectImageContainer",children:[Object(b.jsxs)("div",{style:{fontSize:"45px",fontWeight:"bold",lineHeight:"1.2",marginBottom:"50px",width:"100%",textAlign:"center"},children:["Welcome to",Object(b.jsx)("br",{}),Object(b.jsx)("span",{style:{color:"#2D56B3"},children:"Run"}),Object(b.jsx)("span",{style:{color:"#515B60"},children:"time"})]}),("owner"===S||"admin"===S)&&Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsx)("div",{className:"teamButtons",onClick:function(){return r(!0)},children:"Create a Project"})})]})]}),E&&Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"projectHomeHeader",children:"Your Projects"}),Object(b.jsx)(dt.a,{hover:!0,style:{width:"80%",margin:"auto"},children:v.map((function(t,n){return Object(b.jsx)(dt.a.Item,{index:n,children:Object(b.jsxs)(te.a,{children:[Object(b.jsxs)(te.a.Item,{colspan:10,style:Object(u.a)(Object(u.a)({},pt),{},{flexDirection:"column",alignItems:"flex-start",overflow:"hidden"}),children:[Object(b.jsx)("div",{style:ht,children:t.name}),Object(b.jsxs)("div",{style:bt,children:[Object(b.jsx)("div",{children:"Description"}),Object(b.jsx)("div",{children:t.description})]})]}),Object(b.jsx)(te.a.Item,{colspan:6,style:pt,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:bt,children:"Project Lead"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(Y.a,{icon:"user-circle-o"}),"  ".concat(t.project_lead.firstname," ").concat(t.project_lead.lastname)]})]})}),Object(b.jsx)(te.a.Item,{colspan:5,style:pt,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:bt,children:"Start Date"}),Object(b.jsx)("div",{style:bt,children:t.created_at})]})}),Object(b.jsx)(te.a.Item,{colspan:3,style:Object(u.a)(Object(u.a)({},pt),{},{justifyContent:"center"}),children:Object(b.jsx)("div",{style:{cursor:"pointer",color:"#134069"},onClick:function(){return e.history.push("project/".concat(t._id))},children:"View"})})]})},t._id)}))})]}),0===v.length&&!E&&Object(b.jsx)("div",{style:{textAlign:"center"},children:"No Projects Found"}),Object(b.jsx)(Ae.a,{show:s,onHide:function(){P()},children:Object(b.jsx)(Ae.a.Body,{children:Object(b.jsx)("div",{className:"drawerBody",children:Object(b.jsxs)(_.a,{model:At,onSubmit:function(e){N(e)},children:[Object(b.jsx)("h5",{style:{textAlign:"center",marginBottom:"50px"},children:"Create a Project"}),Object(b.jsx)(jt,{name:"name",label:"Project Name",onChange:function(e){return j(e)}}),Object(b.jsx)(jt,{name:"description",label:"Description",onChange:function(e){return m(e)}}),Object(b.jsx)(rt.a,{children:Object(b.jsx)(k.a,{appearance:"primary",type:"submit",style:{width:"100%"},children:"Submit"})})]})})})})]})})),mt=n.p+"static/media/bio.c14203e2.svg",Ot=n.p+"static/media/git.8ed5ab3d.svg",ft=n.p+"static/media/organization.451cba29.svg",vt=(n(543),y.a.Types.StringType);function gt(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),u=c[0],A=c[1],j=Object(a.useState)(""),h=Object(d.a)(j,2),x=h[0],m=h[1],O=Object(a.useState)(""),f=Object(d.a)(O,2),v=(f[0],f[1]),w=Object(a.useState)(""),C=Object(d.a)(w,2),S=C[0],T=C[1],B=Object(a.useState)(""),I=Object(d.a)(B,2),E=I[0],D=I[1],U=Object(a.useState)(""),P=Object(d.a)(U,2),N=P[0],H=P[1],W=Object(a.useState)(!1),F=Object(d.a)(W,2),z=F[0],M=F[1],G=Object(a.useState)(),L=Object(d.a)(G,2),K=L[0],q=L[1],V=Object(a.useState)(!1),Y=Object(d.a)(V,2),J=Y[0],X=Y[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(d.a)(ne,2),se=ae[0],re=ae[1],ie=Object(a.useState)(null),ce=Object(d.a)(ie,2),oe=ce[0],le=ce[1],de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/users/getUserById/".concat(sessionStorage.getItem("sprintCompassUser")));case 2:200===(t=e.sent).status&&((n=t.data.user).disabled?(sessionStorage.removeItem("sprintCompassToken"),sessionStorage.removeItem("sprintCompassUser"),sessionStorage.removeItem("sprintCompassUserName"),sessionStorage.removeItem("sprintCompassUserRole"),window.open("/login","_self")):(n.first_login?q(0):n.git_token?q(3):q(2),r(t.data.user)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return X(!0),"Password Has Been Updated",n={old_password:u,new_password:x},e.next=6,g.UPDATE_DATA("api/users/update_password",n,"Password Has Been Updated");case 6:200===e.sent.status&&q(1),X(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==S||""!==E||""!==N){e.next=3;break}return q(2),e.abrupt("return");case 3:return"Profile Has Been Updated",t={position:S,phone:E,location:N},e.next=7,g.UPDATE_DATA("api/users/update_user",t,"Profile Has Been Updated");case 7:200===e.sent.status&&q(2);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("access_denied"===g.getQueryVariable("error")&&p.a.error({title:"Authorization Failed",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),!(t=g.getQueryVariable("code"))){e.next=7;break}return e.next=5,g.FETCH_DATA("gitauth/get_token?code=".concat(t),"Successfully authorized github");case 5:200===e.sent.status&&(q(3),n=window.location.origin+"/auth",window.history.pushState({},null,n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/git/getOrganizations","No Notification");case 2:t=e.sent,te(t.data.organizations);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.FETCH_DATA("gitauth/validateInvite","Congratulations!");case 2:200===t.sent.status&&e.history.push("/projects");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),xe=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(se&&oe){t.next=3;break}return p.a.error({title:"Missing Fields",description:Object(b.jsx)("div",{style:{width:220},rows:3}),placement:"topEnd"}),t.abrupt("return");case 3:return n={name:se,organization:oe},t.next=6,g.POST_DATA("api/users/addClient",n);case 6:200===t.sent.status&&e.history.push("/projects");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){3===K&&"owner"===(null===s||void 0===s?void 0:s.role)&&0===ee.length&&be()}),[K,s]),Object(a.useEffect)((function(){pe(),de()}),[]);return Object(b.jsx)("div",{style:{width:"80%",margin:"auto",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsxs)("div",{style:{width:"100%",height:"80vh"},children:[Object(b.jsxs)(qe.a,{current:K,children:[Object(b.jsx)(qe.a.Item,{title:"Change Password"}),Object(b.jsx)(qe.a.Item,{title:"Update Bio"}),Object(b.jsx)(qe.a.Item,{title:"Authorize Github"}),s&&"owner"===s.role?Object(b.jsx)(qe.a.Item,{title:"Choose Organization"}):Object(b.jsx)(qe.a.Item,{title:"Accept Organization Invite"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(Q.a,{style:{height:"60vh"},children:Object(b.jsxs)("section",{style:{display:"flex",height:"60vh"},children:[Object(b.jsxs)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:[0===K&&Object(b.jsx)("img",{style:{maxWidth:"550px"},src:R,alt:"passwordrenewimg"}),1===K&&Object(b.jsx)("img",{style:{maxWidth:"550px"},src:mt,alt:"profileimg"}),2===K&&Object(b.jsx)("img",{style:{maxWidth:"550px"},src:Ot,alt:"gitimg"}),3===K&&Object(b.jsx)("img",{style:{maxWidth:"550px"},src:ft,alt:"orgImg"})]}),Object(b.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[0===K&&Object(b.jsxs)(_.a,{model:y.a.Model({currentPassword:vt().isRequired("Current Password is required."),newPassword:vt().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:vt().addRule((function(e){return e===x}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){ue(e)},children:[Object(b.jsx)(yt,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){A(e)}}),Object(b.jsx)(yt,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){m(e)}}),Object(b.jsx)(yt,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){v(e)}}),Object(b.jsx)(k.a,{type:"submit",style:wt.update__button,disabled:J,children:"Update Password"})]}),1===K&&!!s&&Object(b.jsx)("div",{children:Object(b.jsxs)(_.a,{onSubmit:function(){return Ae()},children:[Object(b.jsx)(yt,{label:"Job Title",onChange:function(e){T(e)}}),Object(b.jsx)(yt,{label:"Phone",onChange:function(e){D(e)}}),Object(b.jsx)(yt,{label:"Location",onChange:function(e){H(e)}}),Object(b.jsx)(k.a,{type:"submit",style:wt.update__button,children:"Update Bio"})]})}),2===K&&Object(b.jsx)(k.a,{type:"submit",style:z?wt.disabled__button:wt.update__button,onClick:function(){M(!0);var e="https://github.com/login/oauth/authorize?client_id=".concat("9bf7686b61e73fbd065a","&scope=admin:org%20repo%20delete_repo");window.open(e,"_self")},disabled:z,children:"Authorize Github"}),3===K&&Object(b.jsxs)(b.Fragment,{children:[s&&"owner"===s.role&&Object(b.jsx)("div",{children:Object(b.jsxs)(_.a,{onSubmit:function(){return xe()},children:[Object(b.jsx)(yt,{label:"Organization Name",onChange:function(e){re(e)}}),Object(b.jsx)(je.a,{data:ee,onChange:function(e){return le(e)},block:!0,placeholder:"Select a Github Organization"}),Object(b.jsx)(k.a,{type:"submit",style:wt.update__button,children:"Submit"})]})}),s&&"owner"!==s.role&&Object(b.jsx)(Te.a,{showIcon:!0,type:"success",title:"Invitation Sent",description:Object(b.jsxs)(b.Fragment,{children:["We have sent you an email invitation to join the organization.",Object(b.jsx)("br",{}),"Please accept it and click finish."]})})]})]})]})}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{style:{float:"right"},children:3===K&&"owner"!==(null===s||void 0===s?void 0:s.role)&&Object(b.jsx)(k.a,{style:{background:"#193A5A",color:"#f5f5f5",width:"100px"},onClick:he,children:"Finish"})})]})})}function yt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var wt={update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"},disabled__button:{marginTop:"50px",background:"grey",color:"#f5f5f5",minWidth:"300px"},next__button:{background:"#193A5A",color:"#f5f5f5",float:"right",minWidth:"100px"}},Ct=n(56),St=n(103),_t=n(305),kt=n.n(_t),Tt=n(306),Bt=n.n(Tt),It=n.p+"static/media/imagePlaceHolder.f0421300.svg",Et=y.a.Types.StringType;function Dt(e){var t,n=Object(a.useState)(!1),s=Object(d.a)(n,2),r=s[0],i=s[1],c=Object(a.useState)(""),u=Object(d.a)(c,2),A=u[0],j=u[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=h[0],m=h[1],O=Object(a.useState)(!1),f=Object(d.a)(O,2),v=f[0],w=f[1],C=Object(a.useState)(!1),S=Object(d.a)(C,2),T=S[0],B=S[1],I=Object(a.useState)(null),E=Object(d.a)(I,2),D=E[0],U=E[1],P=Object(a.useState)(null),N=Object(d.a)(P,2),H=N[0],R=N[1],W=Object(a.useState)(""),Q=Object(d.a)(W,2),z=Q[0],M=Q[1],G=Object(a.useState)(""),L=Object(d.a)(G,2),K=L[0],q=L[1],V=Object(a.useState)(""),J=Object(d.a)(V,2),X=(J[0],J[1]),Z=function(e){return new Promise((function(t){Bt.a.imageFileResizer(e,800,800,"JPEG",100,0,(function(e){t(e)}),"base64")}))},$=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0]){e.next=8;break}return e.next=3,Z(t[0]);case 3:n=e.sent,(a=JSON.parse(JSON.stringify(H))).image=n,R(a),B(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.FETCH_DATA("api/users/getById/".concat(t));case 2:200===(n=e.sent).status&&R(n.data.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return w(!0),m(!1),n=Object(St.a)({},A.toLowerCase(),H[A.toLowerCase()]),a="".concat(A," Has Been Updated"),e.next=7,g.UPDATE_DATA("api/users",n,a);case 7:j(null),ee(D),w(!1),B(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return"Password Has Been Updated",n={old_password:z,new_password:K},e.next=5,g.UPDATE_DATA("api/users/change_password",n,"Password Has Been Updated");case 5:m(!1),j(null),ee(D),w(!1),B(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=window.location.pathname.split("/"),t=null;e.length>2?(t=e[2],i(!1)):(i(!0),t=sessionStorage.getItem("sprintCompassUser")),U(t),ee(t)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(le,{}),(!H||v)&&Object(b.jsx)("div",{style:{height:"70vh"},children:Object(b.jsx)(F.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},type:"ThreeDots",color:"#134069",height:50,width:50})}),H&&!v&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{style:Pt.main,children:[Object(b.jsxs)("section",{style:Pt.main__1,children:[H.image?Object(b.jsx)("img",{style:Pt.main__1__img,src:H.image,alt:"dp"}):Object(b.jsx)("img",{style:{maxWidth:"500px",display:"block",margin:"auto"},src:It,alt:"dp"}),r&&Object(b.jsx)("div",{style:Pt.change__image,onClick:function(){m(!0),j("Image")},children:"Change Image"})]}),Object(b.jsxs)("section",{style:Pt.main__2,children:[Object(b.jsx)("div",{style:Pt.name,children:"".concat(H.firstname," ").concat(H.lastname)}),Object(b.jsxs)("div",{style:Pt.profession,children:[H.position&&"".concat(H.position),r&&Object(b.jsx)("span",{style:Pt.change,onClick:function(){m(!0),j("Position")},children:H.position?"change":"Add Position"})]}),Object(b.jsxs)("section",{style:Pt.info,children:[Object(b.jsxs)("div",{style:Pt.attribute__container,children:[Object(b.jsx)(Y.a,{size:"2x",icon:"send",style:Pt.info__1}),Object(b.jsxs)("div",{style:Pt.info__2,children:["".concat(H.email),r&&Object(b.jsx)("span",{style:Pt.change,onClick:function(){m(!0),j("Email")},children:"change"})]})]}),Object(b.jsxs)("div",{style:Pt.attribute__container,children:[(H.phone||r)&&Object(b.jsx)(Y.a,{size:"2x",icon:"phone",style:Pt.info__1}),Object(b.jsxs)("div",{style:Pt.info__2,children:[H.phone&&"".concat(H.phone),r&&Object(b.jsxs)("span",{style:Pt.change,onClick:function(){m(!0),j("Phone")},children:[H.phone?"change":"Add Phone Number"," "]})]})]}),Object(b.jsxs)("div",{style:Pt.attribute__container,children:[(H.location||r)&&Object(b.jsx)(Y.a,{size:"2x",icon:"map-marker",style:Pt.info__1}),Object(b.jsxs)("div",{style:Pt.info__2,children:[H.location&&"".concat(H.location),r&&Object(b.jsx)("span",{style:Pt.change,onClick:function(){m(!0),j("Location")},children:H.location?"change":"Add Location"})]})]})]}),r&&Object(b.jsx)("div",{style:Pt.update__password,onClick:function(){m(!0),j("Password")},children:"Change Password"}),Object(b.jsx)(st.a,{style:{width:"250px",margin:"30px 0",background:"#134069",color:"#f5f5f5"},icon:Object(b.jsx)(Y.a,{style:{background:"#486b8c",color:"#f5f5f5"},icon:"send"}),placement:"left",children:"Send Message"})]})]}),Object(b.jsxs)(Ae.a,{show:x,onHide:function(){return m(!1)},children:[Object(b.jsx)(Ae.a.Header,{children:Object(b.jsxs)(Ae.a.Title,{children:["Add/Change ",A]})}),Object(b.jsxs)(Ae.a.Body,{style:Pt.drawer__body,children:["Image"===A&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(kt.a,{withIcon:!0,onChange:function(e,t){return $(e,t)},imgExtension:[".jpg",".png"],maxFileSize:2097152,buttonText:"Choose Image",label:"Maximum File Size: 2 mb, Accepted Formats: jpg, png"}),Object(b.jsxs)(k.a,{style:Pt.update__button,disabled:v||!T,onClick:function(){te(!!H.image)},children:["Update ",A]})]}),("Position"===A||"Email"===A||"Location"===A||"Phone"===A)&&Object(b.jsxs)(_.a,{model:y.a.Model(Object(St.a)({},A,Et().isRequired("".concat(A," is required.")))),onSubmit:function(e){te(e)},children:[Object(b.jsx)(Ut,{name:A,label:A,value:null!==(t=H[A.toLowerCase()])&&void 0!==t?t:"",onChange:function(e){var t=JSON.parse(JSON.stringify(H));t[A.toLowerCase()]=e,R(t)}}),Object(b.jsxs)(k.a,{type:"submit",style:Pt.update__button,disabled:v,children:["Update ",A]})]}),"Password"===A&&Object(b.jsxs)(_.a,{model:y.a.Model({currentPassword:Et().isRequired("Current Password is required."),newPassword:Et().addRule((function(e){return!(e.length<8)}),"Password must be atleast 8 characters long").isRequired("New Password is required."),confirmPassword:Et().addRule((function(e){return e===K}),"The two passwords do not match").isRequired("This field is required.")}),onSubmit:function(e){ne(e)},children:[Object(b.jsx)(Ut,{type:"password",name:"currentPassword",label:"Current Password",onChange:function(e){M(e)}}),Object(b.jsx)(Ut,{type:"password",name:"newPassword",label:"New Password",onChange:function(e){q(e)}}),Object(b.jsx)(Ut,{type:"password",name:"confirmPassword",label:"Confirm Password",onChange:function(e){X(e)}}),Object(b.jsx)(k.a,{type:"submit",style:Pt.update__button,disabled:v,children:"Update Password"})]})]})]})]})]})}function Ut(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var Pt={main:{display:"flex",height:"600px",width:"80%",maxWidth:"1400px",margin:"50px auto"},main__1:{width:"50%",margin:"auto"},main__1__img:{maxHeight:"100%",maxWidth:"80%",display:"block",margin:"auto"},main__2:{flex:1,marginLeft:"5%",display:"flex",alignContent:"center",flexWrap:"wrap"},name:{fontSize:"25px",fontWeight:"bold",width:"100%",margin:"5px 0"},profession:{fontSize:"15px"},info:{width:"100%",margin:"50px 0"},attribute__container:{display:"flex",margin:"25px 0"},info__1:{width:"50px"},info__2:{flex:1,fontSize:"17px"},change:{marginLeft:"5px",color:"blue",textDecoration:"underline",fontSize:"15px",cursor:"pointer"},change__image:{color:"blue",textDecoration:"underline",fontSize:"15px",marginTop:"15px",textAlign:"center",cursor:"pointer"},update__password:{color:"blue",textDecoration:"underline",fontSize:"15px",width:"100%",cursor:"pointer"},drawer__body:{display:"flex",justifyContent:"center",alignContent:"center",flexWrap:"wrap"},update__button:{marginTop:"50px",background:"#193A5A",color:"#f5f5f5",minWidth:"300px"}},Nt=(n(549),n(610)),Ht=(n(550),Ve.a.Column),Rt=Ve.a.HeaderCell,Wt=Ve.a.Cell,Ft=[{label:"Admin",value:"admin"},{label:"Member",value:"member"}];function Qt(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(-1),c=Object(d.a)(i,2),j=c[0],p=c[1],h=Object(a.useState)(null),x=Object(d.a)(h,2),m=x[0],O=x[1],f=Object(a.useState)(null),v=Object(d.a)(f,2),y=v[0],w=v[1],C=Object(a.useState)("asc"),S=Object(d.a)(C,2),_=S[0],T=S[1],B=Object(a.useState)(!1),I=Object(d.a)(B,2),E=I[0],D=I[1],U=Object(a.useState)(!1),P=Object(d.a)(U,2),N=P[0],H=P[1],R=Object(a.useState)(!1),W=Object(d.a)(R,2),Q=W[0],z=W[1],M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,g.FETCH_DATA("api/users","No Notification");case 3:t=e.sent,n=t.data.users.filter((function(e){if("owner"!==e.role.toLowerCase())return e})),r(n),z(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[]);var G=function(e){var t=e.rowData,n=e.dataKey,a=Object(A.a)(e,["rowData","dataKey"]);return Object(b.jsx)(Wt,Object(u.a)(Object(u.a)({},a),{},{style:{padding:8},children:Object(b.jsx)(at.a,{circle:!0,src:t[n]})}))},L=function(e){var t=e.rowData,n=e.dataKey,a=Object(A.a)(e,["rowData","dataKey"]),s=t[n]?"blue":"green",r=t[n]?"Disabled":"Active";return Object(b.jsx)(Wt,Object(u.a)(Object(u.a)({},a),{},{style:{margin:2,alignContent:"center"},children:Object(b.jsx)(ue.a,{color:s,children:r})}))},K=function(e){var t=e.rowData,n=Object(A.a)(e,["rowData"]),a=Math.trunc((!t.first_login+!!t.git_token+t.invitation_accepted)/3*100);return a=isNaN(a)?0:a,Object(b.jsx)(Wt,Object(u.a)(Object(u.a)({},n),{},{children:0===a?Object(b.jsx)("div",{style:{width:"35px"},children:Object(b.jsx)(Nt.a.Circle,{})}):100===a?Object(b.jsx)("div",{style:{width:"35px"},children:Object(b.jsx)(Nt.a.Circle,{percent:a,status:"success"})}):Object(b.jsx)("div",{style:{width:"35px"},children:Object(b.jsx)(Nt.a.Circle,{percent:a,strokeColor:"#ffc107"})})}))},q=function(e){return Object(b.jsx)(b.Fragment,{children:e?Object(b.jsx)(Y.a,{icon:"check-circle",style:{margin:5,color:"green"},size:"2x"}):Object(b.jsx)(Y.a,{icon:"close-circle",style:{margin:5,color:"red"},size:"2x"})})},V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"User Has Been Updated",t={id:y._id,role:j,disabled:N},e.next=4,g.UPDATE_DATA("api/users/updateUserById",t,"User Has Been Updated");case 4:D(!1),M();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Q?Object(b.jsx)(F.a,{type:"ThreeDots",color:"#134069",height:50,width:50}):Object(b.jsxs)(Ve.a,{width:1e3,height:600,data:m&&_?s.sort((function(e,t){var n=e[m],a=t[m];return"asc"===_?n.localeCompare(a):a.localeCompare(n)})):s,rowHeight:65,sortColumn:m,sortType:_,onSortColumn:function(e,t){O(e),T(t)},onRowClick:function(e){p(e.role),w(e),D(!0),H(e.disabled)},children:[Object(b.jsxs)(Ht,{width:100,fixed:!0,children:[Object(b.jsx)(Rt,{}),Object(b.jsx)(G,{dataKey:"git_avatar"})]}),Object(b.jsxs)(Ht,{width:200,fixed:!0,sortable:!0,children:[Object(b.jsx)(Rt,{style:zt.header,children:"First Name"}),Object(b.jsx)(Wt,{style:zt.cell,dataKey:"firstname"})]}),Object(b.jsxs)(Ht,{width:200,fixed:!0,sortable:!0,children:[Object(b.jsx)(Rt,{style:zt.header,children:"Last Name"}),Object(b.jsx)(Wt,{style:zt.cell,dataKey:"lastname"})]}),Object(b.jsxs)(Ht,{width:200,fixed:!0,sortable:!0,children:[Object(b.jsx)(Rt,{style:zt.header,children:"User Role"}),Object(b.jsx)(Wt,{style:zt.cell,dataKey:"role"})]}),Object(b.jsxs)(Ht,{width:100,children:[Object(b.jsx)(Rt,{style:zt.header,children:"Status"}),Object(b.jsx)(L,{dataKey:"disabled"})]}),Object(b.jsxs)(Ht,{width:150,children:[Object(b.jsx)(Rt,{style:zt.header,children:"Onboarding"}),Object(b.jsx)(K,{})]})]}),Object(b.jsxs)(Ae.a,{show:E,onHide:function(){D(!1)},children:[Object(b.jsx)(Ae.a.Header,{children:Object(b.jsx)(Ae.a.Title,{children:"User Information"})}),Object(b.jsxs)(Ae.a.Body,{children:[Object(b.jsxs)("div",{className:"user__info__container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"User Name"}),Object(b.jsxs)("div",{children:[null===y||void 0===y?void 0:y.firstname," ",null===y||void 0===y?void 0:y.lastname]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Account Activated"}),Object(b.jsx)("div",{children:q(!(null===y||void 0===y?void 0:y.first_login))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Github Authorized"}),Object(b.jsx)("div",{children:q(null===y||void 0===y?void 0:y.git_token)})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Joined Organization"}),Object(b.jsx)("div",{children:q(null===y||void 0===y?void 0:y.invitation_accepted)})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"rs-control-label",children:"User Role"}),Object(b.jsx)("section",{children:Object(b.jsx)(je.a,{style:{width:"150px"},data:Ft,placeholder:"User Role",value:j,cleanable:!1,onChange:function(e){return p(e)}})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"User Enabled"}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsx)(pe.a,{style:{width:"30px",textAlign:"center"},size:"lg",checked:!N,onChange:function(){return H(!N)}})})]})]}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsx)(k.a,{appearance:"primary",onClick:function(){return V()},style:{width:250},children:"Update User"})})]})]})]})}var zt={header:{color:"black"},cell:{color:"black"}},Mt=n.p+"static/media/admin.c410cff4.svg",Gt=y.a.Types.StringType,Lt=[{key:1,name:"Create User",icon:"user-plus"},{key:3,name:"Manage Users",icon:"setting"},{key:4,name:"App Settings",icon:"laptop"},{key:5,name:"Github Settings",icon:"github"},{key:6,name:"Reports",icon:"file-text-o"},{key:7,name:"Data Management",icon:"database"}];function Kt(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(le,{}),Object(b.jsxs)("section",{className:"adminContainer",children:[Object(b.jsx)("section",{className:"adminContainer__1",children:Lt.map((function(e){return Object(b.jsx)(qt,{function:e,active:e.key===n,makeActiveKey:function(){return s(e.key)}},e.key)}))}),Object(b.jsxs)("section",{className:"adminContainer__2",children:[0===n&&Object(b.jsx)("section",{className:"adminHome",children:Object(b.jsx)("img",{src:Mt,alt:"adminSvg"})}),1===n&&Object(b.jsxs)("section",{className:"functionContainer",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:Mt,alt:"adminSvg"})}),Object(b.jsx)("div",{children:Object(b.jsx)(Vt,{})})]}),3===n&&Object(b.jsx)("div",{children:Object(b.jsx)(Qt,{})})]})]})]})}var qt=function(e){return Object(b.jsxs)("section",{className:"functionCard",onClick:e.makeActiveKey,style:{color:e.active?"#134069":""},children:[Object(b.jsx)("div",{children:Object(b.jsx)(Y.a,{icon:e.function.icon,size:"2x"})}),Object(b.jsx)("div",{style:{fontWeight:e.active?700:500},children:e.function.name})]})},Vt=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(d.a)(r,2),c=i[0],u=i[1],A=Object(a.useState)(""),j=Object(d.a)(A,2),p=j[0],h=j[1],x=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return"Successfully Created the User",a={firstname:n,lastname:c,email:p},e.next=5,g.POST_DATA("api/users/create",a,"Successfully Created the User");case 5:200===e.sent.status?(s(""),u(""),h("")):h("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(_.a,{className:"addUserForm",model:Jt,onSubmit:function(e){x(e)},children:[Object(b.jsx)(Yt,{name:"firstname",label:"First Name",value:n,onChange:function(e){return s(e)}}),Object(b.jsx)(Yt,{name:"lastname",label:"Last Name",value:c,onChange:function(e){return u(e)}}),Object(b.jsx)(Yt,{name:"email",label:"Email",value:p,onChange:function(e){return h(e)}}),Object(b.jsx)(Te.a,{showIcon:!0,type:"info",title:"Did you know?",description:"The new user will get an email with the temperory password"}),Object(b.jsx)(k.a,{appearance:"primary",type:"submit",style:{width:"100%",marginTop:"20px"},disabled:!n||!c||!p,children:"Create User"})]})};function Yt(e){var t=e.name,n=e.label,a=e.accepter,s=e.type,r=Object(A.a)(e,["name","label","accepter","type"]);return Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(C.a,{children:[n," "]}),Object(b.jsx)(S.a,Object(u.a)({name:t,type:s,accepter:a},r))]})}var Jt=y.a.Model({firstname:Gt().isRequired("First Name is required."),lastname:Gt().isRequired("Last Name is required."),email:Gt().isEmail("Please enter a valid email address.").isRequired("Email is required.")}),Xt=n(307),Zt=n.n(Xt);n(587);var $t=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{className:"ch__profile",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:e.currentuser.git_avatar,alt:"profilepic"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{fontSize:20,fontWeight:"bold",marginBottom:5},children:"".concat(e.currentuser.firstname,"  ").concat(e.currentuser.lastname)}),Object(b.jsx)("div",{children:e.currentuser.position})]})]}),Object(b.jsxs)("section",{className:"ch__list",children:[Object(b.jsx)("div",{style:{fontSize:17,fontWeight:"bold",margin:"30px 0",textAlign:"center"},children:"Active Conversations"}),e.chatGroups.map((function(t,n){return Object(b.jsx)(en,{user:t.users.find((function(t){return t._id!==e.currentuser._id})),chatGroup:t,selectedChatGroup:e.selectedChatGroup,select:function(t){return e.selectChatGroup(t)},currentuserid:e.currentuser._id},n)}))]})]})};function en(e){var t,n=e.user,a=e.chatGroup,s=e.selectedChatGroup,r=e.select,i=e.currentuserid,c=(null===s||void 0===s?void 0:s._id)!==a._id&&!a.seen_by.find((function(e){return e===i}));return Object(b.jsxs)("section",{className:"user__item",style:{background:(null===s||void 0===s?void 0:s._id)===a._id?"#edf0f5":"none"},onClick:function(){return r(a)},children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:null!==(t=n.git_avatar)&&void 0!==t?t:"data:image/jpeg;base64,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OOOuOOOeOOOO+OOOOuO+CG+Kqm66+S8++a+++8u8+++W+++6++++q+++++CWq+eeuCu++u++++e++6+O2+auq++2ei+u+e2+CW6+q2+yy2+++++++6++++22++6+++++2+++2+CSmaumySy+e6+++e+++++++++6+++++6+++22+CG6yeWy+2e+++2+++6++++++2+++6++++2++++CGKCimuWeCuuK6S++Gii2eWCSuKyCWuiqi2O2+CWu66+uuu+++++++++++++++++++++++++++++CW66u++q+e++++e++6uu++m+++6+e+++Ou++2+CW66666m22662++6gixyn726+66+2+6y++222+CWKy++a2++8++++QgAAAAgc+2+u+6++++6++++CGuuu+euueu+++hAAAAAAABUu++u+++8u+++++Ce+66+++6+++++AQAQQAAAA+++++++++++++++CW6++++q+++++sAAAAAAAAA2++u+++++++++e+CGWi+uee222u+qrAAAAAAAAr+u6+2++e+2+e++CWqOq6Oy++8+++qAAAAAAAAUe+++u+++6+++++CW+u+++u+e++++uMEMEAEEa+++++++++++++++CW++6e+++++++++cIAAAAZ/+++++++++++++++CWqq6+6i+26629rRokPMin52m2W6+Wyq6+a6e+CW6+uu2+u+c+wiAAyd1WLBAQy0++u+++++2+++CeuOuuOO+OsrAAAAAAAAAAAAALG+eeuuuu+Oe+CW+++6++++ybAAAAAAAAAAAAAQ5++W+++6++++CW+6u++u+e8AAAAAAAAAAAAAAAA+++++++8+2+CaKK62uK62zAAAAAAAAAAAAAAAQa+e+u6++ue+CWKy6+a2+KJAAAAAAAAAAAAAAAAJu++++6+8++CW++ue+W+OiAAAAAAAAAAAAAAAAee2++u6++2+Ce+66m++++/ouPXJ1B9pVpfPPq8/8AnvvvrvvvvgluvvvvqvvvvvvvvvvvvtunvuvpvvsvuvvtunvglrrqvjjrnprvquvrvrvvnnnvvvrunrrrvvnnvglonqvjtvtuPNtvvvvuvvvvtvvPvrtuvuuvvvvglvvvmvnvvtvvvuvvvvuvvvvsvvvvtvvvuvvvvglvruvvuvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvg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",alt:"profilepic"})}),Object(b.jsx)("div",{style:{fontWeight:c?"bold":300},children:"".concat(n.firstname," ").concat(n.lastname)})]})}var tn=n(308),nn=n.p+"static/media/chat.eac19e8d.svg",an=sessionStorage.getItem("sprintCompassUser");var sn=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],i=function(){e.socket.emit("sendMessage",{author:an,group_id:e.selectedChatGroup._id,content:s}),r("")};return Object(b.jsx)(b.Fragment,{children:e.selectedChatGroup?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:"chat__section",children:[Object(b.jsx)("section",{className:"scrollable",id:"scrollableDiv",style:{height:"87%",overflow:"auto",display:"flex",flexDirection:"column-reverse"},children:Object(b.jsx)(tn.a,{dataLength:e.chatHistory.length,next:function(){},style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:!1,loader:Object(b.jsx)("h5",{children:"Loading..."}),scrollableTarget:"scrollableDiv",children:e.chatHistory.map((function(e,t){return Object(b.jsx)(rn,{message:e},t)}))})}),Object(b.jsxs)("section",{className:"chat__send",children:[Object(b.jsx)(I.a,{placeholder:"Enter your message here",value:s,onChange:function(e,t){r(e)},onPressEnter:function(){return i()},style:{width:"80%",height:"45px",border:"1px solid #d4d4d4"}}),Object(b.jsx)(rt.a,{children:Object(b.jsx)(st.a,{style:{width:"130px",height:"45px",background:"#134069",color:"#f5f5f5"},icon:Object(b.jsx)(Y.a,{icon:"send",style:{height:"45px",background:"#134069",color:"#f5f5f5"}}),placement:"right",onClick:function(){return i()},children:"Send"})})]})]})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"chat__section",children:Object(b.jsx)("section",{className:"chat__section__empty",children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:nn,alt:"chatsvg"})})})})})})};function rn(e){var t=e.message,n=t.author,a=t.content,s=n._id===an;return Object(b.jsxs)("section",{className:"msg__component",style:{flexDirection:s?"row-reverse":"row"},children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:n.git_avatar,alt:"profilepic"})}),Object(b.jsx)("div",{className:"msg",style:{background:s?"#134069":"#FEFDFF",color:s?"#f5f5f5":"#575757"},children:a})]})}var cn=function(){return Object(b.jsx)("div",{})},on=sessionStorage.getItem("sprintCompassUser");var ln=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],o=i[1],l=Object(a.useState)(!0),u=Object(d.a)(l,2),A=u[0],j=u[1],p=Object(a.useState)(null),h=Object(d.a)(p,2),x=h[0],m=h[1],O=Object(a.useState)(null),f=Object(d.a)(O,2),v=f[0],g=f[1],y=Object(a.useState)([]),w=Object(d.a)(y,2),C=w[0],S=w[1],_=Object(a.useRef)(null);Object(a.useEffect)((function(){_.current=v,v&&x.emit("getChatHistory",{chatGroup:v._id,user_id:on})}),[v]),Object(a.useEffect)((function(){k()}),[]);var k=function(){try{var e=Zt.a.connect("http://localhost:5000/",{forceNew:!0,transports:["websocket"]});e.emit("getChatGroups",{user_id:on}),e.on("receiveChatGroup",(function(e){var t=e.chatgroups,n=e.current_user;o(t),s(n),j(!1)})),e.on("receiveChatHistory",(function(t){var n,a=t.chatGroupId,s=t.messages;e.emit("getChatGroups",{user_id:on}),(null===(n=_.current)||void 0===n?void 0:n._id)===a&&(S(s),s.length>0&&e.emit("msg_seen",{chatGroup:a,user_id:on}))})),m(e)}catch(t){console.log("socket error")}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(le,{}),Object(b.jsxs)("section",{className:"collaborate__home",children:[Object(b.jsx)("section",{className:"ch__1",children:A?Object(b.jsx)("section",{className:"loader__section",children:Object(b.jsx)(F.a,{type:"ThreeDots",color:"#134069",height:50,width:50})}):Object(b.jsx)($t,{chatGroups:c,currentuser:n,selectedChatGroup:v,selectChatGroup:function(e){g(e)}})}),Object(b.jsx)("section",{className:"ch__2",children:Object(b.jsx)(sn,{selectedChatGroup:v,chatHistory:C,socket:x})}),Object(b.jsx)("section",{className:"ch__3",children:Object(b.jsx)(cn,{})})]})]})};function dn(){return Object(b.jsx)(Ct.a,{children:Object(b.jsxs)(E.d,{children:[Object(b.jsx)(E.b,{path:"/login",render:function(){return Object(b.jsx)(N,{})}}),Object(b.jsx)(E.b,{path:"/runtime_demo",render:function(){return Object(b.jsx)(H,{})}}),Object(b.jsx)(E.b,{path:"/ResetPassword",render:function(){return Object(b.jsx)(M,{})}}),Object(b.jsx)(L,{path:"/myprojects",component:un}),Object(b.jsx)(L,{exact:!0,path:"/projects",component:xt}),Object(b.jsx)(L,{exact:!0,path:"/project/:id",component:ot}),Object(b.jsx)(L,{path:"/profile",component:Dt}),Object(b.jsx)(L,{path:"/admin",component:Kt}),Object(b.jsx)(L,{path:"/collaborate",component:ln}),Object(b.jsx)(K,{path:"/auth",component:gt})]})})}var un=function(){return Object(b.jsx)("div",{children:"rere"})},An=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,631)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(dn,{}),document.getElementById("root")),An()},88:function(e,t,n){}},[[588,1,2]]]);
//# sourceMappingURL=main.4463a03c.chunk.js.map